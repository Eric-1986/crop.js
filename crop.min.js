var crop=crop||{};!function(){"use strict";function t(){}var e={simulation:{time:{startDate:"1991-01-01",endDate:"1992-12-31"},switches:{useSecondaryYieldOn:!1,nitrogenResponseOn:!0,waterDeficitResponseOn:!0},init:{percentageFC:1}},site:{latitude:52.2,slope:0,heightNN:1,horizons:[{thickness:.2,organicMatter:.05,sand:.6,clay:.05,sceleton:.02},{thickness:.5,organicMatter:.05,sand:.6,clay:.05,sceleton:.02},{thickness:2,organicMatter:.05,sand:.6,clay:.05,sceleton:.02}]},production:{crops:[{name:"winter rye",sowingDate:"1991-10-01",plantDryWeight:225,percNTRansplant:.07,finalHarvestDate:"1992-08-01",residuesRemoval:.85,tillageOperations:[{date:"1991-09-01",method:"Plough",depth:30}],irrigations:[{date:"1992-06-01",method:"Sprinkler",eventType:"Fixed",threshold:.2,area:1,amount:5,NConc:0}],organicFertilisers:[{name:"cattle slurry",date:"1992-05-01",method:"Fixed",amount:30}],mineralFertilisers:[{name:"Ammonium Nitrate",date:"1992-04-01",method:"Fixed",amount:40}]}]}},a="object"==typeof process&&"function"==typeof require,i=("object"==typeof window,"function"==typeof importScripts),r=!1,o=!0,n={INFO:0,WARN:1,ERROR:2,DEBUG:3},_=0,c=1,s=2,p=Math.abs,l=Math.acos,u=Math.asin,f=Math.atan,d=Math.ceil,v=Math.cos,g=Math.exp,m=Math.floor,S=function(t){return 0|t},y=Math.log,h=function(t){return Math.log(t)/Math.LN10},M=Math.max,O=Math.min,C=Math.pow,A=Math.round,N=function(t,e){return parseFloat(e.toFixed(t))},D=Math.sin,w=Math.sqrt,P=function(t){return t.reduce(function(t,e){return t+e})},R=Math.tan,F=Math.PI,T=864e5,H=3600,I=1e4,b=5e5/.218,x=.85,L=.95,B=.55,E=.44,G=.4,U=.44,k=.42,V=.53,Y=.67,W=.6*E+.2*G+.2*Y,q=.7*U+.3*k,K=V,z=.16,J={PO_UREAMOLECULARWEIGHT:.06006,PO_UREA_TO_N:.46667,PO_NH3MOLECULARWEIGHT:.01401,PO_NH4MOLECULARWEIGHT:.01401,PO_H2OIONCONCENTRATION:1,PO_PKAHNO2:3.29,PO_PKANH3:6.5,PO_SOM_TO_C:.57,PO_AOM_TO_C:.45},j={TMIN:0,TMAX:1,TAVG:2,GLOBRAD:3,WIND:4,PRECIP:5,SUNHOURS:6,RELHUMID:7,DAYLENGTH:8,F_DIRECTRAD:9,ISODATESTRING:10,DOY:11,EXRAD:12};Date.prototype.isValid=function(){return"Invalid Date"!==this.toDateString()},Date.prototype.isLeapYear=function(){return 366===d((new Date(this.getFullYear()+1,0,1)-new Date(this.getFullYear(),0,1))/T)};var X=function(t,e){if(i){if(t!==n.INFO||o)switch("object"==typeof e&&(e=JSON.stringify(e,null,2)),t){case n.INFO:postMessage({info:e});break;case n.WARN:postMessage({warn:e});break;case n.ERROR:postMessage({error:e});break;case n.DEBUG:postMessage({debug:e});break;default:postMessage({msg:e})}}else if(t!==n.INFO||o)switch("object"==typeof e&&(e=JSON.stringify(e,null,2)),t){case n.INFO:console.log("info: "+e);break;case n.WARN:console.log("warn: "+e);break;case n.ERROR:console.log("error: "+e);break;case n.DEBUG:console.log("debug: "+e);break;default:console.log(e)}},Z=function(t,e){if(r){var a=Array.prototype.slice.call(t),i=0,o=0,_=e||"",c=function(t){return t instanceof Function?!1:"object"==typeof t?null===t||void 0===t:"string"==typeof t||"boolean"===t?null===t||void 0===t:isNaN(t)||null===t||void 0===t||1/0===t},s=function(t){X(n.DEBUG,_+" args: "+JSON.stringify(t,null,2))};for(i=0,o=a.length;o>i;i++){var p=a[i];if(p&&"object"==typeof p){if(Array.isArray(p))p.forEach(function(t){if(t&&"object"==typeof t){if(Q(t)){for(i=0,o=p.length;o>i;i++)if(c(p[i]))throw s(p),new Error(p)}else if(Array.isArray(t))t.forEach(function(e){if(c(e))throw s(t),new Error(e)});else for(var e in t)if(t.hasOwnProperty(e)&&c(t[e]))throw s(t),new Error(e)}else if(c(t))throw s(p),new Error(t)});else if(Q(p)){for(i=0,o=p.length;o>i;i++)if(c(p[i]))throw s(p),new Error(p)}else for(var l in p)if(p.hasOwnProperty(l)&&c(p[l]))throw s(p),new Error(p)}else if(c(p))throw s(a),new Error(p)}}},Q=function(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float64Array||t instanceof Float64Array},$=function(){return r?"object"!=typeof arguments[0]||void 0===arguments[0].length||Array.isArray(arguments[0])||Q(arguments[0])?void(2===arguments.length?("string"==typeof arguments[1]&&X(n.DEBUG,arguments[1]+" = "+("object"==typeof arguments[0]?JSON.stringify(arguments[0],null,1):arguments[0])),"string"==typeof arguments[0]&&X(n.DEBUG,arguments[0]+" = "+("object"==typeof arguments[1]?JSON.stringify(arguments[1],null,1):arguments[1]))):"string"==typeof arguments[0]?X(n.DEBUG,arguments[0]):X(n.DEBUG,arguments[0])):Z(arguments[0],arguments[1]):void 0},te={texture2KA5:function(t,e){t=100*t,e=100*e;var a="",i=100-(t+e);if(t+e+i!=100)throw new Error("(sand + clay + silt) != 100: "+(t+e+i));return a=5>=e?10>=i?"Ss":25>=i?"Su2":40>=i?"Su3":50>=i?"Su4":80>=i?"Us":"Uu":8>=e?10>=i?"St2":25>=i?"Sl2":40>=i?"Su3":50>=i?"Su4":80>=i?"Us":"Uu":12>=e?10>=i?"St2":40>=i?"Sl3":50>=i?"Slu":65>=i?"Uls":"Ut2":17>=e?10>=i?"St2":40>=i?"Sl4":50>=i?"Slu":65>=i?"Uls":"Ut3":25>=e?15>=i?"St3":30>=i?"Ls4":40>=i?"Ls3":50>=i?"Ls2":65>=i?"Lu":"Ut4":30>=e?15>=i?"Ts4":30>=i?"Lts":50>=i?"Lt2":65>=i?"Lu":"Tu4":35>=e?15>=i?"Ts4":30>=i?"Lts":50>=i?"Lt2":65>=i?"Tu3":"Tu4":45>=e?15>=i?"Ts3":30>=i?"Lts":50>=i?"Lt3":"Tu3":65>=e?15>=i?"Ts2":30>=i?"Tl":"Tu2":"Tt"},KA52sand:function(t){var e=0;return e="fS"==t?.84:"fSms"==t?.86:"fSgs"==t?.88:"gS"==t?.93:"mSgs"==t?.96:"mSfs"==t?.93:"mS"==t?.96:"Ss"==t?.93:"Sl2"==t?.76:"Sl3"==t?.65:"Sl4"==t?.6:"Slu"==t?.43:"St2"==t?.84:"St3"==t?.71:"Su2"==t?.8:"Su3"==t?.63:"Su4"==t?.56:"Ls2"==t?.34:"Ls3"==t?.44:"Ls4"==t?.56:"Lt2"==t?.3:"Lt3"==t?.2:"LtS"==t?.42:"Lu"==t?.19:"Uu"==t?.1:"Uls"==t?.3:"Us"==t?.31:"Ut2"==t?.13:"Ut3"==t?.11:"Ut4"==t?.09:"Utl"==t?.19:"Tt"==t?.17:"Tl"==t?.17:"Tu2"==t?.12:"Tu3"==t?.1:"Ts3"==t?.52:"Ts2"==t?.37:"Ts4"==t?.62:"Tu4"==t?.05:"L"==t?.35:"S"==t?.93:"U"==t?.1:"T"==t?.17:"HZ1"==t?.3:"HZ2"==t?.3:"HZ3"==t?.3:"Hh"==t?.15:"Hn"==t?.15:.66},KA52clay:function(t){var e=0;return"fS"==t?e=.02:"fSms"==t?e=.02:"fSgs"==t?e=.02:"gS"==t?e=.02:"mSgs"==t?e=.02:"mSfs"==t?e=.02:"mS"==t?e=.02:"Ss"==t?e=.02:"Sl2"==t?e=.06:"Sl3"==t?e=.1:"Sl4"==t?e=.14:"Slu"==t?e=.12:"St2"==t?e=.11:"St3"==t?e=.21:"Su2"==t?e=.02:"Su3"==t?e=.04:"Su4"==t?e=.04:"Ls2"==t?e=.21:"Ls3"==t?e=.21:"Ls4"==t?e=.21:"Lt2"==t?e=.3:"Lt3"==t?e=.4:"Lts"==t?e=.35:"Lu"==t?e=.23:"Uu"==t?e=.04:"Uls"==t?e=.12:"Us"==t?e=.04:"Ut2"==t?e=.1:"Ut3"==t?e=.14:"Ut4"==t?e=.21:"Utl"==t?e=.23:"Tt"==t?e=.82:"Tl"==t?e=.55:"Tu2"==t?e=.55:"Tu3"==t?e=.37:"Ts3"==t?e=.4:"Ts2"==t?e=.55:"Ts4"==t?e=.3:"Tu4"==t?e=.3:"L"==t?e=.31:"S"==t?e=.02:"U"==t?e=.04:"T"==t?e=.82:"HZ1"==t?e=.15:"HZ2"==t?e=.15:"HZ3"==t?e=.15:"Hh"==t?e=.1:"Hn"==t&&(e=.1),e},ld_eff2trd:function(t,e){var a=0;switch(t){case 1:a=1.3;break;case 2:a=1.5;break;case 3:a=1.7;break;case 4:a=1.9;break;case 5:a=2.1;break;default:a=1.7}return a-.9*e},saxton:function(t,e,a,i){function r(t,e){var a=(y(1500)-y(33))/(y(t)-y(e));return 1/a}function o(t,e,a){return t+e-.097*a+.043}function n(t,e,a){var i=-.251*t+.195*e+.011*a+.006*t*a-.027*e*a+.452*t*e+.299;return i+(1.283*C(i,2)-.374*i-.015)}function _(t,e,a){var i=.278*t+.034*e+.022*a-.018*t*a-.027*e*a-.584*t*e+.078;return i+(.636*i-.107)}function c(t,e,a){var i=-.024*t+.487*e+.006*a+.005*t*a-.013*e*a+.068*t*e+.031;return i+(.14*i-.02)}var s=n(t,e,0),p=_(t,e,0),l=o(s,p,t),u=c(t,e,0),f=2.65*(1-l),d=100*t,v=100*e,m=C(d,2),S=C(v,2),M=g(-4.396-.0715*v-488e-6*m-4285e-8*m*v),O=-3.14-.00222*S-3484e-8*m*v,A=.332-7251e-7*d+.1276*h(v),N=C(.3333/M,1/O),D=C(15/M,1/O),w=2.65*(1-A);return{saxton_06:{FC:s*(1-i),theta_S33:p,PWP:u*(1-i),S:l*(1-i),BD:1e3*f,lambda:r(s,u)},saxton_86:{FC:N*(1-i),SAT:A*(1-i),PWP:D*(1-i),BD:1e3*w}}},texture2lambda:function(t,e){return 2*t*t*.575+.1*e+.35*(1-t-e)},soilCharacteristicsKA5:function(t){X(n.INFO,"Read soil characteristics from KA5");var e=t.vs_SoilTexture,a=t.vs_SoilStoneContent,i=0,r=0,o=0;if(""!==e){var _=t.vs_SoilRawDensity()/1e3,c=100*t.vs_SoilOrganicMatter(),s=0,p=0;1.1>_?(s=1.1,p=1.1):_>=1.1&&1.3>_?(s=1.1,p=1.3):_>=1.3&&1.5>_?(s=1.3,p=1.5):_>=1.5&&1.7>_?(s=1.5,p=1.7):_>=1.7&&1.9>_?(s=1.7,p=1.9):_>=1.9&&(s=1.9,p=1.9),("Hh"==e||"Hn"==e)&&(s=-1,p=-1);var l=Tools.readPrincipalSoilCharacteristicData(e,s),u=l.sat,f=l.fc,d=l.pwp,v=Tools.readPrincipalSoilCharacteristicData(e,p),g=v.sat,m=v.fc,S=v.pwp;if(l.initialized&&v.initialized){var y=0,h=0;c>=0&&1>c?(y=0,h=0):c>=1&&1.5>c?(y=0,h=1.5):c>=1.5&&3>c?(y=1.5,h=3):c>=3&&6>c?(y=3,h=6):c>=6&&11.5>c?(y=6,h=11.5):c>=11.5&&(y=11.5,h=11.5),("Hh"==e||"Hn"==e)&&(y=0,h=0);var M=0,O=0,C=0;0!==y&&(l=Tools.readSoilCharacteristicModifier(e,y),O=l.sat,M=l.fc,C=l.pwp);var A=0,N=0,D=0;0!==h&&(v=Tools.readSoilCharacteristicModifier(e,h),N=v.sat,A=v.fc,D=v.pwp);var w=f;.5>m&&f>=1?w=f:.5>f&&m>=1?w=m:p!=s&&(w=(_-s)/(p-s)*(m-f)+f);var P=u;.5>g&&u>=1?P=u:.5>u&&g>=1?P=g:p!=s&&(P=(_-s)/(p-s)*(g-u)+u);var R=d;.5>S&&d>=1?R=d:.5>d&&S>=1?R=S:p!=s&&(R=(_-s)/(p-s)*(S-d)+d);var F=M,T=O,H=C;h!=y&&(F=(c-y)/(h-y)*(A-M)+M,T=(c-y)/(h-y)*(N-O)+O,H=(c-y)/(h-y)*(D-C)+C),i=(w+F)/100,r=(P+T)/100,o=(R+H)/100,i*=1-a,r*=1-a,o*=1-a}}t.vs_FieldCapacity=i,t.vs_Saturation=r,t.vs_PermanentWiltingPoint=o},readPrincipalSoilCharacteristicData:function(t,e){for(var a=function(t){this.sat=0,this.fc=0,this.pwp=0,this.initialized=void 0===t?!1:t},i=(_e.columns,_e.rows),r={},o=0,n=i.length;n>o;o++){var _=i[o];if(_.soil_type===t){var c=_.air_capacity,s=_.field_capacity,p=_.n_field_capacity,l=new a(!0);l.sat=c+s,l.fc=s,l.pwp=s-p,void 0===r[t]&&(r[t]={}),r[t][S(_["soil_raw_density*10"])]=l}}var u=S(10*e);if(r[t][u])return r[t][u];for(;!r[t][u]&&u>=11&&19>=u;)u+=15>u?1:-1;return r[t][u]?r[t][u]:new a},readSoilCharacteristicModifier:function(t,e){for(var a=function(t){this.sat=0,this.fc=0,this.pwp=0,this.initialized=void 0===t?!1:t},i=(ce.columns,ce.rows),r={},o=0,n=i.length;n>o;o++){var _=i[o];if(_.soil_type===t){var c=_.air_capacity,s=_.field_capacity,p=_.n_field_capacity,l=new a(!0);l.sat=c+s,l.fc=s,l.pwp=s-p,void 0===r[t]&&(r[t]={}),r[t][S(_.organic_matter)]=l}}var u=S(10*e);return r[t][u]?r[t][u]:new a},sunshine2globalRadiation:function(t,e,a,i){var r=4*f(1),o=-23.4*v(2*r*(t+10)/365),n=D(o*r/180)*D(a*r/180),_=v(o*r/180)*v(a*r/180),c=12*(r+2*u(n/_))/r,s=12*(r+2*u((-D(8*r/180)+n)/_))/r,p=3600*(n*c+24/r*_*w(1-n/_*(n/_))),l=1300*p*g(-.14/(p/(3600*c))),d=.2*l,m=e/s*l+(1-e/s)*d,S=m/1e4;return i?S/100:S}},ee=function(t,e){this.nitrateConcentration=t||0,this.sulfateConcentration=e||0},ae=function(){this.vo_AOM_Slow=0,this.vo_AOM_Fast=0,this.vo_AOM_SlowDecRate=0,this.vo_AOM_FastDecRate=0,this.vo_AOM_SlowDecCoeff=0,this.vo_AOM_FastDecCoeff=0,this.vo_AOM_SlowDecCoeffStandard=1,this.vo_AOM_FastDecCoeffStandard=1,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=0,this.vo_CN_Ratio_AOM_Slow=1,this.vo_CN_Ratio_AOM_Fast=1,this.vo_DaysAfterApplication=0,this.vo_AOM_DryMatterContent=0,this.vo_AOM_NH4Content=0,this.vo_AOM_SlowDelta=0,this.vo_AOM_FastDelta=0,this.incorporation=!1},ie=function(){this._ps_LayerThickness=.1,this.ps_ProfileDepth=2,this.ps_LayerThickness=new Float64Array(20),this.ps_MaxMineralisationDepth=.4,this.pc_NitrogenResponseOn=!0,this.pc_WaterDeficitResponseOn=!0,this.pc_LowTemperatureStressResponseOn=!1,this.pc_HighTemperatureStressResponseOn=!0,this.pc_EmergenceFloodingControlOn=!1,this.pc_EmergenceMoistureControlOn=!1;for(var t=0;t<this.ps_LayerThickness.length;t++)this.ps_LayerThickness[t]=this._ps_LayerThickness;this.ps_NumberOfLayers=function(){return 20}},re=function(){this.vs_Latitude=60,this.vs_Slope=.01,this.vs_HeightNN=50,this.vs_GroundwaterDepth=70,this.vs_Soil_CN_Ratio=10,this.vs_DrainageCoeff=1,this.vq_NDeposition=30,this.vs_MaxEffectiveRootingDepth=2},oe=function(){this.vs_SoilSandContent=.4,this.vs_SoilClayContent=.05,this.vs_SoilpH=6.9,this.vs_SoilStoneContent=-1,this.vs_Lambda=-1,this.vs_FieldCapacity=-1,this.vs_Saturation=-1,this.vs_PermanentWiltingPoint=-1,this.vs_SoilTexture="",this.vs_SoilAmmonium=-1,this.vs_SoilNitrate=-1,this._vs_SoilRawDensity=-1,this._vs_SoilBulkDensity=-1,this._vs_SoilOrganicCarbon=-1,this._vs_SoilOrganicMatter=-1,this.isValid=function(){var t=!0;return this.vs_FieldCapacity<=0&&(X(n.WARN,"SoilParameters::Error: No field capacity defined in database for "+this.vs_SoilTexture+" , RawDensity: "+this._vs_SoilRawDensity),t=!1),this.vs_Saturation<=0&&(X(n.WARN,"SoilParameters::Error: No saturation defined in database for "+this.vs_SoilTexture+" , RawDensity: "+this._vs_SoilRawDensity),t=!1),this.vs_PermanentWiltingPoint<=0&&(X(n.WARN,"SoilParameters::Error: No saturation defined in database for "+this.vs_SoilTexture+" , RawDensity: "+this._vs_SoilRawDensity),t=!1),this.vs_SoilSandContent<0&&(X(n.WARN,"SoilParameters::Error: Invalid soil sand content: "+this.vs_SoilSandContent),t=!1),this.vs_SoilClayContent<0&&(X(n.WARN,"SoilParameters::Error: Invalid soil clay content: "+this.vs_SoilClayContent),t=!1),this.vs_SoilpH<0&&(X(n.WARN,"SoilParameters::Error: Invalid soil ph value: "+this.vs_SoilpH),t=!1),this.vs_SoilStoneContent<0&&(X(n.WARN,"SoilParameters::Error: Invalid soil stone content: "+this.vs_SoilStoneContent),t=!1),this.vs_Saturation<0&&(X(n.WARN,"SoilParameters::Error: Invalid value for saturation: "+this.vs_Saturation),t=!1),this.vs_PermanentWiltingPoint<0&&(X(n.WARN,"SoilParameters::Error: Invalid value for permanent wilting point: "+this.vs_PermanentWiltingPoint),t=!1),t},this.vs_SoilRawDensity=function(){return 1e3*this._vs_SoilRawDensity},this.set_vs_SoilRawDensity=function(t){this._vs_SoilRawDensity=t},this.vs_SoilOrganicCarbon=function(){return this._vs_SoilOrganicMatter<0?this._vs_SoilOrganicCarbon:this._vs_SoilOrganicMatter*J.PO_SOM_TO_C},this.set_vs_SoilOrganicCarbon=function(t){this._vs_SoilOrganicCarbon=t},this.vs_SoilOrganicMatter=function(){return this._vs_SoilOrganicCarbon<0?this._vs_SoilOrganicMatter:this._vs_SoilOrganicCarbon/J.PO_SOM_TO_C},this.set_vs_SoilOrganicMatter=function(t){this._vs_SoilOrganicMatter=t},this.vs_SoilSiltContent=function(){return this.vs_SoilSandContent-.001<0&&this.vs_SoilClayContent-.001<0?0:1-this.vs_SoilSandContent-this.s_SoilClayContent},this.vs_SoilBulkDensity=function(){return this._vs_SoilRawDensity<0?this._vs_SoilBulkDensity:1e3*(this._vs_SoilRawDensity+.009*100*this.vs_SoilClayContent)},this.set_vs_SoilBulkDensity=function(t){this._vs_SoilBulkDensity=t},this.texture2lambda=function(t,e){return te.texture2lambda(t,e)}},ne=function(){this.userCropParameters={pc_Tortuosity:.002,pc_CanopyReflectionCoefficient:.08,pc_ReferenceMaxAssimilationRate:30,pc_ReferenceLeafAreaIndex:1.44,pc_MaintenanceRespirationParameter2:44,pc_MaintenanceRespirationParameter1:.08,pc_MinimumNConcentrationRoot:.005,pc_MinimumAvailableN:75e-6,pc_ReferenceAlbedo:.23,pc_StomataConductanceAlpha:40,pc_SaturationBeta:2.5,pc_GrowthRespirationRedux:.7,pc_MaxCropNDemand:6,pc_GrowthRespirationParameter2:38,pc_GrowthRespirationParameter1:.1},this.userEnvironmentParameters={p_MaxGroundwaterDepth:18,p_MinGroundwaterDepth:20,p_UseAutomaticIrrigation:!1,p_UseNMinMineralFertilisingMethod:!1,p_LayerThickness:.1,p_NumberOfLayers:20,p_StartPVIndex:0,p_Albedo:.23,p_AthmosphericCO2:380,p_WindSpeedHeight:2,p_UseSecondaryYields:!0,p_JulianDayAutomaticFertilising:74,p_timeStep:1,p_LeachingDepth:1.6,p_MinGroundwaterDepthMonth:3},this.userSoilMoistureParameters={pm_CriticalMoistureDepth:.3,pm_SaturatedHydraulicConductivity:8640,pm_SurfaceRoughness:.02,pm_HydraulicConductivityRedux:.1,pm_SnowAccumulationTresholdTemperature:1.8,pm_KcFactor:.75,pm_TemperatureLimitForLiquidWater:-3,pm_CorrectionSnow:1.14,pm_CorrectionRain:1,pm_SnowMaxAdditionalDensity:.25,pm_NewSnowDensityMin:.1,pm_SnowRetentionCapacityMin:.05,pm_RefreezeParameter2:.36,pm_RefreezeParameter1:1.5,pm_RefreezeTemperature:-1.7,pm_SnowMeltTemperature:.31,pm_SnowPacking:.01,pm_SnowRetentionCapacityMax:.17,pm_EvaporationZeta:40,pm_XSACriticalSoilMoisture:.1,pm_MaximumEvaporationImpactDepth:5,pm_MaxPercolationRate:10,pm_GroundwaterDischarge:3},this.userSoilTemperatureParameters={pt_SoilMoisture:.25,pt_NTau:.65,pt_InitialSurfaceTemperature:10,pt_BaseTemperature:9.5,pt_QuartzRawDensity:2650,pt_DensityAir:1.25,pt_DensityWater:1e3,pt_SpecificHeatCapacityAir:1005,pt_SpecificHeatCapacityQuartz:750,pt_SpecificHeatCapacityWater:4192,pt_SoilAlbedo:.7,pt_DensityHumus:1300,pt_SpecificHeatCapacityHumus:1920},this.userSoilTransportParameters={pq_DispersionLength:.049,pq_AD:.002,pq_DiffusionCoefficientStandard:214e-6},this.userSoilOrganicParameters={po_SOM_SlowDecCoeffStandard:43e-6,po_SOM_FastDecCoeffStandard:14e-5,po_SMB_SlowMaintRateStandard:.001,po_SMB_FastMaintRateStandard:.01,po_SMB_SlowDeathRateStandard:.001,po_SMB_FastDeathRateStandard:.01,po_SMB_UtilizationEfficiency:0,po_SOM_SlowUtilizationEfficiency:.4,po_SOM_FastUtilizationEfficiency:.5,po_AOM_SlowUtilizationEfficiency:.4,po_AOM_FastUtilizationEfficiency:.1,po_AOM_FastMaxC_to_N:1e3,po_PartSOM_Fast_to_SOM_Slow:.3,po_PartSMB_Slow_to_SOM_Fast:.6,po_PartSMB_Fast_to_SOM_Fast:.6,po_PartSOM_to_SMB_Slow:.015,po_PartSOM_to_SMB_Fast:2e-4,po_CN_Ratio_SMB:6.7,po_LimitClayEffect:.25,po_AmmoniaOxidationRateCoeffStandard:.1,po_NitriteOxidationRateCoeffStandard:.2,po_TransportRateCoeff:.1,po_SpecAnaerobDenitrification:.1,po_ImmobilisationRateCoeffNO3:.5,po_ImmobilisationRateCoeffNH4:.5,po_Denit1:.2,po_Denit2:.8,po_Denit3:.9,po_HydrolysisKM:.00334,po_ActivationEnergy:41e3,po_HydrolysisP1:4.259e-12,po_HydrolysisP2:1.408e-12,po_AtmosphericResistance:.0025,po_N2OProductionRate:.015,po_Inhibitor_NH3:1},this.capillaryRiseRates={map:{Su3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.005,7:.0035,8:.0028,9:.0022,10:.0017,11:.0014,12:.0012,13:9e-4,14:8e-4,15:7e-4,16:7e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:0,27:0},Sl3:{1:.0055,2:.0055,3:.0055,4:.005,5:.0025,6:.0016,7:.0011,8:7e-4,9:5e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Sl2:{1:.0055,2:.0055,3:.005,4:.0026,5:.0013,6:8e-4,7:5e-4,8:3e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Su4:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.005,8:.0039,9:.0029,10:.0023,11:.0018,12:.0015,13:.0012,14:9e-4,15:8e-4,16:8e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:0,27:0},Su2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.003,7:.0022,8:.0017,9:.0012,10:.001,11:8e-4,12:6e-4,13:5e-4,14:4e-4,15:3e-4,16:3e-4,17:2e-4,18:2e-4,19:2e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Sl4:{1:.0055,2:.0055,3:.0055,4:.005,5:.0036,6:.0024,7:.0016,8:.0012,9:8e-4,10:6e-4,11:4e-4,12:3e-4,13:2e-4,14:1e-4,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Slu:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0036,7:.0026,8:.0019,9:.0015,10:.0011,11:9e-4,12:7e-4,13:5e-4,14:4e-4,15:3e-4,16:3e-4,17:2e-4,18:2e-4,19:2e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},St2:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},St3:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},fS:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0033,7:.0022,8:.0014,9:9e-4,10:5e-4,11:3e-4,12:2e-4,13:1e-4,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},gS:{1:.0055,2:.005,3:.0014,4:5e-4,5:2e-4,6:1e-4,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},mS:{1:.0055,2:.0055,3:.005,4:.0016,5:9e-4,6:5e-4,7:3e-4,8:2e-4,9:1e-4,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ss:{1:.0055,2:.0055,3:.005,4:.0016,5:9e-4,6:5e-4,7:3e-4,8:2e-4,9:1e-4,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Us:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.005,8:.0041,9:.0033,10:.0027,11:.0022,12:.0018,13:.0015,14:.0012,15:.001,16:.001,17:7e-4,18:7e-4,19:7e-4,20:4e-4,21:4e-4,22:4e-4,23:4e-4,24:4e-4,25:1e-4,26:1e-4,27:0},Uu:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.0055,9:.0055,10:.005,11:.004,12:.0033,13:.0028,14:.0024,15:.002,16:.002,17:.0015,18:.0015,19:.0015,20:.001,21:.001,22:.001,23:.001,24:.001,25:5e-4,26:3e-4,27:1e-4},Uls:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.0055,9:.005,10:.0044,11:.0036,12:.003,13:.0026,14:.0022,15:.0019,16:.0019,17:.0014,18:.0014,19:.0014,20:9e-4,21:9e-4,22:9e-4,23:9e-4,24:9e-4,25:5e-4,26:3e-4,27:1e-4},Ut2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.005,9:.0035,10:.0028,11:.0023,12:.0019,13:.0015,14:.0013,15:.0011,16:.0011,17:7e-4,18:7e-4,19:7e-4,20:4e-4,21:4e-4,22:4e-4,23:4e-4,24:4e-4,25:1e-4,26:1e-4,27:0},Ut3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.005,9:.0035,10:.0028,11:.0022,12:.0018,13:.0015,14:.0013,15:.0011,16:.0011,17:7e-4,18:7e-4,19:7e-4,20:4e-4,21:4e-4,22:4e-4,23:4e-4,24:4e-4,25:1e-4,26:1e-4,27:0},Ut4:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.005,8:.0036,9:.0028,10:.0022,11:.0018,12:.0015,13:.0012,14:.001,15:8e-4,16:8e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:1e-4,27:0},Ls2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.004,8:.003,9:.0022,10:.0017,11:.0013,12:9e-4,13:7e-4,14:5e-4,15:4e-4,16:4e-4,17:2e-4,18:2e-4,19:2e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ls3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.005,7:.0033,8:.0025,9:.002,10:.0015,11:.0012,12:.001,13:8e-4,14:7e-4,15:5e-4,16:5e-4,17:3e-4,18:3e-4,19:3e-4,20:2e-4,21:2e-4,22:2e-4,23:2e-4,24:2e-4,25:1e-4,26:0,27:0},Ls4:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0036,7:.0026,8:.002,9:.0015,10:.0012,11:9e-4,12:7e-4,13:6e-4,14:5e-4,15:4e-4,16:4e-4,17:3e-4,18:3e-4,19:3e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Lt2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0038,7:.0028,8:.0022,9:.0017,10:.0013,11:.0011,12:9e-4,13:7e-4,14:5e-4,15:4e-4,16:4e-4,17:3e-4,18:3e-4,19:3e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Lt3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0034,7:.0026,8:.0019,9:.0015,10:.0012,11:.001,12:8e-4,13:7e-4,14:6e-4,15:5e-4,16:5e-4,17:3e-4,18:3e-4,19:3e-4,20:2e-4,21:2e-4,22:2e-4,23:2e-4,24:2e-4,25:1e-4,26:0,27:0},Lu:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.005,7:.004,8:.0031,9:.0024,10:.0019,11:.0015,12:.0012,13:.001,14:8e-4,15:7e-4,16:7e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:1e-4,27:0},Lts:{1:.0055,2:.0055,3:.0055,4:.0055,5:5e-4,6:.0032,7:.0022,8:.0016,9:.0012,10:9e-4,11:7e-4,12:5e-4,13:4e-4,14:3e-4,15:2e-4,16:2e-4,17:1e-4,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tt:{1:.0055,2:.005,3:.002,4:.001,5:6e-4,6:4e-4,7:3e-4,8:2e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tl:{1:.0055,2:.005,3:.0026,4:.0013,5:8e-4,6:5e-4,7:4e-4,8:3e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tu2:{1:.0055,2:.005,3:.0026,4:.0013,5:8e-4,6:5e-4,7:4e-4,8:3e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tu3:{1:.0055,2:.0055,3:.005,4:.0024,5:.0014,6:9e-4,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:3e-4,12:2e-4,13:2e-4,14:1e-4,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tu4:{1:.0055,2:.0055,3:.0055,4:.005,5:.0024,6:.0016,7:.0012,8:8e-4,9:6e-4,10:5e-4,11:4e-4,12:3e-4,13:3e-4,14:2e-4,15:2e-4,16:2e-4,17:1e-4,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ts2:{1:.0055,2:.0055,3:.005,4:.002,5:.0012,6:8e-4,7:5e-4,8:4e-4,9:3e-4,10:2e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ts3:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ts4:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Hh:{1:.005,2:.005,3:.003,4:.002,5:.0013,6:8e-4,7:4e-4,8:3e-4,9:2e-4,10:2e-4,11:5e-5,12:5e-5,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Hn:{1:.004,2:.004,3:.0022,4:.0011,5:6e-4,6:3e-4,7:2e-4,8:1e-4,9:5e-5,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0}},addRate:function(t,e,a){void 0===this.map[t]&&(this.map[t]={}),this.map[t][e]=a},getRate:function(t,e){e=S(e);var a=this.getMap(t);return void 0===a[e]?0:a[e]},getMap:function(t){return void 0===this.map[t]&&(X(n.WARN,"No capillary rise rates for texture '"+texture+"' available: using default (Sl4)"),t="Sl4"),this.map[t]},size:function(){var t=0;for(var e in this.map)this.map.hasOwnProperty(e)&&t++;return t}},this.userInitValues={p_initPercentageFC:.8,p_initSoilNitrate:1e-4,p_initSoilAmmonium:1e-4}},_e={columns:["soil_type","soil_raw_density*10","air_capacity","field_capacity","n_field_capacity"],rows:[{soil_type:"Hh","soil_raw_density*10":-10,air_capacity:10,field_capacity:82,n_field_capacity:65},{soil_type:"Hn","soil_raw_density*10":-10,air_capacity:18,field_capacity:59,n_field_capacity:29},{soil_type:"Ls2","soil_raw_density*10":11,air_capacity:24,field_capacity:34,n_field_capacity:18},{soil_type:"Ls2","soil_raw_density*10":13,air_capacity:20,field_capacity:31,n_field_capacity:15},{soil_type:"Ls2","soil_raw_density*10":15,air_capacity:13,field_capacity:30,n_field_capacity:14},{soil_type:"Ls2","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:12},{soil_type:"Ls2","soil_raw_density*10":19,air_capacity:3,field_capacity:26,n_field_capacity:10},{soil_type:"Ls3","soil_raw_density*10":11,air_capacity:24,field_capacity:34,n_field_capacity:18},{soil_type:"Ls3","soil_raw_density*10":13,air_capacity:21,field_capacity:30,n_field_capacity:14},{soil_type:"Ls3","soil_raw_density*10":15,air_capacity:15,field_capacity:28,n_field_capacity:12},{soil_type:"Ls3","soil_raw_density*10":17,air_capacity:9,field_capacity:27,n_field_capacity:11},{soil_type:"Ls3","soil_raw_density*10":19,air_capacity:4,field_capacity:25,n_field_capacity:9},{soil_type:"Ls4","soil_raw_density*10":11,air_capacity:25,field_capacity:33,n_field_capacity:18},{soil_type:"Ls4","soil_raw_density*10":13,air_capacity:22,field_capacity:29,n_field_capacity:14},{soil_type:"Ls4","soil_raw_density*10":15,air_capacity:16,field_capacity:27,n_field_capacity:12},{soil_type:"Ls4","soil_raw_density*10":17,air_capacity:10,field_capacity:26,n_field_capacity:11},{soil_type:"Ls4","soil_raw_density*10":19,air_capacity:5,field_capacity:24,n_field_capacity:9},{soil_type:"Lt2","soil_raw_density*10":11,air_capacity:23,field_capacity:35,n_field_capacity:15},{soil_type:"Lt2","soil_raw_density*10":13,air_capacity:19,field_capacity:32,n_field_capacity:12},{soil_type:"Lt2","soil_raw_density*10":15,air_capacity:13,field_capacity:30,n_field_capacity:10},{soil_type:"Lt2","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:8},{soil_type:"Lt3","soil_raw_density*10":11,air_capacity:20,field_capacity:38,n_field_capacity:14},{soil_type:"Lt3","soil_raw_density*10":13,air_capacity:16,field_capacity:35,n_field_capacity:11},{soil_type:"Lt3","soil_raw_density*10":15,air_capacity:10,field_capacity:33,n_field_capacity:9},{soil_type:"Lt3","soil_raw_density*10":17,air_capacity:5,field_capacity:31,n_field_capacity:7},{soil_type:"Lts","soil_raw_density*10":11,air_capacity:21,field_capacity:37,n_field_capacity:16},{soil_type:"Lts","soil_raw_density*10":13,air_capacity:17,field_capacity:34,n_field_capacity:13},{soil_type:"Lts","soil_raw_density*10":15,air_capacity:11,field_capacity:32,n_field_capacity:11},{soil_type:"Lts","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:9},{soil_type:"Lu","soil_raw_density*10":11,air_capacity:21,field_capacity:37,n_field_capacity:18},{soil_type:"Lu","soil_raw_density*10":13,air_capacity:18,field_capacity:34,n_field_capacity:15},{soil_type:"Lu","soil_raw_density*10":15,air_capacity:11,field_capacity:32,n_field_capacity:13},{soil_type:"Lu","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:11},{soil_type:"Sl2","soil_raw_density*10":13,air_capacity:28,field_capacity:23,n_field_capacity:15},{soil_type:"Sl2","soil_raw_density*10":15,air_capacity:22,field_capacity:21,n_field_capacity:13},{soil_type:"Sl2","soil_raw_density*10":17,air_capacity:17,field_capacity:19,n_field_capacity:11},{soil_type:"Sl2","soil_raw_density*10":19,air_capacity:11,field_capacity:18,n_field_capacity:10},{soil_type:"Sl3","soil_raw_density*10":13,air_capacity:26,field_capacity:25,n_field_capacity:15},{soil_type:"Sl3","soil_raw_density*10":15,air_capacity:20,field_capacity:23,n_field_capacity:13},{soil_type:"Sl3","soil_raw_density*10":17,air_capacity:14,field_capacity:22,n_field_capacity:12},{soil_type:"Sl3","soil_raw_density*10":19,air_capacity:9,field_capacity:20,n_field_capacity:10},{soil_type:"Sl4","soil_raw_density*10":13,air_capacity:23,field_capacity:28,n_field_capacity:15},{soil_type:"Sl4","soil_raw_density*10":15,air_capacity:18,field_capacity:25,n_field_capacity:12},{soil_type:"Sl4","soil_raw_density*10":17,air_capacity:12,field_capacity:24,n_field_capacity:11},{soil_type:"Sl4","soil_raw_density*10":19,air_capacity:4,field_capacity:22,n_field_capacity:9},{soil_type:"Slu","soil_raw_density*10":13,air_capacity:22,field_capacity:29,n_field_capacity:18},{soil_type:"Slu","soil_raw_density*10":15,air_capacity:16,field_capacity:27,n_field_capacity:15},{soil_type:"Slu","soil_raw_density*10":17,air_capacity:10,field_capacity:26,n_field_capacity:14},{soil_type:"Slu","soil_raw_density*10":19,air_capacity:4,field_capacity:25,n_field_capacity:13},{soil_type:"Ss","soil_raw_density*10":13,air_capacity:39,field_capacity:12,n_field_capacity:9},{soil_type:"Ss","soil_raw_density*10":15,air_capacity:31,field_capacity:12,n_field_capacity:9},{soil_type:"Ss","soil_raw_density*10":17,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"St2","soil_raw_density*10":13,air_capacity:30,field_capacity:21,n_field_capacity:13},{soil_type:"St2","soil_raw_density*10":15,air_capacity:25,field_capacity:18,n_field_capacity:10},{soil_type:"St2","soil_raw_density*10":17,air_capacity:20,field_capacity:16,n_field_capacity:8},{soil_type:"St2","soil_raw_density*10":19,air_capacity:14,field_capacity:15,n_field_capacity:7},{soil_type:"St3","soil_raw_density*10":13,air_capacity:22,field_capacity:29,n_field_capacity:15},{soil_type:"St3","soil_raw_density*10":15,air_capacity:17,field_capacity:26,n_field_capacity:12},{soil_type:"St3","soil_raw_density*10":17,air_capacity:13,field_capacity:23,n_field_capacity:9},{soil_type:"St3","soil_raw_density*10":19,air_capacity:8,field_capacity:21,n_field_capacity:7},{soil_type:"Su2","soil_raw_density*10":13,air_capacity:30,field_capacity:21,n_field_capacity:16},{soil_type:"Su2","soil_raw_density*10":15,air_capacity:23,field_capacity:20,n_field_capacity:15},{soil_type:"Su2","soil_raw_density*10":17,air_capacity:18,field_capacity:18,n_field_capacity:13},{soil_type:"Su2","soil_raw_density*10":19,air_capacity:12,field_capacity:17,n_field_capacity:12},{soil_type:"Su3","soil_raw_density*10":13,air_capacity:25,field_capacity:26,n_field_capacity:19},{soil_type:"Su3","soil_raw_density*10":15,air_capacity:19,field_capacity:24,n_field_capacity:17},{soil_type:"Su3","soil_raw_density*10":17,air_capacity:14,field_capacity:22,n_field_capacity:15},{soil_type:"Su3","soil_raw_density*10":19,air_capacity:9,field_capacity:20,n_field_capacity:13},{soil_type:"Su4","soil_raw_density*10":13,air_capacity:24,field_capacity:27,n_field_capacity:20},{soil_type:"Su4","soil_raw_density*10":15,air_capacity:18,field_capacity:25,n_field_capacity:18},{soil_type:"Su4","soil_raw_density*10":17,air_capacity:12,field_capacity:24,n_field_capacity:17},{soil_type:"Su4","soil_raw_density*10":19,air_capacity:7,field_capacity:22,n_field_capacity:15},{soil_type:"Tl","soil_raw_density*10":11,air_capacity:12,field_capacity:46,n_field_capacity:14},{soil_type:"Tl","soil_raw_density*10":13,air_capacity:8,field_capacity:43,n_field_capacity:12},{soil_type:"Tl","soil_raw_density*10":15,air_capacity:4,field_capacity:39,n_field_capacity:8},{soil_type:"Tl","soil_raw_density*10":17,air_capacity:2,field_capacity:35,n_field_capacity:6},{soil_type:"Ts2","soil_raw_density*10":11,air_capacity:15,field_capacity:43,n_field_capacity:15},{soil_type:"Ts2","soil_raw_density*10":13,air_capacity:11,field_capacity:40,n_field_capacity:13},{soil_type:"Ts2","soil_raw_density*10":15,air_capacity:6,field_capacity:37,n_field_capacity:10},{soil_type:"Ts2","soil_raw_density*10":17,air_capacity:2,field_capacity:34,n_field_capacity:8},{soil_type:"Ts3","soil_raw_density*10":11,air_capacity:19,field_capacity:39,n_field_capacity:17},{soil_type:"Ts3","soil_raw_density*10":13,air_capacity:15,field_capacity:35,n_field_capacity:14},{soil_type:"Ts3","soil_raw_density*10":15,air_capacity:12,field_capacity:31,n_field_capacity:10},{soil_type:"Ts3","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:9},{soil_type:"Ts4","soil_raw_density*10":11,air_capacity:22,field_capacity:36,n_field_capacity:17},{soil_type:"Ts4","soil_raw_density*10":13,air_capacity:18,field_capacity:33,n_field_capacity:14},{soil_type:"Ts4","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:11},{soil_type:"Ts4","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:10},{soil_type:"Tt","soil_raw_density*10":11,air_capacity:9,field_capacity:49,n_field_capacity:13},{soil_type:"Tt","soil_raw_density*10":13,air_capacity:6,field_capacity:45,n_field_capacity:11},{soil_type:"Tt","soil_raw_density*10":15,air_capacity:3,field_capacity:41,n_field_capacity:7},{soil_type:"Tt","soil_raw_density*10":17,air_capacity:2,field_capacity:37,n_field_capacity:6},{soil_type:"Tu2","soil_raw_density*10":11,air_capacity:12,field_capacity:46,n_field_capacity:15},{soil_type:"Tu2","soil_raw_density*10":13,air_capacity:8,field_capacity:43,n_field_capacity:13},{soil_type:"Tu2","soil_raw_density*10":15,air_capacity:4,field_capacity:39,n_field_capacity:9},{soil_type:"Tu2","soil_raw_density*10":17,air_capacity:2,field_capacity:35,n_field_capacity:6},{soil_type:"Tu3","soil_raw_density*10":11,air_capacity:15,field_capacity:43,n_field_capacity:17},{soil_type:"Tu3","soil_raw_density*10":13,air_capacity:11,field_capacity:39,n_field_capacity:14},{soil_type:"Tu3","soil_raw_density*10":15,air_capacity:7,field_capacity:36,n_field_capacity:12},{soil_type:"Tu3","soil_raw_density*10":17,air_capacity:3,field_capacity:33,n_field_capacity:10},{soil_type:"Tu4","soil_raw_density*10":11,air_capacity:18,field_capacity:40,n_field_capacity:18},{soil_type:"Tu4","soil_raw_density*10":13,air_capacity:13,field_capacity:37,n_field_capacity:15},{soil_type:"Tu4","soil_raw_density*10":15,air_capacity:9,field_capacity:33,n_field_capacity:13},{soil_type:"Tu4","soil_raw_density*10":17,air_capacity:4,field_capacity:31,n_field_capacity:11},{soil_type:"Uls","soil_raw_density*10":11,air_capacity:27,field_capacity:31,n_field_capacity:20},{soil_type:"Uls","soil_raw_density*10":13,air_capacity:21,field_capacity:30,n_field_capacity:19},{soil_type:"Uls","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:18},{soil_type:"Uls","soil_raw_density*10":17,air_capacity:9,field_capacity:27,n_field_capacity:16},{soil_type:"Us","soil_raw_density*10":11,air_capacity:26,field_capacity:32,n_field_capacity:22},{soil_type:"Us","soil_raw_density*10":13,air_capacity:20,field_capacity:31,n_field_capacity:21},{soil_type:"Us","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:19},{soil_type:"Us","soil_raw_density*10":17,air_capacity:9,field_capacity:27,n_field_capacity:17},{soil_type:"Ut2","soil_raw_density*10":11,air_capacity:26,field_capacity:32,n_field_capacity:21},{soil_type:"Ut2","soil_raw_density*10":13,air_capacity:20,field_capacity:31,n_field_capacity:20},{soil_type:"Ut2","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:18},{soil_type:"Ut2","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:17},{soil_type:"Ut3","soil_raw_density*10":11,air_capacity:24,field_capacity:34,n_field_capacity:20},{soil_type:"Ut3","soil_raw_density*10":13,air_capacity:19,field_capacity:33,n_field_capacity:19},{soil_type:"Ut3","soil_raw_density*10":15,air_capacity:12,field_capacity:31,n_field_capacity:17},{soil_type:"Ut3","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:16},{soil_type:"Ut4","soil_raw_density*10":11,air_capacity:23,field_capacity:35,n_field_capacity:18},{soil_type:"Ut4","soil_raw_density*10":13,air_capacity:17,field_capacity:34,n_field_capacity:17},{soil_type:"Ut4","soil_raw_density*10":15,air_capacity:12,field_capacity:33,n_field_capacity:16},{soil_type:"Ut4","soil_raw_density*10":17,air_capacity:4,field_capacity:31,n_field_capacity:14},{soil_type:"Uu","soil_raw_density*10":11,air_capacity:22,field_capacity:36,n_field_capacity:25},{soil_type:"Uu","soil_raw_density*10":13,air_capacity:17,field_capacity:34,n_field_capacity:23},{soil_type:"Uu","soil_raw_density*10":15,air_capacity:11,field_capacity:32,n_field_capacity:21},{soil_type:"Uu","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:19},{soil_type:"fS","soil_raw_density*10":13,air_capacity:35,field_capacity:15,n_field_capacity:11},{soil_type:"fS","soil_raw_density*10":15,air_capacity:28,field_capacity:15,n_field_capacity:11},{soil_type:"fS","soil_raw_density*10":17,air_capacity:21,field_capacity:15,n_field_capacity:11},{soil_type:"fSgs","soil_raw_density*10":13,air_capacity:35,field_capacity:15,n_field_capacity:11},{soil_type:"fSgs","soil_raw_density*10":15,air_capacity:28,field_capacity:15,n_field_capacity:11},{soil_type:"fSgs","soil_raw_density*10":17,air_capacity:21,field_capacity:15,n_field_capacity:11},{soil_type:"fSms","soil_raw_density*10":13,air_capacity:35,field_capacity:15,n_field_capacity:11},{soil_type:"fSms","soil_raw_density*10":15,air_capacity:28,field_capacity:15,n_field_capacity:11},{soil_type:"fSms","soil_raw_density*10":17,air_capacity:21,field_capacity:15,n_field_capacity:11},{soil_type:"gS","soil_raw_density*10":13,air_capacity:43,field_capacity:8,n_field_capacity:5},{soil_type:"gS","soil_raw_density*10":15,air_capacity:35,field_capacity:8,n_field_capacity:5},{soil_type:"gS","soil_raw_density*10":17,air_capacity:28,field_capacity:8,n_field_capacity:5},{soil_type:"mS","soil_raw_density*10":13,air_capacity:38,field_capacity:12,n_field_capacity:9},{soil_type:"mS","soil_raw_density*10":15,air_capacity:31,field_capacity:12,n_field_capacity:9},{soil_type:"mS","soil_raw_density*10":17,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"mSfs","soil_raw_density*10":13,air_capacity:38,field_capacity:12,n_field_capacity:9},{soil_type:"mSfs","soil_raw_density*10":15,air_capacity:31,field_capacity:12,n_field_capacity:9},{soil_type:"mSfs","soil_raw_density*10":17,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"mSgs","soil_raw_density*10":13,air_capacity:38,field_capacity:12,n_field_capacity:9},{soil_type:"mSgs","soil_raw_density*10":15,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"mSgs","soil_raw_density*10":17,air_capacity:31,field_capacity:12,n_field_capacity:9}]},ce={columns:["soil_type","organic_matter*10","air_capacity","field_capacity","n_field_capacity"],rows:[{soil_type:"Ls2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Ls2","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:3},{soil_type:"Ls2","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:5},{soil_type:"Ls2","organic_matter*10":115,air_capacity:2,field_capacity:13,n_field_capacity:9},{soil_type:"Ls3","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:2},{soil_type:"Ls3","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:4},{soil_type:"Ls3","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:6},{soil_type:"Ls3","organic_matter*10":115,air_capacity:2,field_capacity:13,n_field_capacity:9},{soil_type:"Ls4","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Ls4","organic_matter*10":30,air_capacity:0,field_capacity:5,n_field_capacity:4},{soil_type:"Ls4","organic_matter*10":60,air_capacity:1,field_capacity:8,n_field_capacity:7},{soil_type:"Ls4","organic_matter*10":115,air_capacity:2,field_capacity:13,n_field_capacity:10},{soil_type:"Lt2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Lt2","organic_matter*10":30,air_capacity:1,field_capacity:4,n_field_capacity:3},{soil_type:"Lt2","organic_matter*10":60,air_capacity:2,field_capacity:6,n_field_capacity:4},{soil_type:"Lt2","organic_matter*10":115,air_capacity:3,field_capacity:10,n_field_capacity:7},{soil_type:"Lt3","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Lt3","organic_matter*10":30,air_capacity:2,field_capacity:3,n_field_capacity:2},{soil_type:"Lt3","organic_matter*10":60,air_capacity:3,field_capacity:5,n_field_capacity:3},{soil_type:"Lt3","organic_matter*10":115,air_capacity:4,field_capacity:10,n_field_capacity:6},{soil_type:"Lts","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Lts","organic_matter*10":30,air_capacity:2,field_capacity:3,n_field_capacity:2},{soil_type:"Lts","organic_matter*10":60,air_capacity:3,field_capacity:6,n_field_capacity:4},{soil_type:"Lts","organic_matter*10":115,air_capacity:4,field_capacity:10,n_field_capacity:7},{soil_type:"Lu","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Lu","organic_matter*10":30,air_capacity:2,field_capacity:4,n_field_capacity:2},{soil_type:"Lu","organic_matter*10":60,air_capacity:3,field_capacity:7,n_field_capacity:5},{soil_type:"Lu","organic_matter*10":115,air_capacity:4,field_capacity:12,n_field_capacity:8},{soil_type:"Sl2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Sl2","organic_matter*10":30,air_capacity:-1,field_capacity:5,n_field_capacity:3},{soil_type:"Sl2","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Sl2","organic_matter*10":115,air_capacity:-3,field_capacity:16,n_field_capacity:10},{soil_type:"Sl3","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Sl3","organic_matter*10":30,air_capacity:-1,field_capacity:4,n_field_capacity:3},{soil_type:"Sl3","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Sl3","organic_matter*10":115,air_capacity:-3,field_capacity:15,n_field_capacity:10},{soil_type:"Sl4","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Sl4","organic_matter*10":30,air_capacity:-1,field_capacity:4,n_field_capacity:3},{soil_type:"Sl4","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Sl4","organic_matter*10":115,air_capacity:-3,field_capacity:14,n_field_capacity:10},{soil_type:"Slu","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Slu","organic_matter*10":30,air_capacity:-1,field_capacity:4,n_field_capacity:3},{soil_type:"Slu","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Slu","organic_matter*10":115,air_capacity:-3,field_capacity:4,n_field_capacity:10},{soil_type:"Ss","organic_matter*10":15,air_capacity:0,field_capacity:4,n_field_capacity:2},{soil_type:"Ss","organic_matter*10":30,air_capacity:-1,field_capacity:8,n_field_capacity:4},{soil_type:"Ss","organic_matter*10":60,air_capacity:-3,field_capacity:12,n_field_capacity:7},{soil_type:"Ss","organic_matter*10":115,air_capacity:-5,field_capacity:21,n_field_capacity:13},{soil_type:"St2","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"St2","organic_matter*10":30,air_capacity:0,field_capacity:6,n_field_capacity:4},{soil_type:"St2","organic_matter*10":60,air_capacity:-1,field_capacity:9,n_field_capacity:5},{soil_type:"St2","organic_matter*10":115,air_capacity:-2,field_capacity:15,n_field_capacity:7},{soil_type:"St3","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"St3","organic_matter*10":30,air_capacity:0,field_capacity:6,n_field_capacity:4},{soil_type:"St3","organic_matter*10":60,air_capacity:0,field_capacity:8,n_field_capacity:6},{soil_type:"St3","organic_matter*10":115,air_capacity:1,field_capacity:14,n_field_capacity:8},{soil_type:"Su2","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Su2","organic_matter*10":30,air_capacity:-1,field_capacity:6,n_field_capacity:4},{soil_type:"Su2","organic_matter*10":60,air_capacity:-2,field_capacity:10,n_field_capacity:7},{soil_type:"Su2","organic_matter*10":115,air_capacity:-3,field_capacity:16,n_field_capacity:10},{soil_type:"Su3","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Su3","organic_matter*10":30,air_capacity:-1,field_capacity:6,n_field_capacity:4},{soil_type:"Su3","organic_matter*10":60,air_capacity:-2,field_capacity:10,n_field_capacity:6},{soil_type:"Su3","organic_matter*10":115,air_capacity:-3,field_capacity:15,n_field_capacity:9},{soil_type:"Su4","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Su4","organic_matter*10":30,air_capacity:0,field_capacity:6,n_field_capacity:4},{soil_type:"Su4","organic_matter*10":60,air_capacity:-1,field_capacity:9,n_field_capacity:6},{soil_type:"Su4","organic_matter*10":115,air_capacity:-2,field_capacity:14,n_field_capacity:9},{soil_type:"Tl","organic_matter*10":15,air_capacity:2,field_capacity:1,n_field_capacity:1},{soil_type:"Tl","organic_matter*10":30,air_capacity:3,field_capacity:2,n_field_capacity:2},{soil_type:"Tl","organic_matter*10":60,air_capacity:4,field_capacity:4,n_field_capacity:3},{soil_type:"Tl","organic_matter*10":115,air_capacity:5,field_capacity:7,n_field_capacity:5},{soil_type:"Ts2","organic_matter*10":15,air_capacity:1,field_capacity:3,n_field_capacity:2},{soil_type:"Ts2","organic_matter*10":30,air_capacity:2,field_capacity:5,n_field_capacity:4},{soil_type:"Ts2","organic_matter*10":60,air_capacity:3,field_capacity:8,n_field_capacity:6},{soil_type:"Ts2","organic_matter*10":115,air_capacity:5,field_capacity:12,n_field_capacity:8},{soil_type:"Ts3","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Ts3","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:4},{soil_type:"Ts3","organic_matter*10":60,air_capacity:2,field_capacity:8,n_field_capacity:6},{soil_type:"Ts3","organic_matter*10":115,air_capacity:5,field_capacity:12,n_field_capacity:9},{soil_type:"Ts4","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Ts4","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:4},{soil_type:"Ts4","organic_matter*10":60,air_capacity:2,field_capacity:8,n_field_capacity:6},{soil_type:"Ts4","organic_matter*10":115,air_capacity:4,field_capacity:12,n_field_capacity:9},{soil_type:"Tt","organic_matter*10":15,air_capacity:3,field_capacity:1,n_field_capacity:1},{soil_type:"Tt","organic_matter*10":30,air_capacity:4,field_capacity:2,n_field_capacity:2},{soil_type:"Tt","organic_matter*10":60,air_capacity:5,field_capacity:3,n_field_capacity:3},{soil_type:"Tt","organic_matter*10":115,air_capacity:7,field_capacity:6,n_field_capacity:5},{soil_type:"Tu2","organic_matter*10":15,air_capacity:2,field_capacity:1,n_field_capacity:1},{soil_type:"Tu2","organic_matter*10":30,air_capacity:3,field_capacity:2,n_field_capacity:2},{soil_type:"Tu2","organic_matter*10":60,air_capacity:4,field_capacity:4,n_field_capacity:3},{soil_type:"Tu2","organic_matter*10":115,air_capacity:5,field_capacity:7,n_field_capacity:5},{soil_type:"Tu3","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Tu3","organic_matter*10":30,air_capacity:2,field_capacity:3,n_field_capacity:2},{soil_type:"Tu3","organic_matter*10":60,air_capacity:3,field_capacity:5,n_field_capacity:4},{soil_type:"Tu3","organic_matter*10":115,air_capacity:5,field_capacity:8,n_field_capacity:6},{soil_type:"Tu4","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Tu4","organic_matter*10":30,air_capacity:2,field_capacity:4,n_field_capacity:2},{soil_type:"Tu4","organic_matter*10":60,air_capacity:3,field_capacity:6,n_field_capacity:4},{soil_type:"Tu4","organic_matter*10":115,air_capacity:5,field_capacity:9,n_field_capacity:7},{soil_type:"Uls","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Uls","organic_matter*10":30,air_capacity:1,field_capacity:4,n_field_capacity:3},{soil_type:"Uls","organic_matter*10":60,air_capacity:2,field_capacity:7,n_field_capacity:5},{soil_type:"Uls","organic_matter*10":115,air_capacity:3,field_capacity:12,n_field_capacity:8},{soil_type:"Us","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Us","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:3},{soil_type:"Us","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:5},{soil_type:"Us","organic_matter*10":115,air_capacity:2,field_capacity:12,n_field_capacity:8},{soil_type:"Ut2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Ut2","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:3},{soil_type:"Ut2","organic_matter*10":60,air_capacity:2,field_capacity:9,n_field_capacity:6},{soil_type:"Ut2","organic_matter*10":115,air_capacity:3,field_capacity:13,n_field_capacity:8},{soil_type:"Ut3","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Ut3","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:3},{soil_type:"Ut3","organic_matter*10":60,air_capacity:2,field_capacity:9,n_field_capacity:6},{soil_type:"Ut3","organic_matter*10":115,air_capacity:3,field_capacity:13,n_field_capacity:8},{soil_type:"Ut4","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Ut4","organic_matter*10":30,air_capacity:2,field_capacity:5,n_field_capacity:3},{soil_type:"Ut4","organic_matter*10":60,air_capacity:3,field_capacity:9,n_field_capacity:6},{soil_type:"Ut4","organic_matter*10":115,air_capacity:4,field_capacity:13,n_field_capacity:8},{soil_type:"Uu","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Uu","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:2},{soil_type:"Uu","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:4},{soil_type:"Uu","organic_matter*10":115,air_capacity:2,field_capacity:12,n_field_capacity:7}]},se=function(t,e,a,i){var r=void 0!==t&&null!==t?t.toLowerCase():"",o=e||0,_=a||0,c=i||0;
return"ammonium nitrate"===r?(_=.5,c=.5,o=0):"ammonium phosphate"===r?(_=0,c=1,o=0):"ammonium sulphate"===r?(_=0,c=1,o=0):"potassium nitrate"===r?(_=1,c=0,o=0):"compound fertiliser (0 no3, 100 nh4)"===r?(_=0,c=1,o=0):"compound fertiliser (35 no3, 65 nh4)"===r?(_=.35,c=.65,o=0):"compound fertiliser (43 no3, 57 nh4)"===r?(_=.435,c=.565,o=0):"compound fertiliser (50 no3, 50 nh4)"===r?(_=.5,c=.5,o=0):"urea"===r?(_=0,c=0,o=1):"urea ammonium nitrate"===r?(_=.25,c=.25,o=.5):"urea ammonium sulphate"===r?(_=0,c=.18,o=.82):void 0!==r&&X(n.INFO,"Custom mineral fertilzer."),{getName:function(){return r},getCarbamid:function(){return o},getNH4:function(){return c},getNO3:function(){return _}}},pe=function(t,e,a,i,r){this.name=void 0!==t&&null!==t?t.toLowerCase():"",this.vo_AOM_DryMatterContent=r||0,this.vo_AOM_NH4Content=i||0,this.vo_AOM_NO3Content=a||0,this.vo_AOM_CarbamidContent=e||0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0,this.vo_DaysAfterApplication=0,"cattle deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.289,this.vo_AOM_NH4Content=.007,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=7.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"cattle manure"===this.name?(this.vo_AOM_DryMatterContent=.196,this.vo_AOM_NH4Content=.007,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"cattle slurry"===this.name?(this.vo_AOM_DryMatterContent=.103,this.vo_AOM_NH4Content=.032,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6.1,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"cattle urine"===this.name?(this.vo_AOM_DryMatterContent=.033,this.vo_AOM_NH4Content=.146,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=8.4,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"duck or goose deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.35,this.vo_AOM_NH4Content=.024,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=2.1,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"green-waste compost"===this.name?(this.vo_AOM_DryMatterContent=.5,this.vo_AOM_NH4Content=.002,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=8,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"horse deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.26,this.vo_AOM_NH4Content=.008,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=5.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"maize straw"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=50,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"mushroom compost"===this.name?(this.vo_AOM_DryMatterContent=.39,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"oilseed-rape cake fert. (5-1-10)"===this.name?(this.vo_AOM_DryMatterContent=.9,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=.012,this.vo_AOM_FastDecCoeffStandard=.05,this.vo_PartAOM_to_AOM_Slow=.38,this.vo_PartAOM_to_AOM_Fast=.62,this.vo_CN_Ratio_AOM_Slow=47.7,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.33,this.vo_AOM_NH4Content=.009,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=4.8,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig manue"===this.name?(this.vo_AOM_DryMatterContent=.039,this.vo_AOM_NH4Content=.014,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig slurry"===this.name?(this.vo_AOM_DryMatterContent=.054,this.vo_AOM_NH4Content=.068,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=5.7,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig slurry-dk"===this.name?(this.vo_AOM_DryMatterContent=.05,this.vo_AOM_NH4Content=.08,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=85,this.vo_CN_Ratio_AOM_Fast=5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig urine"===this.name?(this.vo_AOM_DryMatterContent=.02,this.vo_AOM_NH4Content=.162,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=7.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"potato liquid waste"===this.name?(this.vo_AOM_DryMatterContent=.02,this.vo_AOM_NH4Content=.028,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=4.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"poultry deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.633,this.vo_AOM_NH4Content=.037,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=1.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"poultry manure"===this.name?(this.vo_AOM_DryMatterContent=.4,this.vo_AOM_NH4Content=.019,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=3.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"sewage sludge"===this.name?(this.vo_AOM_DryMatterContent=.141,this.vo_AOM_NH4Content=.089,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"soybean straw"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=30,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"turkey deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.48,this.vo_AOM_NH4Content=.038,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=1.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"weeds"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=30,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"wheat straw"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=8,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"wood ashes"===this.name?(this.vo_AOM_DryMatterContent=1,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.9,this.vo_PartAOM_to_AOM_Fast=.1,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=10,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):void 0!==this.name&&X(n.INFO,"Custom organic fertilzer."),this.vo_NConcentration=this.vo_AOM_NO3Content+this.vo_AOM_NH4Content+this.vo_AOM_CarbamidContent},le=function(t){this._date=t,this.date=function(){return this._date},this.setDate=function(t){this._date=t},this.apply=function(){},this.clone=function(){},this.toString=function(){return"date: "+this.date().toString()}},ue=function(t,e){le.call(this,t),this._date=t,this._crop=e,this.setDate=function(t){this._date=t,this._crop.setSeedAndHarvestDate(this.date(),this._crop.harvestDate())},this.apply=function(t){X(n.INFO,"seeding crop: "+this._crop.name()+" at: "+this.date().toISOString().split("T")[0]),t.seedCrop(this._crop)},this.clone=function(){return JSON.parse(JSON.stringify(this))},this.toString=function(){return"seeding at: "+this.date().toString()+" crop: "+this._crop.toString()}};ue.prototype=Object.create(le),ue.prototype.constructor=ue;var fe=function(t,e){le.call(this,t),this._date=t,this._crop=e,this.setDate=function(t){this._date=t,this._crop.setSeedAndHarvestDate(this._crop.seedDate(),this.date())},this.apply=function(t){if(t.cropGrowth())if(X(n.INFO,"harvesting crop: "+this._crop.name()+" at: "+this.date().toString()),t.currentCrop()==this._crop){if(t.cropGrowth()){var e=t.cropGrowth();this._crop.setHarvestYields(e.primaryYieldFreshMatter()/100,e.get_FreshSecondaryCropYield()/100),this._crop.setHarvestYieldsTM(e.primaryYield()/100,e.secondaryYield()/100),this._crop.setYieldNContent(e.primaryYieldNitrogenContent(),e.secondaryYieldNitrogenContent()),this._crop.setSumTotalNUptake(e.accumulatedNitrogenUptake()),this._crop.setCropHeight(e.height()),this._crop.setAccumulatedETa(e.accumulatedEvapotranspiration())}t.harvestCurrentCrop()}else X(n.INFO,"Crop: "+t.currentCrop().toString()+" to be harvested isn't actual crop of this Harvesting action: "+this._crop.toString())},this.clone=function(){return JSON.parse(JSON.stringify(this))},this.toString=function(){return"harvesting at: "+this.date().toString()+" crop: "+this._crop.toString()}};fe.prototype=Object.create(le),fe.prototype.constructor=fe;var de=function(t,e,a){le.call(this,t),this._date=t,this._crop=e,this._cropResult=a,this.apply=function(t){if(X(n.INFO,"Cutting crop: "+this._crop.name()+" at: "+this.date().toString()),t.currentCrop()==this._crop){var e={id:this._crop.id(),name:this._crop.name(),date:this._date,primaryYieldTM:t.cropGrowth().primaryYield()/100};if(Be){var a="";a+=this._date.getFullYear()+";"+A(e.primaryYieldTM)+"\n",Be.appendFileSync("./out/cutting_yields.csv",a,{encoding:"utf8"})}this._cropResult.cuts||(this._cropResult.cuts=[]),this._cropResult.cuts.push(e),t.cropGrowth()&&t.cropGrowth().applyCutting()}},this.clone=function(){return JSON.parse(JSON.stringify(this))},this.toString=function(){return"Cutting at: "+this.date().toString()+" crop: "+this._crop.toString()}};de.prototype=Object.create(le),de.prototype.constructor=de;var ve=function(t,e,a){le.call(this,t),this._date=t,this._partition=e,this._amount=a,this.apply=function(t){t.applyMineralFertiliser(this._partition,this._amount)},this.partition=function(){return this._partition},this.amount=function(){return this._amount},this.toString=function(){return"applying mineral fertiliser at: "+this._date.toString()+" amount: "+this._amount+" partition: "+this.partition().toString()},this.clone=function(){return JSON.parse(JSON.stringify(this))}};ve.prototype=Object.create(le),ve.prototype.constructor=ve;var ge=function(t,e,a,i){le.call(this,t),this._date=t,this._parameters=e,this._amount=a,this._incrop=void 0===i?!0:i,this.apply=function(t){t.applyOrganicFertiliser(this._parameters,this._amount,this._incrop)},this.parameters=function(){return this._parameters},this.amount=function(){return this._amount},this.incorporation=function(){return this._incorporation},this.toString=function(){return"applying organic fertiliser at: "+this.date().toString()+" amount: "+this.amount()+"	N percentage: "+this._parameters.vo_NConcentration+"	N amount: "+this.amount()*this._parameters.vo_NConcentration},this.clone=function(){return JSON.parse(JSON.stringify(this))}};ge.prototype=Object.create(le),ge.prototype.constructor=ge;var me=function(t,e){le.call(this,t),this._date=t,this._depth=e,this.apply=function(t){t.applyTillage(this._depth)},this.toString=function(){return"applying tillage at: "+this.date().toString()+" depth: "+this._depth},this.clone=function(){return JSON.parse(JSON.stringify(this))}};me.prototype=Object.create(le),me.prototype.constructor=me;var Se=function(t,e,a){le.call(this,t),this._date=t,this._amount=e,this._parameters=a,this.apply=function(t){t.applyIrrigation(this.amount(),this.nitrateConcentration())},this.amount=function(){return this._amount},this.nitrateConcentration=function(){return this._parameters.nitrateConcentration},this.sulfateConcentration=function(){return this._parameters.sulfateConcentration},this.toString=function(){return"applying irrigation at: "+this.date().toString()+" amount: "+this.amount()+" nitrateConcentration: "+this.nitrateConcentration()+" sulfateConcentration: "+this.sulfateConcentration()},this.clone=function(){return JSON.parse(JSON.stringify(this))}};Se.prototype=Object.create(le),Se.prototype.constructor=Se;var ye=function(t,e){var a=t,i=e,r=[],o=[];r.equal_range=function(t){var e=[];return this.forEach(function(a){a.date().setHours(0,0,0,0)===t.setHours(0,0,0,0)&&e.push(a)}),e},r.upper_bound=function(t){for(var e=0,a=this.length;a>e;e++)if(this[e].date().setHours(0,0,0,0)>t.setHours(0,0,0,0))return this[e];return null};var n=function(t){r.push(t),r.sort(function(t,e){var a=t.date(),i=e.date();return i>a?-1:a>i?1:0})};e.seedDate().setHours(0,0,0,0)!=new Date(1951,0,1).setHours(0,0,0,0)&&e.seedDate().setHours(0,0,0,0)!=new Date(0,0,0).setHours(0,0,0,0)&&n(new ue(e.seedDate(),e)),e.harvestDate().isValid()&&e.harvestDate().setHours(0,0,0,0)!=new Date(1951,0,1).setHours(0,0,0,0)&&e.harvestDate().setHours(0,0,0,0)!=new Date(0,0,0).setHours(0,0,0,0)&&n(new fe(e.harvestDate(),e,o));for(var _=e.getCuttingDates(),c=_.length,s=0;c>s;s++)n(new de(Date(_.at(s)),e));var p=function(){},l=function(t,e){var a=r.equal_range(t);a.forEach(function(t){t.apply(e)})},u=function(t){var e=r.upper_bound(t);return e?e.date():new Date(1/0)},f=function(t){var e=null;return r.forEach(function(a){a.date().setHours(0,0,0,0)===t.setHours(0,0,0,0)&&(e=a)}),e},d=function(){return 0===r.length?new Date(1/0):r[0].date()},v=function(){return 0===r.length?new Date(1/0):r[r.length-1]},g=function(){var t="";return t+="name: "+a+" start: "+d().toString()+" end: "+v().toString()+"\n",t+="worksteps:\n",r.forEach(function(e){t+="at: "+e.date().toString()+" what: "+e.toString()+"\n"}),t};return{getWorkstep:f,deepCloneAndClearWorksteps:p,addApplication:n,apply:l,nextDate:u,name:function(){return a},crop:function(){return i},isFallow:function(){return!i.isValid()},start:d,end:v,getWorksteps:function(){return r},clearWorksteps:function(){r=[]},toString:g,setCustomId:function(t){_customId=t},cropResult:function(){return o}}},he=function(t,e){this._startDate=t,this._endDate=e,this._data=[],this._numberOfSteps=0,this._offset=0,this._dates=[],this.setData=function(t){this._data=t,this._offset=t[j.ISODATESTRING].indexOf(this._startDate.toISOString().split("T")[0]);var e=t[j.ISODATESTRING].indexOf(this._endDate.toISOString().split("T")[0]);if(this._offset<0)throw this._numberOfSteps=0,X(n.ERROR,"Start date not valid: no. of steps is 0"),new Error("Start date not valid: no. of steps is 0");0>e&&(e=this._data[j.ISODATESTRING].length-1,this._endDate=new Date(Date.parse(this._data[j.ISODATESTRING][e])),X(n.WARN,"End date not found: end date adjusted to "+this._endDate.toISOString().split("T")[0]));for(var a=0;a<this._numberOfSteps;a++)this._dates[a]=new Date(Date.parse(this._data[j.ISODATESTRING][a]));this._numberOfSteps=e-this._offset},this.date=function(t){return this._dates[t+this._offset]},this.isValid=function(){return this._numberOfSteps>0},this.dataForTimestep=function(t,e){return this._data[t][e+this._offset]},this.noOfStepsPossible=function(){return this._numberOfSteps},this.startDate=function(){return this._startDate},this.endDate=function(){return this._endDate},this.doy=function(t){if(this._data[j.DOY].length>0)return this._data[j.DOY][t+this._offset];var e=new Date(this._startDate.getFullYear(),this._startDate.getMonth(),this._startDate.getDate()+t);return d((e-new Date(e.getFullYear(),0,1))/864e5)+1},this.isAvailable=function(t){return this._data[t].length>0}};t.prototype={step:function(){},name:function(){return"unknown"},isDying:function(){return!1},height:function(){return 0},kcFactor:function(){return 0},leafAreaIndex:function(){return 0},numberOfOrgans:function(){return 0},soilCoverage:function(){return 0},stomataResistance:function(){return 0},vernalisationFactor:function(){return 0},numberOfSpecies:function(){return 1},rootingDepth:function(){return 0},nitrogenStress:function(){return 1},heatStress:function(){return 1},oxygenStress:function(){return 1},waterStress:function(){return 1},biomass:function(){return 0},growthIncrement:function(){return 0},shootBiomass:function(){return 0},shootBiomassNitrogenConcentration:function(){return 0},rootBiomass:function(){return 0},rootNitrogenConcentration:function(){return 0},netPrimaryProduction:function(){return 0},netPhotosynthesis:function(){return 0},grossPhotosynthesis:function(){return 0},primaryYield:function(){return 0},primaryYieldFreshMatter:function(){return 0},primaryYieldNitrogenConcentration:function(){return 0},primaryYieldNitrogenContent:function(){return 0},primaryYieldCrudeProteinConcentration:function(){return 0},secondaryYield:function(){return 0},secondaryYieldNitrogenConcentration:function(){return 0},secondaryYieldNitrogenContent:function(){return 0},residueBiomass:function(){return 0},residuesNitrogenConcentration:function(){return 0},residuesNitrogenContent:function(){return 0},referenceEvapotranspiration:function(){return 0},accumulatedEvapotranspiration:function(){return 0},accumulateEvapotranspiration:function(){return 0},remainingEvapotranspiration:function(){return 0},transpiration:function(){return 0},potentialTranspiration:function(){return 0},evaporatedFromIntercept:function(){return 0},netPrecipitation:function(){return 0},nitrogenUptake:function(){return 0},potentialNitrogenUptake:function(){return 0},accumulatedNitrogenUptake:function(){return 0},currentTemperatureSum:function(){return 0},developmentalStage:function(){return 1},relativeTotalDevelopment:function(){return 0},heatSumIrrigationEnd:function(){return 0},heatSumIrrigationStart:function(){return 0}};var Me=function(t){var e=-1,a=t.toLowerCase(),i=0,r=0,o=0,n=1,_=[],c=[],s=new Date(1/0),p=new Date(1/0),l=0,u=0,f=0,d=0,v=0,g=0,m=0,S=null,y=null;return"winter wheat"===a?(e=1,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.2,.6,0],[.13,.2,.67,0],[0,0,.03,.97],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.05,0,0],[0,.05,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.9,1,1,.9,.8],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[148,284,380,200,420,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter wheat",pc_MaxAssimilationRate:52,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.83,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:6,pc_CropHeightP2:.5,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:620,pc_EndSensitivePhaseHeatStress:740,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter wheat",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter barley"===a?(e=2,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.3,.2,.5,0],[.1,.2,.4,.3],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.05,0,0],[0,.05,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[.8,.8,.8,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0019,.0018,.0017,.0016,.0016],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[108,284,300,120,260,25],pc_VernalisationRequirement:[0,33,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.04,.04,.04,.04,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter barley",pc_MaxAssimilationRate:40,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.87,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.6,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:560,pc_HeatSumIrrigationEnd:1032,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter barley",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:180,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter rye"===a?(e=3,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.53,.47,0,0],[.2,.6,.2,0],[.13,.37,.5,0],[0,0,.25,.75],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[148,284,200,400,350,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter rye",pc_MaxAssimilationRate:38,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:1.5,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:406,pc_HeatSumIrrigationEnd:934,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter rye",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring barley"===a?(e=4,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.25,.23,.52,0],[.17,.23,.5,.1],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,.002,0],[0,.03,.002,0]],pc_BaseDaylength:[0,0,7,0,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,0,0,0],pc_DroughtStressThreshold:[.8,.8,.8,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0019,.0018,.0017,.0016,.0016],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.6,1,1,.8,.25],pc_StageTemperatureSum:[108,284,330,120,200,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.04,.04,.04,.04,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring barley",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.87,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.6,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:560,pc_HeatSumIrrigationEnd:1032,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:550,pc_EndSensitivePhaseHeatStress:670,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"spring barley",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:180,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"grain maize"===a?(e=5,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.4,0,0],[.55,.25,.2,0],[.2,.2,.6,0],[.05,.05,.65,.25],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[.005,.001,0,0],[.1,.003,0,0],[.1,.005,.013,0],[0,.02,.02,0]],pc_BaseDaylength:[0,0,0,0,0,0,0],pc_BaseTemperature:[7,6,6,6,9,9,9],pc_OptimumTemperature:[30,30,30,30,30,30,30],pc_DaylengthRequirement:[0,0,0,0,0,0,0],pc_DroughtStressThreshold:[.5,.5,.5,.5,.6,.6,.2],pc_OrganMaintenanceRespiration:[.01,.03,.01,.007],pc_OrganGrowthRespiration:[.01,.03,.01,.007],pc_SpecificLeafArea:[.0028,.002,.002,.0019,.0018,.0018,.0018],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01,.01],pc_StageKcFactor:[.4,1,1,1.2,1.25,1.25,1],pc_StageTemperatureSum:[68,284,190,250,200,400,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[12,12,0,0],pc_CriticalOxygenContent:[.04,.02,.02,.02,.02,.02,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.78,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"grain maize",pc_MaxAssimilationRate:96,pc_CarboxylationPathway:2,pc_MinimumTemperatureForAssimilation:6,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.004,pc_NConcentrationPN:1,pc_NConcentrationB0:5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1,pc_MaxCropHeight:2,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:60,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.025,pc_StageAtMaxDiameter:4,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:993,pc_MaxNUptakeParam:7.4,pc_RootDistributionParam:.0035,pc_PlantDensity:10,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:9,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0014,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:.5,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"grain maize",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.61,vo_PartAOM_to_AOM_Fast:.39,vo_CN_Ratio_AOM_Slow:225,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"silage maize"===a?(e=7,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.65,.35,0,0],[.6,.2,.2,0],[.2,.2,.6,0],[.05,.05,.65,.25],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[.005,.001,0,0],[.1,.003,0,0],[.1,.005,.013,0],[0,.02,.02,0]],pc_BaseDaylength:[0,0,0,0,0,0,0],pc_BaseTemperature:[7,6,6,6,9,9,9],pc_OptimumTemperature:[30,30,30,30,30,30,30],pc_DaylengthRequirement:[0,0,0,0,0,0,0],pc_DroughtStressThreshold:[.5,.5,.5,.5,.6,.6,.2],pc_OrganMaintenanceRespiration:[.01,.03,.01,.007],pc_OrganGrowthRespiration:[.01,.03,.01,.007],pc_SpecificLeafArea:[.0025,.0017,.0015,.0014,.0012,.0012,.0012],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01,.01],pc_StageKcFactor:[.4,1,1,1.2,1.25,1.25,1],pc_StageTemperatureSum:[68,284,190,250,200,400,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[12,12,0,0],pc_CriticalOxygenContent:[.04,.02,.02,.02,.02,.02,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:2,yieldPercentage:.9,yieldDryMatter:.32},{organId:3,yieldPercentage:.9,yieldDryMatter:.32},{organId:4,yieldPercentage:1,yieldDryMatter:.32}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"silage maize",pc_MaxAssimilationRate:96,pc_CarboxylationPathway:2,pc_MinimumTemperatureForAssimilation:6,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.004,pc_NConcentrationPN:1,pc_NConcentrationB0:5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1,pc_MaxCropHeight:2,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:60,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.025,pc_StageAtMaxDiameter:4,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:993,pc_MaxNUptakeParam:7.4,pc_RootDistributionParam:.0035,pc_PlantDensity:10,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:9,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0014,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:.5,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"silage maize",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.61,vo_PartAOM_to_AOM_Fast:.39,vo_CN_Ratio_AOM_Slow:225,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter rape"===a?(e=9,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.4,.4,0],[.13,.17,.7,0],[0,0,.1,.9],[0,0,0,0],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.01,0,0],[0,.01,0,0],[0,.01,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.8,.8,.8,.8,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.6,1.1,1.3,1.1,.8,.6],pc_StageTemperatureSum:[130,284,160,160,900,25],pc_VernalisationRequirement:[0,35,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.03],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.55,yieldDryMatter:.91}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.35},{organId:3,yieldPercentage:.85,yieldDryMatter:.35}],organIdsForCutting:[],pc_CropName:"winter rape",pc_MaxAssimilationRate:50,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.5,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.35,pc_NConcentrationB0:3.5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1.1,pc_MaxCropHeight:.8,pc_ResidueNRatio:.3,pc_SamplingDepth:.6,pc_TargetNSamplingDepth:340,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:450,pc_HeatSumIrrigationEnd:1e3,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:100,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.002,pc_RootFormFactor:1.5,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter rape",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.78,vo_PartAOM_to_AOM_Fast:.22,vo_CN_Ratio_AOM_Slow:227,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"sugar beet"===a?(e=10,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.54,.28,.18,0],[.15,.41,.41,.02],[0,.15,.27,.58],[0,.01,.01,.98],[0,0,.01,.99],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.001,0,0],[.08,.005,0,0],[.08,.01,0,0]],pc_BaseDaylength:[0,0,0,0,0,0],pc_BaseTemperature:[3,3,0,0,0,0],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,0,0,0,0,0],pc_DroughtStressThreshold:[1,.7,.8,.8,.8,.7],pc_OrganMaintenanceRespiration:[.015,.03,.003,.01],pc_OrganGrowthRespiration:[.015,.03,.003,.01],pc_SpecificLeafArea:[9e-4,.001,.001,9e-4,9e-4,9e-4],pc_StageMaxRootNConcentration:[.02,.015,.012,.01,.009,.009],pc_StageKcFactor:[.4,.8,1,1.35,.85,.4],pc_StageTemperatureSum:[100,300,565,608,1600,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[5,10,0,0],pc_CriticalOxygenContent:[.03,.03,.03,.03,.03,.03],pc_AbovegroundOrgan:[!1,!0,!0,!1],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:1,yieldDryMatter:.23}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.95,yieldDryMatter:.16}],organIdsForCutting:[],pc_CropName:"sugar beet",pc_MaxAssimilationRate:100,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:7,pc_CropSpecificMaxRootingDepth:1.6,pc_MinimumNConcentration:.004,pc_NConcentrationPN:1.35,pc_NConcentrationB0:3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1.65,pc_MaxCropHeight:.5,pc_ResidueNRatio:2,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:200,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:0,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:600,pc_HeatSumIrrigationEnd:1691,pc_MaxNUptakeParam:5.645,pc_RootDistributionParam:.0012,pc_PlantDensity:8,pc_RootGrowthLag:-60,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.06,pc_RootPenetrationRate:.0011,pc_RootFormFactor:2,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"sugar beet",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"mustard"===a?(e=11,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,.2,0],[.2,.6,.2,0],[.13,.33,.54,0],[0,0,.04,.96],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.8,.8,.8,.8,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,0],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.6,1.1,1.3,1.1,.8,.6],pc_StageTemperatureSum:[40,284,200,400,350,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.03],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:2,yieldPercentage:.01,yieldDryMatter:.15},{organId:3,yieldPercentage:.01,yieldDryMatter:.15},{organId:4,yieldPercentage:.01,yieldDryMatter:.15}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"mustard",pc_MaxAssimilationRate:65,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.5,pc_MinimumNConcentration:.005,pc_NConcentrationPN:2.5,pc_NConcentrationB0:2.5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:1,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:20,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.6,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:450,pc_HeatSumIrrigationEnd:1e3,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:600,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:8e-4,pc_RootFormFactor:2,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"mustard",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:0,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.005,vo_AOM_FastDecCoeffStandard:.025,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"oil raddich"===a?(e=17,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.6,.2,0],[.13,.33,.54,0],[0,0,.04,.96],[0,0,0,0],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.8,.8,.8,.8,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.3,.7,.9,.99,.6,.6],pc_StageTemperatureSum:[148,150,200,200,325,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.03],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.3},{organId:3,yieldPercentage:.85,yieldDryMatter:.3},{organId:4,yieldPercentage:.85,yieldDryMatter:.91}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"oil raddich",pc_MaxAssimilationRate:60.08,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.5,pc_MinimumNConcentration:.005,pc_NConcentrationPN:2,pc_NConcentrationB0:9.492,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.1,pc_MaxCropHeight:.8,pc_ResidueNRatio:.3,pc_SamplingDepth:.6,pc_TargetNSamplingDepth:340,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:8.77,pc_CropHeightP2:.428,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:450,pc_HeatSumIrrigationEnd:1e3,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:100,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.002,pc_RootFormFactor:1.5,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"oil raddich",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.78,vo_PartAOM_to_AOM_Fast:.22,vo_CN_Ratio_AOM_Slow:227,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter triticale"===a?(e=19,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.3,.5,0],[.13,.3,.57,0],[0,0,.06,.94],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.04,0,0],[0,.04,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,0,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.04,.7,1,1.1,.8,.25],pc_StageTemperatureSum:[300,650,200,250,300,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter triticale",pc_MaxAssimilationRate:48,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:1.1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:6.84,pc_CropHeightP2:.53,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter triticale",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring rye"===a?(e=20,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.53,.47,0,0],[.2,.6,.2,0],[.13,.37,.5,0],[0,0,.25,.75],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.3,.3,.3,.3,.3],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[148,284,200,400,350,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring rye",pc_MaxAssimilationRate:38,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:1.3,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:406,pc_HeatSumIrrigationEnd:934,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"spring rye",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"oat compound"===a?(e=22,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.53,.47,0,0],[.2,.6,.2,0],[.13,.37,.5,0],[0,0,.25,.75],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4244,.7,.9,.9,.61,.25],pc_StageTemperatureSum:[100,299.9,419.2,200,200,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"oat compound",pc_MaxAssimilationRate:38.32,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:2,pc_NConcentrationB0:1.963,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.2,pc_MaxCropHeight:1,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:3.74,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:406,pc_HeatSumIrrigationEnd:934,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"oat compound",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring triticale"===a?(e=23,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.3,.5,0],[.13,.3,.57,0],[0,0,.06,.94],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.04,0,0],[0,.04,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,0,0,0],pc_DroughtStressThreshold:[0,0,0,0,0,0],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.1,.3,.6,.7,.7,.25],pc_StageTemperatureSum:[150,200,400,350,300,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring triticale",pc_MaxAssimilationRate:45,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.9,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"spring triticale",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"field pea"===a?(e=24,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.5,.3,0],[.13,.33,.54,0],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[25,160,210,180,480,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.8,.8,.8,.8,.8,.8],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.8,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.9,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"field pea",pc_MaxAssimilationRate:60,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:.7,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.35,pc_NConcentrationB0:3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.74,pc_LuxuryNCoeff:1,pc_MaxCropHeight:.5,pc_ResidueNRatio:.8,pc_SamplingDepth:.6,pc_TargetNSamplingDepth:110,pc_TargetN30:40,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:4,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:993,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.06,pc_RootPenetrationRate:7e-4,pc_RootFormFactor:1,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"field pea",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring wheat"===a?(e=25,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.2,.6,0],[.13,.2,.67,0],[0,0,.03,.97],[0,0,0,1],[0,0,0,.8]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.05,0,0],[0,.05,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.9,1,1,.9,.8],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.6,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[120,284,380,180,435,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring wheat",pc_MaxAssimilationRate:52,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.83,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:6,pc_CropHeightP2:.5,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:780,pc_EndSensitivePhaseHeatStress:900,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"spring wheat",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean 000"===a?(e=28,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-22.35,-22.35,-22.35,-22.35,-22.35,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,25,25,25,25,30],pc_DaylengthRequirement:[0,-14.6,-14.6,-14.6,-14.6,-14.6,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,457,323,500,770,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean 000",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1.2,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean 000",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean 00"===a?(e=29,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-21.1,-21.1,-21.1,-21.1,-21.1,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,25],pc_DaylengthRequirement:[0,-14.35,-14.35,-14.35,-14.35,-14.35,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,473,323,500,783,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean 00",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean 00",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean 0"===a?(e=30,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-19.95,-19.95,-19.95,-19.95,-19.95,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-14.1,-14.1,-14.1,-14.1,-14.1,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,500,350,500,804,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean 0",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean 0",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean i"===a?(e=31,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-18.75,-18.75,-18.75,-18.75,-18.75,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.84,-13.84,-13.84,-13.84,-13.84,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,506,350,500,825,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean i",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean i",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean ii"===a?(e=32,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-17.6,-17.6,-17.6,-17.6,-17.6,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.59,-13.59,-13.59,-13.59,-13.59,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,519,363,500,846,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean ii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean ii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean iii"===a?(e=33,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-16.9,-16.9,-16.9,-16.9,-16.9,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.4,-13.4,-13.4,-13.4,-13.4,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,571,377,500,867,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean iii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean iii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean iv"===a?(e=34,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-16.5,-16.5,-16.5,-16.5,-16.5,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.09,-13.09,-13.09,-13.09,-13.09,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,584,404,500,887,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean iv",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean iv",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean v"===a?(e=35,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-16.1,-16.1,-16.1,-16.1,-16.1,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.83,-12.83,-12.83,-12.83,-12.83,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,597,417,500,908,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean v",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean v",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean vi"===a?(e=36,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-15.8,-15.8,-15.8,-15.8,-15.8,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.58,-12.58,-12.58,-12.58,-12.58,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,611,430,500,929,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean vi",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean vi",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean vii"===a?(e=37,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-15.45,-15.45,-15.45,-15.45,-15.45,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.33,-12.33,-12.33,-12.33,-12.33,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.7,.9,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,630,430,500,950,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean vii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean vii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean viii"===a?(e=38,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-15.1,-15.1,-15.1,-15.1,-15.1,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.07,-12.07,-12.07,-12.07,-12.07,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,653,430,500,971,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean viii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean viii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean ix"===a?(e=39,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.82,-14.82,-14.82,-14.82,-14.82,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.88,-11.88,-11.88,-11.88,-11.88,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,702,430,500,976,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean ix",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean ix",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean x"===a?(e=40,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.65,-14.65,-14.65,-14.65,-14.65,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.78,-11.78,-11.78,-11.78,-11.78,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,718,430,500,976,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean x",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean x",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean xi"===a?(e=41,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.5,-14.5,-14.5,-14.5,-14.5,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.7,-11.7,-11.7,-11.7,-11.7,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,630,430,500,950,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean xi",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean xi",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean xii"===a&&(e=42,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.4,-14.4,-14.4,-14.4,-14.4,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.65,-11.65,-11.65,-11.65,-11.65,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,630,430,500,950,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean xii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean xii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}),{type:"generic",id:function(){return e
},name:function(){return a},isValid:function(){return e>-1},cropParameters:function(){return y},setCropParameters:function(t){y=t},residueParameters:function(){return S},setResidueParameters:function(t){S=t},seedDate:function(){return p},harvestDate:function(){return s},getCuttingDates:function(){return _},setSeedAndHarvestDate:function(t,e){p=t,s=e},addCuttingDate:function(t){_.push(t)},setHarvestYields:function(t,e){l+=t,d+=e},setHarvestYieldsTM:function(t,e){f+=t,g+=e},addCuttingYieldDM:function(t){c.push(t)},getCuttingYieldsDM:function(){return c},setYieldNContent:function(t,e){u+=t,v+=e},addAppliedIrrigationWater:function(t){r+=t},setSumTotalNUptake:function(t){m=t},setCropHeight:function(t){o=t},setAccumulatedETa:function(t){i=t},appliedIrrigationWater:function(){return r},sumTotalNUptake:function(){return m},primaryYield:function(){return l*n},secondaryYield:function(){return d*n},primaryYieldTM:function(){return f*n},secondaryYieldTM:function(){return g*n},primaryYieldN:function(){return u},aboveGroundBiomasseN:function(){return u+v},secondaryYieldN:function(){return v},cropHeight:function(){return o},reset:function(){l=d=r=0,u=v=i=0,f=d=0},get_AccumulatedETa:function(){return i}}},Oe=function(e,a,i,r,o){for(var _=e,f=a,d=i,h=o,A=e.vs_NumberOfLayers(),N=r.vs_Latitude,P=0,T=0,H=d.pc_AbovegroundOrgan,I=0,b=d.pc_AssimilatePartitioningCoeff,x=0,L=0,B=0,E=d.pc_BaseDaylength,G=d.pc_BaseTemperature,U=d.pc_BeginSensitivePhaseHeatStress,k=0,V=0,Y=3,W=d.pc_CarboxylationPathway,q=0,K=0,z=d.pc_CriticalOxygenContent,J=d.pc_CriticalTemperatureHeatStress,j=0,Z=1,Q=0,$=d.pc_CropHeightP1,te=d.pc_CropHeightP2,ee=0,ae=1,ie=d.pc_CropName,re=d.pc_CropSpecificMaxRootingDepth,oe=new Float64Array(d.pc_NumberOfDevelopmentalStages),ne=0,_e=0,ce=0,se=d.pc_DaylengthRequirement,pe=0,le=0,ue=d.pc_DefaultRadiationUseEfficiency,fe=d.pc_DevelopmentAccelerationByNitrogenStress,de=0,ve=1,ge=d.pc_DroughtImpactOnFertilityFactor,me=d.pc_DroughtStressThreshold,Se=0,ye=f.pc_EmergenceFloodingControlOn,he=f.pc_EmergenceMoistureControlOn,Me=d.pc_EndSensitivePhaseHeatStress,Oe=0,Ce=0,Ae=0,Ne=0,De=d.pc_FixingN,we=new Float64Array(A),Pe=0,Re=0,Fe=0,Te=0,He=0,Ie=0,be=0,xe=0,Le=r.vs_HeightNN,Be=d.pc_InitialKcFactor,Ee=d.pc_InitialOrganBiomass,Ge=d.pc_InitialRootingDepth,Ue=0,ke=.6,Ve=0,Ye=d.pc_LimitingTemperatureHeatStress,We=d.pc_LuxuryNCoeff,qe=0,Ke=d.pc_MaxAssimilationRate,ze=d.pc_MaxCropDiameter,Je=d.pc_MaxCropHeight,je=r.vs_MaxEffectiveRootingDepth,Xe=0,Ze=d.pc_MaxNUptakeParam,Qe=0,$e=d.pc_MinimumNConcentration,ta=d.pc_MinimumTemperatureForAssimilation,ea=d.pc_MinimumTemperatureRootGrowth,aa=d.pc_NConcentrationAbovegroundBiomass,ia=0,ra=0,oa=d.pc_NConcentrationB0,na=d.pc_NConcentrationPN,_a=d.pc_NConcentrationRoot,ca=0,sa=0,pa=new Float64Array(A),la=0,ua=0,fa=0,da=0,va=f.pc_NitrogenResponseOn,ga=d.pc_NumberOfDevelopmentalStages,ma=d.pc_NumberOfOrgans,Sa=d.pc_OptimumTemperature,ya=new Float64Array(d.pc_NumberOfOrgans),ha=new Float64Array(d.pc_NumberOfOrgans),Ma=new Float64Array(d.pc_NumberOfOrgans),Oa=new Float64Array(d.pc_NumberOfOrgans),Ca=d.pc_OrganGrowthRespiration,Aa=d.pc_OrganMaintenanceRespiration,Na=new Float64Array(d.pc_NumberOfOrgans),Da=d.pc_OrganSenescenceRate,wa=0,Pa=0,Ra=0,Fa=0,Ta=d.pc_PlantDensity,Ha=0,Ia=0,ba=0,xa=0,La=0,Ba=d.pc_ResidueNRatio,Ea=0,Ga=0,Ua=0,ka=new Float64Array(A),Va=new Float64Array(A),Ya=(d.pc_RootDistributionParam,new Float64Array(A)),Wa=d.pc_RootFormFactor,qa=d.pc_RootGrowthLag,Ka=d.pc_RootPenetrationRate,za=0,Ja=0,ja=0,Xa=0,Za=new Float64Array(A),Qa=0,$a=0,ti=d.pc_SpecificLeafArea,ei=d.pc_SpecificRootLength,ai=d.pc_StageAtMaxDiameter,ii=d.pc_StageAtMaxHeight,ri=d.pc_StageKcFactor,oi=d.pc_StageMaxRootNConcentration,ni=d.pc_StageTemperatureSum,_i=0,ci=d.pc_StorageOrgan,si=4,pi=0,li=0,ui=1,fi=0,di=0,vi=0,gi=0,mi=0,Si=0,yi=0,hi=0,Mi=0,Oi=new Float64Array(A),Ci=1,Ai=new Float64Array(A),Ni=0,Di=0,wi=d.pc_VernalisationRequirement,Pi=f.pc_WaterDeficitResponseOn,Ri=0,Fi=0,Ti=!1,Hi=0;A>Hi;Hi++)Ai[Hi]=1;di=h.userCropParameters.pc_Tortuosity;for(var Ii=1;ga-1>Ii;Ii++)Mi+=ni[Ii];Ae=ga-1;for(var bi=0;ma>bi;bi++)ya[bi]=Ee[bi],1==H[bi]&&(P+=Ee[bi]),vi+=Ee[bi],1==ci[bi]&&(si=bi),1==ci[bi]&&(si=bi);Ga=Ee[0],Ve=ya[1]*ti[de],0>=Ve&&(Ve=.001),Ga=ya[0],hi=1e5*Ga*100/7/(225e-6*F),gi=P*aa+Ga*_a,ia=aa,ca=_a;var xi=_[0].vs_SoilSandContent,Li=_[0].vs_SoilBulkDensity();.55>xi&&(xi=.55),Qa=$a>0?$a:xi*((1.1-xi)/.275)*(1.4/(Li/1e3)+Li*Li/4e7),Qe=(Qa+2*re)/3;var Bi=function(t,e,a,i,r,o,n,c,s,p,l){Fi>0&&Fi--,Ei(t,N,r,o),Pa=ki(z[de]),Vi(e,G,Sa,ni,ui,_[0].get_Vs_SoilMoisture_m3(),_[0].get_FieldCapacity(),_[0].get_PermanentWiltingPoint(),ga,Di,ce,ae),ce=Gi(se[de],Se,Fa,E[de]);var u=Ui(e,ui,wi[de],Ni);Di=u[0],Ni=u[1],ba=ne/Mi,ke=0==de?.4:Yi(de,ni[de],oe[de],Be,ri[de],ri[de-1]),de>0&&(Wi(Je,ze,ii,ai,ni,ne,$,te),qi(Oa[1],Na[1],Q,j,ti[de-1],ti[de],ti[1],ni[de],oe[de],Ta,ui),Xa=Ki(Ve),zi(e,a,i,Pe,p,N,Ve,ue,Ke,ta,B,le,q,Se,wa),Ji(a,i,ne),ji(Ci),Xi(),Zi(A,_.vs_LayerThickness(),de,x,e),Ia=Qi(Le,a,i,n,e,c,s,Pe,p,He),$i(A,_.vs_LayerThickness(),Xa,ja,_.vm_GroundwaterTable,Ia,l,ne,Mi),tr(A,_.vs_LayerThickness(),ja,_.vm_GroundwaterTable,ne,Mi),be=er(Fe),da=ar(be,yi))},Ei=function(t,e,a,i){var r=0,o=0;le=-23.4*v(2*F*((t+10)/365)),r=D(le*F/180)*D(e*F/180),o=v(le*F/180)*v(e*F/180),B=12*(F+2*u(r/o))/F;var n=(-D(8*F/180)+r)/o;Se=-1>n||n>1?.01:12*(F+2*u(n))/F,Fa=12*(F+2*u((-D(-6*F/180)+r)/o))/F,Ra=3600*(r*B+24/F*o*w(1-r/o*(r/o))),q=650*Ra*g(-.14/(Ra/(3600*B))),wa=.2*q;var _=.082,c=1440/F*_*(1+.033*v(2*F*t/365)),s=l(-R(e*F/180)*R(le*F/180));Ce=c*(s*r+o*D(s)),Pe=a>0?a:Ce*(.19+.55*i/B)},Gi=function(t,e,a,i){if(t>0)ce=(Fa-i)/(t-i);else if(0>t){var r=-t,o=-i;ce=r>=Se?1:(Se-o)/(r-o)}else ce=1;return ce>1&&(ce=1),0>ce&&(ce=0),ce},Ui=function(t,e,a,i){var r;if(0==a)Di=1;else{r=t>-4&&0>=t?(t+4)/4:t>0&&3>=t?1:t>3&&7>=t?1-.2*(t-3)/4:t>7&&9>=t?.8-.4*(t-7)/2:t>9&&18>=t?.4-.4*(t-9)/9:-4>=t||t>18?0:1,i+=r*e;var o=O(a,9)-1;o>=1?(Di=(i-o)/(a-o),0>Di&&(Di=0)):Di=1}return[Di,i]},ki=function(t,e,a){var e=e||0,a=a||0;return e=(_[0].get_Saturation()+_[1].get_Saturation()+_[2].get_Saturation()-(_[0].get_Vs_SoilMoisture_m3()+_[1].get_Vs_SoilMoisture_m3()+_[2].get_Vs_SoilMoisture_m3()))/3,t>e?(fi+=S(ui),fi>4&&(fi=4),0>e&&(e=0),a=e/t,Pa=1-S(fi/4)*(1-a)):(fi=0,Pa=1),Pa>1&&(Pa=1),Pa},Vi=function(t,e,a,i,r,o,c,s,p,l,u,f){var d,v=0,g=0,m=0,S=_[0].get_Vs_SoilTemperature();0==de?S>e[de]&&(d=c-s,1==he&&1==ye?o>.2*d+s&&_.vs_SurfaceWaterStorage<.001&&(oe[de]+=(S-e[de])*r,oe[de]>=i[de]&&de++):1==he&&0==ye?o>.2*d+s&&(oe[de]+=(S-e[de])*r,oe[de]>=i[de]&&de++):0==he&&1==ye?_.vs_SurfaceWaterStorage<.001&&(oe[de]+=(S-e[de])*r,oe[de]>=i[de]&&de++):(oe[de]+=(S-e[de])*r,oe[de]>=i[de]&&de++)):de>0?(v=1==fe&&b[de][si]>.9?1+(1-f)*(1-f):1,g=Ci<me[de]&&b[de][si]>.9?1>Pa?1:1+(1-Ci)*(1-Ci):1,m=M(v,g),t>e[de]&&(t>a[de]&&(t=a[de]),oe[de]+=(t-e[de])*l*u*m*r,ne+=(t-e[de])*l*u*m*r),oe[de]>=i[de]&&p-1>de&&de++):X(n.WARN,"irregular developmental stage")},Yi=function(t,e,a,i,r,o){var n,_=a/e;return _>1&&(_=1),n=0==t?i+(r-i)*_:o+(r-o)*_},Wi=function(t,e,a,i,r,o,n,_){for(var c=0,s=1;a+1>s;s++)c+=r[s];for(var p=0,s=1;i+1>s;s++)p+=r[s];var l=o/c;l>1&&(l=1);var u=o/p;u>1&&(u=1),Q=l>0?t/(1+g(-n*(l-_))):0,j=u>0?e*u:0},qi=function(t,e,a,i,r,o,n,_,c,s,p){Ve+=t*(r+c/_*(o-r))*p-e*n*p,0>=Ve&&(Ve=.001),Re=Ve+a*F*i*s},Ki=function(t){return Xa=1-g(-.5*t)},zi=function(t,e,a,i,r,o,n,_,c,s,p,l,u,f,v){var m=0,S=0,M=0,A=0,N=0,w=0,P=0,R=0,T=0,H=0,I=0,b=0,B=0,E=0,G=0,U=0,k=0,V=0,q=0,K=0,z=0,J=0,j=0,X=0,Z=0,Q=0,$=0,te=0,ee=0,ae=0,ie=0,re=0,oe=0,ne=0,_e=0,ce=0,se=0,pe=0,le=0,ue=0,fe=0,ve=0,ge=0,Se=0,ye=0,he=0,Me=0,Oe=0,Ce=0,Ae=0,Ne=0,De=0,we=0,Pe=0,Re=0,be=0,Le=0,Be=0,Ee=0,Ge=0,Ue=0,ke=h.userCropParameters,Ve=ke.pc_ReferenceLeafAreaIndex,Ye=ke.pc_ReferenceMaxAssimilationRate,We=ke.pc_MaintenanceRespirationParameter1,Ke=ke.pc_MaintenanceRespirationParameter2,ze=ke.pc_GrowthRespirationParameter1,Je=ke.pc_GrowthRespirationParameter2,je=ke.pc_CanopyReflectionCoefficient;3==Y?(N=g(68800*(t+273-298)/(298*(t+273)*8.314))*C((t+273)/298,.5),w=g(65800*(t+273-298)/(298*(t+273)*8.314))*C((t+273)/298,.5),P=g(1400*(t+273-298)/(298*(t+273)*8.314))*C((t+273)/298,.5),R=c/34.668,T=Ye/34.668,H=98*R*N,I=98*T*N,b=460*w,B=330*P,E=210+(.047-.0013087*t+25603e-9*t*t-2.1441e-7*t*t*t)/.026934,G=.7*r*(1.674-.061294*t+.0011688*t*t-88741e-10*t*t*t)/.73547,m=.105*H*E/(H*B),S=.105*I*E/(I*B),M=O(.77/2.1*(G-m)/(4.5*G+10.5*m)*8.3769,.5),A=O(.77/2.1*(G-S)/(4.5*G+10.5*S)*8.3769,.5)):(M=_,A=_),1==W?2==Y?(s>t?(L=0,U=0):10>t?(L=c*t/10*.4,U=Ye*t/10*.4):15>t?(L=c*(.4+(t-10)/5*.5),U=Ye*(.4+(t-10)/5*.5)):25>t?(L=c*(.9+(t-15)/10*.1),U=Ye*(.9+(t-15)/10*.1)):35>t?(L=c*(1-(t-25)/10),U=Ye*(1-(t-25)/10)):(L=0,U=0),k=220+.158*(86400*i/1e6),V=80-.036*(86400*i/1e6),q=(r-V)/(k+r-V)/((350-V)/(k+350-V)),L*=q,U*=q):3==Y&&(L=(G-m)*H/(G+b*(1+E/B))*1.656,U=(G-S)*I/(G+b*(1+E/B))*1.656,s>t&&(L=0,U=0)):s>t?(L=0,U=0):9>t?(L=c*t/10*.08,U=Ye*t/10*.08):14>t?(L=c*(.071+.03*(t-9)),U=Ye*(.071+.03*(t-9))):20>t?(L=c*(.221+.09*(t-14)),U=Ye*(.221+.09*(t-14))):24>t?(L=c*(.761+.04*(t-20)),U=Ye*(.761+.04*(t-20))):32>t?(L=c*(.921+.01*(t-24)),U=Ye*(.921+.01*(t-24))):38>t?(L=c,U=Ye):42>t?(L=c*(1-.01*(t-38)),U=Ye*(1-.01*(t-38))):45>t?(L=c*(.96-.04*(t-42)),U=Ye*(.96-.04*(t-42))):54>t?(L=c*(.84-.09*(t-45)),U=Ye*(.84-.09*(t-45))):(L=0,U=0),Fi>0&&(L=0,U=0),.1>L&&(L=.1),.1>U&&(U=.1),K=(1-je)*M,z=(1-je)*A,J=D((90+l-o)*F/180),j=y(1+.45*u/(3600*f)*K/(J*L)),X=y(1+.45*u/(3600*f)*z/(J*U)),Z=J*L*f*j/(1+j),Q=J*U*f*X/(1+X),$=y(1+.55*u/(3600*f)*K/((5-J)*L)),te=y(1+.55*u/(3600*f)*K/((5-J)*U)),ee=(5-J)*L*f*$/(1+$),ae=(5-J)*U*f*te/(1+te),ie=.95*(Z+ee)+20.5,re=.95*(Q+ae)+20.5,oe=ie*(1-g(-.8*n)),ne=re*(1-g(-.8*Ve)),_e=p*n*L,ce=p*Ve*U,se=_e>oe?oe*(1-g(-_e/oe)):_e*(1-g(-oe/_e)),pe=ce>ne?ne*(1-g(-ce/ne)):ce*(1-g(-ne/ce)),le=v/(3600*f)*K/(5*L),ue=5*L*f*le/(1+le),fe=.9935*ue+1.1,ve=fe*(1-g(-.8*n)),ge=fe*(1-g(-.8*Ve)),Se=_e>ve?ve*(1-g(-_e/ve)):_e*(1-g(-ve/_e)),ye=ce>ge?ge*(1-g(-ce/ge)):ce*(1-g(-ge/ce)),5>n?(Oe=se,Ce=Se):(Oe=ie,Ce=fe),he=pe,Me=ye,De=(u-1e6*i*.5)/(.8*u),De>1&&(De=1),0>De&&(De=0),Ae=De*Ce+(1-De)*Oe,Ne=De*Me+(1-De)*he,Re=1>Pa?0:me[de],Re>Ci&&(Ae=Ae),Te=30*Ae/44,Ie=22414*Ae/38016e3,He=22414*Ne/38016e3,x=30*Ae/44,x*=d.pc_FieldConditionModifier,Re>Ci&&(x*=Ci),Fe=x,be=e-(e-a)/4,Le=a+(e-a)/4;for(var Xe=0,Ze=0;ma>Ze;Ze++)Xe+=(ya[Ze]-ha[Ze])*Aa[Ze];var Qe=2-Fa/12;Be=Xe*C(2,We*(be-Ke))*(2-Qe),Ee=Xe*C(2,We*(Le-Ke))*Qe,qe=Be+Ee,x-=Be+Ee;for(var $e=0,Ze=0;ma>Ze;Ze++)$e+=(ya[Ze]-ha[Ze])*Ca[Ze];x>0&&(Ge=$e*C(2,ze*(be-Je))*(2-Qe),x>Ge?x-=Ge:(Ge=x,x=0)),x>0&&(Ue=$e*C(2,ze*(be-Je))*Qe,x>Ue?x-=Ue:(Ue=x,x=0)),xe=Ge+Ue,yi=Fe-x,we=C(2,.1*t-2.5),Pe=0;for(var Ze=0;ma>Ze;Ze++)Pe+=(ya[Ze]-ha[Ze])*Aa[Ze];la=Pe*we>Te?Te:Pe*we,s>t&&(Te=la)},Ji=function(t,e,a){var i=t-(t-e)/4,r=0,o=0;if(0==U&&0==Me&&(mi=1),a>=U&&Me>a){var n=1-(i-J)/(Ye-J);n>1&&(n=1),0>n&&(n=0),r=1/(1+(1/.015-1)*g(-1.4*pe)),o=pe>0?1/(1+(1/.015-1)*g(-1.4*(pe-1))):0;var _=r-o;mi+=n*_,pe+=1}a>=Me&&Z>mi&&(Z=mi)},ji=function(t){if(0>t&&(t=0),t<ge*me[de]&&b[de][si]>0){var e=t/(ge*me[de]);ve=1>Pa?1:1-(1-e)*(1-e)}else ve=1},Xi=function(){var t=0,e=0,a=0;K=na*(1+oa*g(-.26*(P+k)/1e3))/100,li=K*We,ra=ia,sa=ca,.01>ca?.005>=ca?t=0:(e=(ca-.005)/.005,t=1-w(1-e*e)):t=1,0==De?K>ia?$e>=ia?ae=0:(a=(ia-$e)/(K-$e),ae=1-g($e-5*a)):ae=1:1==De?K>ia&&(Ne=K-ia,ia=K,ae=1):ae=1,0==va&&(ae=1)},Zi=function(t,e,a,i,r){var o=0,l=0,u=0,f=0,d=0,v=h.userCropParameters,y=v.pc_MaxCropNDemand;ua=i,La=0,T=P,P=0,V=k,k=0,vi=0,gi+=1e4*_.vq_CropNUptake;for(var M=.3,O=0;ma>O;O++){if(f=b[a-1][O],d=b[a][O],1==ci[O]&&(f=f*Z*ve,d=d*Z*ve),oe[a]/ni[a]>1)Oa[O]=0,Na[O]=0;else{if(0>ua)if(ya[O],O==c){var C=M*ua;p(C)<=ya[O]?(X(n.INFO,"LEAF - Reducing organ biomass - default case ("+(ya[O]+Oa[O])+")"),Oa[O]=C):(X(n.INFO,"LEAF - Not enough biomass for reduction - Reducing only what is available "),Oa[O]=-1*ya[O])}else if(O==s){var C=M*ua;p(C)<=ya[O]?(Oa[O]=C,X(n.INFO,"SHOOT - Reducing organ biomass - default case ("+(ya[O]+Oa[O])+")")):(X(n.INFO,"SHOOT - Not enough biomass for reduction - Reducing only what is available"),Oa[O]=-1*ya[O])}else Oa[O]=0;else Oa[O]=ua*(f+(d-f)*(oe[a]/ni[a]))*ae;Na[O]=(ya[O]-ha[O])*(Da[a-1][O]+(Da[a][O]-Da[a-1][O])*(oe[a]/ni[a]))}O!=si?(ya[O]+=Oa[O]*ui-Na[O]*ui,ya[si]+=.35*Na[O]):ya[O]+=ga>a?Oa[O]*ui-Na[O]*ui+.3*(Na[O-1]*ui+Na[O-2]*ui+Na[O-3]*ui):Oa[O]*ui-Na[O]*ui,ha[O]+=Na[O]*ui,Ma[O]=ya[O]-ha[O],Ma[O]<0&&(ha[O]=ya[O],Ma[O]=0),1==H[O]?P+=ya[O]:0==H[O]&&O>0&&(k+=ya[O]),vi+=ya[O]}La=0,Ua=Ga,Ga=ya[0],o=a>0?oi[a-1]-(oi[a-1]-oi[a])*oe[a]/ni[a]:oi[a],ee=(li*P+Ga*o+li*k/Ba-gi)*ui,l=((li-.15*(li-K))*P+(li-.15*(li-K))*k/Ba+Ga*o-gi)*ui,ee>y*ui&&(ee=y*ui),0>ee&&(ee=0),u=Ua>Ga?(Ua-Ga)*ca:0,Ci<.95*me[a]&&Ja>.95*Qe&&ga-1>a&&(Qe+=.005),Qe>t*e&&(Qe=t*e);var A=ea+20,N=0;N=r>=A?A-ea:r-ea,0>N&&(N=0),_e+=N;var D=0;D=_[za].vs_SoilClayContent<=.02?.5*Ka:_[za].vs_SoilClayContent<=.08?(1/3+.5/.06*_[za].vs_SoilClayContent)*Ka:Ka,qa>=_e?Ja=Ge:Ja+=N*D,Ge>=Ja&&(Ja=Ge),Ja>Qe&&(Ja=Qe),Ja>je&&(Ja=je),za=S(m(.5+Ja/e)),za>t&&(za=t),ja=S(m(.5+1.3*Ja/e)),ja>t&&(ja=t),hi=Ga*ei;for(var w=new Array(t),R=0;t>R;R++)w[R]=za>R?g(-Wa*R*e):ja>R?g(-Wa*R*e)*(1-S((R-za)/(ja-za))):0;for(var F=0,R=0;ja>R;R++)F+=w[R];for(var R=0;ja>R;R++)ka[R]=w[R]/F*hi;for(var R=0;ja>R;R++)Va[R]=0==H[3]?1e-4:2e-4-1e-5*(R+1),we[R]+=u*ka[R]*10/hi;Xe=Ze-ne/Mi,ee/1e4>hi*Xe*ui?ee=hi*Xe*ui:ee/=1e4},Qi=function(t,e,a,i,r,o,n,_,c,s){var p,l,u,f,d,v,m,S,M,O,A,N,D,P=h.userCropParameters,R=P.pc_SaturationBeta,F=P.pc_StomataConductanceAlpha,T=P.pc_ReferenceAlbedo;p=101.3*C((293-.0065*t)/293,5.26),l=665e-6*p,u=.6108*g(17.27*e/(237.3+e)),f=.6108*g(17.27*a/(237.3+a)),d=(u+f)/2,v=0>=i?f:i*d,m=d-v,S=2503.0584*g(17.27*r/(r+237.3))/((r+237.3)*(r+237.3)),M=o*(4.87/y(67.8*n-5.42)),O=208/M,_i=0>=s?999999.9:c*(1+m/R)/(F*s),A=_i/1.44;var H=(.75+2e-5*t)*Ce,I=_/H,b=(1-T)*_,x=4.9e-9;return D=b-x*(C(a+273.16,4)+C(e+273.16,4))/2*(1.35*I-.35)*(.34-.14*w(v)),N=(.408*S*D+l*(900/(r+273))*M*m)/(S+l*(1+A/O))},$i=function(t,e,a,i,r,o,n){i=S(i),r=S(r);var c=0;Ha=0;var s=0,p=0;I=0;var l=0,u=0,f=0,d=0,v=0;xa=0;for(var g=0;t>g;g++)Oi[g]=0,Ai[g]=0,Ya[g]=0;var m=Ue;if(v=2.5*Q*a-Ue,0>v&&(v=0),0>=n&&(v=0),v>=n?(v=n,fa=0):fa=n-v,Ue=m+v,s=o*ke,s>6.5&&(s=6.5),xa=s,Ue>0?xa>=Ue?(xa-=Ue,Oe=Ue,Ue=0):(Ue-=xa,Oe=xa,xa=0):Oe=0,Ae>de){Ha=xa*a;for(var g=0;i>g;g++){var y=_[g].get_FieldCapacity()-_[g].get_PermanentWiltingPoint(),h=(_[g].get_Vs_SoilMoisture_m3()-_[g].get_PermanentWiltingPoint())/y;0>h&&(h=0),.15>h?(Ai[g]=3*h,Ya[g]=.15+.45*h/.15):.3>h?(Ai[g]=.45+.25*(h-.15)/.15,Ya[g]=.6+.2*(h-.15)/.15):.5>h?(Ai[g]=.7+.275*(h-.3)/.2,Ya[g]=.8+.2*(h-.3)/.2):.75>h?(Ai[g]=.975+.025*(h-.5)/.25,Ya[g]=1):(Ai[g]=1,Ya[g]=1),Ai[g]<0&&(Ai[g]=0),Ya[g]<0&&(Ya[g]=0),g==r&&(Ya[g]=.5),g>r&&(Ya[g]=0),(g+1)*e>=je&&(Ya[g]=0),f+=Ya[g]*ka[g],l=f}for(var g=0;t>g;g++)Oi[g]=g>O(i,r+1)?0:Ha*(Ya[g]*ka[g]/f)*Pa;for(var g=0;g<O(i,r+1);g++){if(l-=Ya[g]*ka[g],0>=l&&(l=1e-5),Oi[g]/1e3/e>_[g].get_Vs_SoilMoisture_m3()-_[g].get_PermanentWiltingPoint()?(c=(Oi[g]/1e3/e-(_[g].get_Vs_SoilMoisture_m3()-_[g].get_PermanentWiltingPoint()))*e*1e3,0>c&&(c=0),c>Oi[g]&&(c=Oi[g])):c=0,p=Oi[g]*(1-Ai[g]),d=M(p,c),d>0&&g<O(i,r+1))for(var C=g+1;C<O(i,r+1);C++)Oi[C]+=d*(Ya[C]*ka[C]/l);Oi[g]=Oi[g]-d,Oi[g]<0&&(Oi[g]=0),I+=Oi[g],g==r&&(u=Oi[g]/1e3/e)}Ci=Ha>0?I/Ha:1;var A=S(r-za);1>=A&&(Ci=1),0==Pi&&(Ci=1)}},tr=function(t,e,a,i){a=S(a),i=S(i);for(var r=0,o=0,n=[],c=[],s=[],p=0;t>p;p++)n[p]=0,c[p]=0,s[p]=0;var l=0,u=0,f=h.userCropParameters,d=f.pc_MinimumAvailableN,v=f.pc_MinimumNConcentrationRoot,m=f.pc_MaxCropNDemand;Si=0;for(var y=0;t>y;y++)pa[y]=0;if(Ae>de){for(var y=0;y<O(a,i);y++)Za[y]=_[y].vs_SoilNO3,n[y]=Oi[y]/1e3*(Za[y]/_[y].get_Vs_SoilMoisture_m3())*ui,r+=n[y],c[y]=214e-6*di*g(10*_[y].get_Vs_SoilMoisture_m3())/_[y].get_Vs_SoilMoisture_m3(),s[y]=c[y]*_[y].get_Vs_SoilMoisture_m3()*2*F*Va[y]*(Za[y]/1e3/_[y].get_Vs_SoilMoisture_m3()-14e-6)*w(F*ka[y])*ka[y]*1e3*ui,s[y]<0&&(s[y]=0),o+=s[y];for(var y=0;y<O(a,i);y++)ee>0?(pa[y]=r>=ee?ee*n[y]/r:o>ee-r?n[y]+(ee-r)*s[y]/o:n[y]+s[y],l+=n[y],u+=s[y],pa[y]>Za[y]*e-d&&(pa[y]=Za[y]*e-d),pa[y]>m/1e4*.75&&(pa[y]=m/1e4*.75),pa[y]<0&&(pa[y]=0)):pa[y]=0,Si+=1e4*pa[y]}pi+=Si,Ga>Ua&&(ca=(Ua*ca+(Ga-Ua)/(P-T+k-V+Ga-Ua)*Si)/Ga,ca=O(ca,oi[de]),v>ca&&(ca=v)),ia=(gi+Si-Ga*ca)/(P+k/Ba),T*ra>ia*P&&(ia=T*ra/P,ca=(gi+Si-P*ia-ia/Ba*k)/Ga)},er=function(t){var e=0;return e=t/30*12},ar=function(t,e){var a=0;return Ea=e/30*12,a=t-Ea},ir=function(t){return Oa[t]},rr=function(t){return Oi[t]},or=function(t){return ya[t]},nr=function(t){return pa[t]},_r=function(t,e){for(var a=0,i=0,r=t.length;r>i;i++)a+=e[t[i].organId-1]*t[i].yieldPercentage;return a},cr=function(t,e){for(var a=0,i=0,r=t.length;r>i;i++)a+=e[t[i].organId-1]*t[i].yieldPercentage/t[i].yieldDryMatter;return a},sr=function(){return 0===d.organIdsForPrimaryYield.length?_r(d.organIdsForCutting,ya):_r(d.organIdsForPrimaryYield,ya)},pr=function(){return _r(d.organIdsForSecondaryYield,ya)},lr=function(){return 0===d.organIdsForPrimaryYield.length?cr(d.organIdsForCutting,ya):cr(d.organIdsForPrimaryYield,ya)},ur=function(t){return vi-or(0)-sr()-(t?pr():0)},fr=function(){return(gi-or(0)*Mr())/(sr()/Ba+(vi-or(0)-sr()))},dr=function(){return(gi-or(0)*Mr())/(sr()+Ba*(vi-or(0)-sr()))},vr=function(t){return ur(t)*fr()},gr=function(){return sr()*dr()},mr=function(){return 6.25*dr()},Sr=function(){return pr()*fr()},yr=function(){return 1e4*ee},hr=function(t){Ri+=t},Mr=function(){return ca},Or=function(){return Ga},Cr=function(){return ie},Ar=function(){return Di},Nr=function(){return ua},Dr=function(){return Te},wr=function(){return Ia},Pr=function(){return xa},Rr=function(){return Oe},Fr=function(){return fa},Tr=function(){return Ve},Hr=function(){return Q},Ir=function(){return za},br=function(){return Xa},xr=function(){return ke},Lr=function(){return _i},Br=function(){return Ha},Er=function(){return Ci},Gr=function(){return Pa},Ur=function(){return ae},kr=function(){return Z},Vr=function(){return ne},Yr=function(){return de},Wr=function(){return ba},qr=function(){return P},Kr=function(){return ia},zr=function(){return d.pc_HeatSumIrrigationStart},Jr=function(){return d.pc_HeatSumIrrigationEnd},jr=function(){return pi},Xr=function(t){return void 0===t?Si:nr(t)},Zr=function(){return da},Qr=function(){return Ri},$r=function(){return Ti},to=function(){return ma},eo=function(t){return void 0!==t?or(t):vi};return Object.create(t.prototype,{step:{value:Bi},isDying:{value:$r},name:{value:Cr},height:{value:Hr},kcFactor:{value:xr},leafAreaIndex:{value:Tr},numberOfOrgans:{value:to},soilCoverage:{value:br},stomataResistance:{value:Lr},vernalisationFactor:{value:Ar},rootingDepth:{value:Ir},nitrogenStress:{value:Ur},heatStress:{value:kr},oxygenStress:{value:Gr},waterStress:{value:Er},biomass:{value:eo},growthIncrement:{value:ir},shootBiomass:{value:qr},shootBiomassNitrogenConcentration:{value:Kr},rootBiomass:{value:Or},rootNitrogenConcentration:{value:Mr},netPrimaryProduction:{value:Zr},netPhotosynthesis:{value:Nr},grossPhotosynthesis:{value:Dr},primaryYield:{value:sr},primaryYieldFreshMatter:{value:lr},primaryYieldNitrogenConcentration:{value:dr},primaryYieldNitrogenContent:{value:gr},primaryYieldCrudeProteinConcentration:{value:mr},secondaryYield:{value:pr},secondaryYieldNitrogenConcentration:{value:fr},secondaryYieldNitrogenContent:{value:Sr},residueBiomass:{value:ur},residuesNitrogenConcentration:{value:fr},residuesNitrogenContent:{value:vr},referenceEvapotranspiration:{value:wr},accumulatedEvapotranspiration:{value:Qr},accumulateEvapotranspiration:{value:hr},remainingEvapotranspiration:{value:Pr},transpiration:{value:rr},potentialTranspiration:{value:Br},evaporatedFromIntercept:{value:Rr},netPrecipitation:{value:Fr},nitrogenUptake:{value:Xr},potentialNitrogenUptake:{value:yr},accumulatedNitrogenUptake:{value:jr},currentTemperatureSum:{value:Vr},developmentalStage:{value:Yr},relativeTotalDevelopment:{value:Wr},heatSumIrrigationEnd:{value:Jr},heatSumIrrigationStart:{value:zr}})},Ce=function(t,e,a){this.mixture=null,this._seedDate=t,this._harvestDates=e;for(var i=(new Date(1/0),new Date(1/0),function(t){var e=this;if(this.isLegume=!1,this.isC4=!1,this.type="generic grass",this.cons={index:0,f_cover:1,h_m:.5,L_half:2,"σ":20,d_r_h:.15,d_r_mx:.4,"δ_ndf_live_l_1":.8,"δ_ndf_live_l_2":.5,"δ_ndf_live_l_3":.3,"δ_ndf_dead_l":.2,"δ_ndf_live_s_1":.7,"δ_ndf_live_s_2":.4,"δ_ndf_live_s_3":.3,"δ_ndf_dead_s":.2,"δ_nfc":1,T_mn_high:5,T_mn_low:0,T_mx_high:35,T_mx_low:30,T_sum_low:100,T_sum_high:100,photo:{T_ref:20,T_mn:3,T_opt_Pm_amb:23,"ξ":.8,"α_amb_15":.05,k:.5,P_m_ref:16,"λ":1.2,f_C_m:1.49,"γ_Pm":10,"λ_α":.02,"γ_α":6},resp:{m_ref:.025,T_ref:20,T_m_mn:3,"λ_N_up":.6,"λ_N_fix":6},part:{"ρ_shoot_ref":.75,"ρ_l_max":.7,GDD_flower:500},N_leaf:{opt:.04/.45,max:.045/.45,ref:.04/.45},"τ_veg":200,fAsh_dm_l_ref:.09,fAsh_dm_s_ref:.04,fAsh_dm_r_ref:.04,fH2O_fm_l_ref:.8,fH2O_fm_s_ref:.7},this.vars={GDD:0,"Ω_N":1,"Ω_water":1,"τ_T_low":1,"τ_T_high":1,"ζ_T_low":0,"ζ_T_high":0,R_m:0,R_N:0,G:0,G_leaf:0,G_stem:0,G_root:0,Y:.75,Y_leaf:.75,Y_stem:.75,Y_root:.75,d_r:1,"τ":0,k_sum:0,N_up:0,N_fix:0,N_avail:0,N_assim:0,N_req:0,N_remob:0,N_add:0,"ρ_shoot":.7,"ρ_root":.3,"ρ_l":.7,G_l_fC_om:{sc:0,nc:0,pn:0},G_s_fC_om:{sc:0,nc:0,pn:0},G_r_fC_om:{sc:0,nc:0,pn:0},SC:{live_l_1:0,live_l_2:0,live_l_3:0,dead_l:0,live_s_1:0,live_s_2:0,live_s_3:0,dead_s:0,r:0},dSC:{live_l_1:0,live_l_2:0,live_l_3:0,dead_l:0,live_s_1:0,live_s_2:0,live_s_3:0,dead_s:0,r:0},NC:{l:0,dead_l:0,s:0,dead_s:0,r:0},dNC:{l:0,dead_l:0,s:0,dead_s:0,r:0},PN:{l:0,dead_l:0,s:0,dead_s:0,r:0},dPN:{l:0,dead_l:0,s:0,dead_s:0,r:0},AH:{l:0,dead_l:0,s:0,dead_s:0,r:0},dAH:{l:0,dead_l:0,s:0,dead_s:0,r:0},"Λ_litter":{sc:0,pn:0,nc:0},"Λ_r":{sc:0,pn:0,nc:0}},t&&t.type)switch(t.type){case"white clover":this.isLegume=!0,this.type="white clover",this.cons.h_m=.5,this.cons.L_half=2,this.cons.σ=36.8,this.cons.photo.T_ref=20,this.cons.photo.T_mn=3,this.cons.photo.T_opt_Pm_amb=23,this.cons.photo.ξ=.8,this.cons.photo.k=.8,this.cons.photo.m=0,this.cons.photo.α_amb_15=.05,this.cons.photo.P_m_ref=16,this.cons.photo.λ=1.2,this.cons.photo.f_C_m=1.49,this.cons.photo.γ_Pm=10,this.cons.photo.λ_α=.02,this.cons.photo.γ_α=6,this.cons.part.ρ_shoot_ref=.71,this.cons.part.ρ_l=.33;break;case"red clover":this.isLegume=!0,this.type="red clover",this.cons.h_m=.3,this.cons.L_half=2,this.cons.σ=24,this.cons.photo.T_ref=25,this.cons.photo.T_mn=3,this.cons.photo.T_opt_Pm_amb=25,this.cons.photo.ξ=.8,this.cons.photo.k=1,this.cons.photo.m=0,this.cons.photo.α_amb_15=.05,this.cons.photo.P_m_ref=12.9,this.cons.photo.λ=1.2,this.cons.photo.f_C_m=1.49,this.cons.photo.γ_Pm=10,this.cons.photo.λ_α=.02,this.cons.photo.γ_α=6,this.cons.part.ρ_shoot_ref=.71,this.cons.part.ρ_l=.55;break;case"ryegrass":this.isLegume=!1,this.type="ryegrass",this.cons.h_m=.5,this.cons.L_half=2,this.cons.σ=25.8,this.cons.photo.T_ref=20,this.cons.photo.T_mn=3,this.cons.photo.T_opt_Pm_amb=23,this.cons.photo.ξ=.8,this.cons.photo.k=.5,this.cons.photo.m=0,this.cons.photo.α_amb_15=.05,this.cons.photo.P_m_ref=16,this.cons.photo.λ=1.2,this.cons.photo.f_C_m=1.49,this.cons.photo.γ_Pm=10,this.cons.photo.λ_α=.02,this.cons.photo.γ_α=6,this.cons.part.ρ_shoot_ref=.8,this.cons.part.ρ_l=.7}if(t&&(this.isLegume=t.isLegume||!1,this.isC4=t.isC4||!1,t.hasOwnProperty("constants"))){var a=t.constants;for(var i in a)a.hasOwnProperty(i)&&this.cons.hasOwnProperty(i)&&null!==a[i]&&(this.cons[i]=a[i])}this.fOM_pn=function(){var t=e.vars.PN;return(t.l+t.s+t.dead_l+t.dead_s)/K/e.DM_shoot()},this.δ_pn=function(t){return.956-34.3/t},this.OMD_shoot=function(){var t=e.cons,a=e.vars,i=e.vars.SC,r=e.vars.NC,o=e.vars.PN,n=e.δ_pn(1e3*this.fOM_pn()),_=i.live_l_1/W,c=i.live_l_2/W,s=i.live_l_3/W,p=i.dead_l/W,l=i.live_s_1/W,u=i.live_s_2/W,f=i.live_s_3/W,d=i.dead_s/W,v=(r.l+r.s+a.NC.dead_l+a.NC.dead_s)/q,g=(o.l+o.s+a.PN.dead_l+a.PN.dead_s)/K,m=t.δ_ndf_live_l_1*_+t.δ_ndf_live_l_2*c+t.δ_ndf_live_l_3*s+t.δ_ndf_dead_l*p+t.δ_ndf_live_s_1*l+t.δ_ndf_live_s_2*u+t.δ_ndf_live_s_3*f+t.δ_ndf_dead_s*d,S=t.δ_nfc*v,y=n*g;return(m+S+y)/(_+c+s+p+l+u+f+d+v+g)},this.NDFD_leaf=function(){var t=e.cons,a=e.vars.SC,i=a.live_l_1/W,r=a.live_l_2/W,o=a.live_l_3/W,n=a.dead_l/W,_=t.δ_ndf_live_l_1*i+t.δ_ndf_live_l_2*r+t.δ_ndf_live_l_3*o+t.δ_ndf_dead_l*n;return _/(i+r+o+n)},this.NDFD_stem=function(){var t=e.cons,a=e.vars.SC,i=a.live_s_1/W,r=a.live_s_2/W,o=a.live_s_3/W,n=a.dead_s/W,_=t.δ_ndf_live_s_1*i+t.δ_ndf_live_s_2*r+t.δ_ndf_live_s_3*o+t.δ_ndf_dead_s*n;return _/(i+r+o+n)},this.NDF_leaf=function(){var t=e.vars.SC;return 1e3*((t.live_l_1+t.live_l_2+t.live_l_3+t.dead_l)/W)/e.DM_leaf()},this.NDF_stem=function(){var t=e.vars.SC;return 1e3*((t.live_s_1+t.live_s_2+t.live_s_3+t.dead_s)/W)/e.DM_stem()},this.NFC_leaf=function(){var t=e.vars;return 1e3*((t.NC.l+t.NC.dead_l)/q)/e.DM_leaf()},this.NFC_stem=function(){var t=e.vars;return 1e3*((t.NC.s+t.NC.dead_s)/q)/e.DM_stem()},this.CP_leaf=function(){var t=e.vars;return 1e3*((t.PN.l+t.PN.dead_l)/K)/e.DM_leaf()},this.CP_stem=function(){var t=e.vars;return 1e3*((t.PN.s+t.PN.dead_s)/K)/e.DM_stem()},this.CP_shoot=function(){var t=e.vars;return 1e3*((t.PN.l+t.PN.dead_l+t.PN.s+t.PN.dead_s)/K)/(e.DM_leaf()+e.DM_stem())},this.ASH_leaf=function(){var t=e.vars;return 1e3*t.AH.l/(e.DM_leaf()+t.AH.l)},this.ASH_stem=function(){var t=e.vars;return 1e3*t.AH.s/(e.DM_stem()+t.AH.s)},this.ASH_shoot=function(){var t=e.vars;return 1e3*(t.AH.l+t.AH.s)/(e.DM_leaf()+t.AH.l+e.DM_stem()+t.AH.s)},this.CF_shoot=function(){var t=e.vars.SC,a=1e3*((t.live_l_1+t.live_l_2+t.live_l_3+t.dead_l+t.live_s_1+t.live_s_2+t.live_s_3+t.dead_s)/W/e.DM_shoot());return e.isLegume?69.58+.453*a:14.15+.512*a},this.C_root=function(){var t=e.vars;return t.SC.r+t.NC.r+t.PN.r},this.C_live_shoot=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return a.live_l_1+a.live_l_2+a.live_l_3+a.live_s_1+a.live_s_2+a.live_s_3+i.l+i.s+r.l+r.s},this.C_live_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return a.live_l_1+a.live_l_2+a.live_l_3+i.l+r.l},this.C_live_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return a.live_s_1+a.live_s_2+a.live_s_3+i.s+r.s},this.N_root=function(){return e.vars.PN.r*z/K},this.N_live_shoot=function(){var t=e.vars.PN;return(t.l+t.s)*z/K},this.N_live_leaf=function(){return e.vars.PN.l*z/K},this.N_live_stem=function(){return e.vars.PN.s*z/K},this.dDM_leaf=function(){var t=e.vars,a=t.dSC,i=t.dNC,r=t.dPN,o=t.dAH;return(a.live_l_1+a.live_l_2+a.live_l_3+a.dead_l)/W+(i.l+i.dead_l)/q+(r.l+r.dead_l)/K+o.l},this.dDM_stem=function(){var t=e.vars,a=t.dSC,i=t.dNC,r=t.dPN,o=t.dAH;return(a.live_s_1+a.live_s_2+a.live_s_3+a.dead_s)/W+(i.s+i.dead_s)/q+(r.s+r.dead_s)/K+o.s},this.dDM_root=function(){var t=e.vars,a=t.dSC,i=t.dNC,r=t.dPN,o=t.dAH;return a.r/W+i.r/q+r.r/K+o.r},this.dDM_shoot=function(){return e.dDM_leaf()+e.dDM_stem()},this.DM_shoot=function(){return e.DM_leaf()+e.DM_stem()},this.DM_live_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_l_1+a.live_l_2+a.live_l_3)/W+i.l/q+r.l/K+o.l},this.DM_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_l_1+a.live_l_2+a.live_l_3+a.dead_l)/W+(i.l+i.dead_l)/q+(r.l+r.dead_l)/K+o.l+o.dead_l},this.DM_dead_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return a.dead_l/W+i.dead_l/q+r.dead_l/K+o.dead_l},this.DM_live_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_s_1+a.live_s_2+a.live_s_3)/W+i.s/q+r.s/K+o.s},this.DM_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_s_1+a.live_s_2+a.live_s_3+a.dead_s)/W+(i.s+i.dead_s)/q+(r.s+r.dead_s)/K+o.s+o.dead_s},this.DM_dead_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return a.dead_s/W+i.dead_s/q+r.dead_s/K+o.dead_s},this.DM_root=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return a.r/W+i.r/q+r.r/K+o.r},this.L=function(){return e.cons.σ*e.DM_leaf()},this.h_=function(){var t=0,a=e.cons,i=1*e.L()/a.f_cover,r=a.h_m,o=a.L_half,n=.9,_=r*(2-n)/(2*o);return t=1/(2*n)*(_*i+r-w(C(_*i+r,2)-4*_*n*r*i))},this.h=function(){var t=0,a=e.cons,i=1*e.L()/a.f_cover,r=a.h_m,o=1,n=y((100*r-1)/(20*r-1))/o;return t=.01*r/(.01+(r-.01)*g(-n*i))},this.f_N_live_leaf=function(){return e.N_live_leaf()/e.C_live_leaf()},this.f_N_live_shoot=function(){return e.N_live_shoot()/e.C_live_shoot()},this.f_N_live=function(){return(e.N_live_shoot()+e.N_root())/(e.C_live_shoot()+e.C_root())}}),r=function(t,e){var a=Array.isArray(t)?t:[t],i=4,r=.7,o=1-r,n=.1,_=.1,c=[];if(e&&e.DM)c=e.DM;else for(var s=0,p=t.length;p>s;s++)c[s]=1/p;a.homogeneity=a.length>1?e.hasOwnProperty("homogeneity")?e.homogeneity:.75:1,e&&e.DM_shoot&&(_=1e-4*e.DM_shoot),e&&e.DM_root&&(n=.1);for(var s=0,p=t.length;p>s;s++){var t=a[s],l=t.vars.SC,u=t.vars.NC,f=t.vars.PN,v=t.vars.AH;t.cons.f_cover=c[s],l.live_l_1=r*(_*c[s]/i)*.5*W,u.l+=r*(_*c[s]/i)*.25*q,f.l+=r*(_*c[s]/i)*.25*q,l.live_l_2=r*(_*c[s]/i)*.6*W,u.l+=r*(_*c[s]/i)*.2*q,f.l+=r*(_*c[s]/i)*.2*K,l.live_l_3=r*(_*c[s]/i)*.7*W,u.l+=r*(_*c[s]/i)*.15*q,f.l+=r*(_*c[s]/i)*.15*K,l.dead_l=r*(_*c[s]/i)*1*W,u.l+=r*(_*c[s]/i)*0*W,f.l+=r*(_*c[s]/i)*0*W,v.l=r*_*c[s]*t.cons.fAsh_dm_l_ref,l.live_s_1=o*(_*c[s]/i)*.7*W,u.s+=o*(_*c[s]/i)*.15*q,f.s+=o*(_*c[s]/i)*.15*q,l.live_s_2=o*(_*c[s]/i)*.8*W,u.s+=o*(_*c[s]/i)*.1*q,f.s+=o*(_*c[s]/i)*.1*K,l.live_s_3=o*(_*c[s]/i)*.9*W,u.s+=o*(_*c[s]/i)*.05*q,f.s+=o*(_*c[s]/i)*.05*K,l.dead_s=o*(_*c[s]/i)*1*W,u.s+=o*(_*c[s]/i)*0*W,f.s+=o*(_*c[s]/i)*0*W,v.s=o*_*c[s]*t.cons.fAsh_dm_s_ref,l.r=n*c[s]*.8*W,u.r+=n*c[s]*.1*W,f.r+=n*c[s]*.1*W,v.r=n*c[s]*t.cons.fAsh_dm_r_ref}return a.DM_dead_shoot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_dead_leaf()+this[e].DM_dead_stem();return t},a.DM_live_shoot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_live_leaf()+this[e].DM_live_stem();return t},a.DM_shoot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_leaf()+this[e].DM_stem();return t},a.DM_leaf=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_leaf();return t},a.DM_stem=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_stem();return t},a.DM_root=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_root();return t},a.dDM_leaf=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].dDM_leaf();return t},a.dDM_stem=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].dDM_stem();return t},a.dDM_root=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].dDM_root();return t},a.C_root=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].C_root();return t},a.f_N_live_leaf=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)t+=this[a].N_live_leaf(),e+=this[a].C_live_leaf();return t/e},a.f_N_live_leaf_DM=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)t+=this[a].N_live_leaf(),e+=this[a].DM_live_leaf();return t/e},a.f_N_live_stem_DM=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)t+=this[a].N_live_stem(),e+=this[a].DM_live_stem();return t/e},a.f_N_root_DM=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)t+=this[a].N_root(),e+=this[a].DM_root();return t/e},a.L_tot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].L();return t},a.h_mx=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)e=this[a].h(),t=e>t?e:t;return t},a.d_r_mx=function(){for(var t=0,e=0,a=this.length;a>e;e++)this[e].vars.d_r>t&&(t=this[e].vars.d_r);return t},a.δL=.1,a.n_L=function(){return m(this.L_tot()/this.δL)},a.n_start_p=function(t){for(var e=[],a=(this.L_tot(),this.h_mx()),i=0,r=this.length;r>i;i++)e[i]=1+d((1-this[i].h()/a)*t);return e},a.δL_p=function(t,e){for(var a=[],i=0,r=this.length;r>i;i++)a[i]=this[i].L()/(e-t[i]===0?t[i]:e-t[i]);return a},a.δL_i=function(t,e,a){for(var i=[0],r=0,o=1;e>=o;o++){r=0;for(var n=0,_=this.length;_>n;n++)t[n]<=o&&(r+=a[n]);i[o]=r}return i},a.k_e_i=function(t,e,a){for(var i=[0],r=0,o=0,n=1;t>=n;n++){r=o=0;for(var _=0,c=this.length;c>_;_++)e[_]<=n&&(r+=this[_].cons.photo.k*a[_],o+=a[_]);i[n]=r/o}return i},a.Ω_water=function(){return this.avg("Ω_water")},a.Ω_N=function(){return this.avg("Ω_N")},a.τ_T_low=function(){return this.avg("τ_T_low")},a.τ_T_high=function(){return this.avg("τ_T_high")},a.avg=function(t,e){return this.reduce(function(a,i){return a+(void 0===e?i.vars[t]:i.vars[e][t])},0)/this.length},a.sum=function(t,e){return this.reduce(function(a,i){return a+(void 0===e?i.vars[t]:i.vars[e][t])},0)},a.f_r=[],a.f_r_sum=[],a.W_r=[],a.W_r_sum=[],a.N_up=[],a.N_up_sum=[],a.E_T=[],a.E_T_sum=[],a.f_g=0,a.isRegrowth=!1,a
},o=[],n=[],_=0;_<a.length;_++)o.push(new i({type:a[_].type,constants:a[_].constants})),n.push(a[_].dryMatter),o[_].cons.index=_;this.mixture=new r(o,{DM:n}),this.seedDate=function(){return this._seedDate},this.harvestDate=function(){return new Date(1/0)},this.getCuttingDates=function(){return[]},this.name=function(){return"grassland"},this.isValid=function(){return!0},this.type="grassland"},Ae=function(t,e,a,i,o){function p(t,e,i){for(var r=0;F>r;r++){var o=a[r],n=o.vars,_=o.cons,c=_.T_mn_high,s=_.T_mn_low,p=_.T_mx_high,l=_.T_mx_low,u=1,f=1;J&&(c>e?(u=s>=e?0:(e-s)/(c-s),n.τ_T_low*=u):(n.ζ_T_low+=t/_.T_sum_low,n.τ_T_low=O(1,n.τ_T_low+n.ζ_T_low),1===n.τ_T_low&&(n.ζ_T_low=0))),j&&(i>l?(f=i>=p?0:(i-l)/(p-l),n.τ_T_high*=f):(n.ζ_T_high+=M(0,25-t)/_.T_sum_high,n.τ_T_high=O(1,n.τ_T_high+n.ζ_T_high),1===n.τ_T_high&&(n.ζ_T_high=0)))}}function l(t,e,i,r,o,_,c){function s(t,e,a){a>=e/(2-e)&&(a=e/(2-e)-1e-10,X(n.WARN,"Adjusted f_C_m to "+a+" since f_C_m >= λ / (2 - λ)"));var i=1,r=380,o=a*(e*(a-1)-2*(a-e))/(C(e,2)*(a-1)-2*(a-e)),_=e*(a-o*e)/(2*r*(a-e));return i=1/(2*o)*(_*t+a-w(C(_*t+a,2)-4*o*_*a*t))}function p(t,e){return O(1,t/e)}function l(t,e,a,i,r,o,n,_,c){var p=0,l=2,u=o+a*(s(e,_,c)-1),f=((1+l)*u-i)/l;return r>u&&(r=u),t=n&&t>u?u:t,p=i>=t||t>=f?0:C((t-i)/(r-i),l)*(((1+l)*u-i-l*t)/((1+l)*u-i-l*r))}function u(t,e,a,i,r,o){var n=0,_=380,c=15+i*(s(e,r,o)-1);return n=c>t?1:1-a*(_/e)*(t-c)}function f(t,e){var a=0;return a=t>e?1:.5+.5*(t/e)}function d(t,e,a,i){var r=0;return r=1/(2*i)*(e*t+a-w(C(e*t+a,2)-4*i*e*t*a))}function v(t,e,i,r,o,n){for(var _=[],c=(a.δL,a.n_L()),v=a.n_start_p(c),g=a.δL_p(v,c),m=a.δL_i(v,c,g),S=a.k_e_i(c,v,g),y=[],h=[],M=[],O=[],C=[],A=[],N=t*o,D=e*o,w=t*(1-o),P=e*(1-o),R=0;F>R;R++){_[R]=0;var T=a[R],H=T.cons,I=H.photo,b=I.α_amb_15,x=I.P_m_ref,L=T.isC4,B=I.λ_α,E=I.γ_α,G=I.γ_Pm,U=I.T_mn,k=I.T_ref,V=I.T_opt_Pm_amb,Y=I.λ,W=I.f_C_m,q=T.N_live_leaf()/T.C_live_leaf(),K=H.N_leaf.ref;A[R]=I.k,C[R]=I.ξ,L?y[R]=a_mn[R]=b*s(n,Y,W)*f(q,K):(y[R]=b*s(n,Y,W)*u(i,n,B,E,Y,W)*f(q,K),h[R]=b*s(n,Y,W)*u(r,n,B,E,Y,W)*f(q,K)),M[R]=x*s(n,Y,W)*l(i,n,G,U,k,V,L,Y,W)*p(q,K),O[R]=x*s(n,Y,W)*l(r,n,G,U,k,V,L,Y,W)*p(q,K)}for(var z=0,J=0,j=0,X=0,Z=1,Q=0,$=1;c>=$;$++){for(var R=0;F>R;R++)v[R]<=$&&(z=A[R]*(N+w),J=A[R]*(D+P),j=A[R]*w,X=A[R]*P,_[R]+=d(z,y[R],M[R],C[R])*Z*g[R],_[R]+=d(J,h[R],O[R],C[R])*Z*g[R],_[R]+=d(j,y[R],M[R],C[R])*Q*g[R],_[R]+=d(X,h[R],O[R],C[R])*Q*g[R]);w*=1-S[$]*m[$],P*=1-S[$]*m[$],Z*=1-S[$]*m[$],Q=1-Z}return _}function m(t,e,i,r,o,n,_){for(var c=[],v=0;F>v;v++){c[v]=0;var m=a[v],S=m.cons,y=S.photo,h=y.α_amb_15,M=y.P_m_ref,O=y.k,C=m.isC4,A=y.ξ,N=y.λ_α,D=y.γ_α,w=y.γ_Pm,P=y.T_mn,R=y.T_ref,T=y.T_opt_Pm_amb,H=y.λ,I=y.f_C_m,b=m.f_N_live_leaf(),x=S.N_leaf.ref,L=m.L()*_,B=h*s(n,H,I)*f(b,x),E=h*s(n,H,I)*f(b,x);C||(B*=u(i,n,N,D,H,I),E=B*u(r,n,N,D,H,I));for(var G=M*s(n,H,I)*l(i,n,w,P,R,T,C,H,I)*p(b,x),U=M*s(n,H,I)*l(r,n,w,P,R,T,C,H,I)*p(b,x),k=.1,V=L/k,Y=1;V>=Y;Y++){var W=(2*Y-1)*k/2,q=O*t*(o+(1-o)*g(-O*W)),K=O*t*(1-o)*g(-O*W),z=O*e*(o+(1-o)*g(-O*W)),J=O*e*(1-o)*g(-O*W);c[v]+=d(q,B,G,A)*g(-O*W)*k,c[v]+=d(K,B,G,A)*(1-g(-O*W))*k,c[v]+=d(z,E,U,A)*g(-O*W)*k,c[v]+=d(J,E,U,A)*(1-g(-O*W))*k}}return c}var S=[],y=[],h=1===F?1:(1-a.homogeneity)/((1-a.homogeneity)/F),M=4/3*(r/o),A=.5*M,N=(i+t)/2,D=t;if(F>1){S=v(M,A,N,D,c,_),a.homogeneity<1&&(y=m(M,A,N,D,c,_,h));for(var P=0;F>P;P++){var R=a[P].vars,T=R.Ω_water*w(R.Ω_N)*R.τ_T_low*R.τ_T_high;a[P].vars.P_g_day=1.2e-8*(o/2)*S[P]*T*a.homogeneity,a.homogeneity<1&&(a[P].vars.P_g_day+=1.2e-8*(o/2)*y[P]*T/h*(1-a.homogeneity))}}else{y=m(M,A,N,D,c,_,h);var R=a[0].vars,T=R.Ω_water*w(R.Ω_N)*R.τ_T_low*R.τ_T_high;a[0].vars.P_g_day=1.2e-8*(o/2)*y[0]*T}}function u(t){function e(t,e,a,r){var o=0,n=f.resp.m_ref;return o=n*i(t)*(e/a)*r}function i(t){var e=1,a=f.resp.T_m_mn,i=f.resp.T_ref;return e=a>=t?0:(t-a)/(i-a)}function o(t,e){var a=0,i=f.resp.λ_N_up,r=f.resp.λ_N_fix;return a=i*t+r*e}for(var n=0,p=F;p>n;n++){{var l=a[n],u=l.vars,f=l.cons,d=(l.f_N_live_shoot(),u.P_g_day),v=(l.C_live_shoot()+l.C_root(),l.vars.N_avail,l.isC4,l.isLegume),g=l.C_live_leaf(),m=l.N_live_leaf(),S=l.C_live_stem(),y=l.N_live_stem();l.C_root(),l.N_root()}u.R_m=e(t,m/g,f.N_leaf.ref,g),u.R_m+=e(t,y/S,.5*f.N_leaf.ref,S),u.R_N=o(l.vars.N_up,l.vars.N_fix);var h=d-u.R_m-u.R_N;if(h>0){var C=u.ρ_l,A=1-C,D=f.part.ρ_shoot_ref*w(u.Ω_water*u.Ω_N),R=1-D,T=0,H=0,I=0,b=f.N_leaf.opt,E=f.N_leaf.max;u.ρ_shoot=D,u.ρ_root=R;var G={leaf:l.N_live_leaf()/l.C_live_leaf(),stem:l.N_live_stem()/l.C_live_stem(),root:l.N_root()/l.C_root()},U=[{organ:c,N:G.leaf/b},{organ:s,N:G.stem/(.5*b)},{organ:_,N:G.root/(.5*b)}];U.sort(function(t,e){return t.N-e.N});for(var k=P(a.N_up[n]),Y=0;3>Y;Y++){var W=0,q=0,J=0,j=0;if(U[Y].organ===c?(W=D*C,q=.5,j=b,J=E/z*K):U[Y].organ===s?(W=D*A,q=.7,j=.5*b,J=.5*E/z*K):U[Y].organ===_&&(W=R,q=.7,j=.5*b,J=.5*E/z*K),r&&q+J>1)throw new Error("f_sc + f_pn > 1");var X=1-(q+J),Z=1/(1+(1-x)/x*q+(1-L)/L*X+(1-B)/B*J),Q=Z*h*W,te=Q*J*z/K;if(!v&&te>k){var ee=J;if(J=k*(K/z)*B*(-q*x+q*L+x)/(x*(k*(K/z)*(B-L)+h*W*B*L)),q+=.8*(ee-J),J=k*(K/z)*B*(-q*x+q*L+x)/(x*(k*(K/z)*(B-L)+h*W*B*L)),X=1-(q+J),r&&q+J>1)throw $("f_sc",q),$("f_pn",J),$("f_nc",X),new Error("x f_sc + f_pn > 1");if(Z=1/(1+(1-x)/x*q+(1-L)/L*X+(1-B)/B*J),Q=Z*h*W,te=Q*J*z/K,r&&N(10,te)!=N(10,k))throw new Error(te!=k);k=0}else v&&te>k?(I+=te-k,k-=te):k-=te;T+=0===te?j*Q:O(j*Q,te),H+=te,U[Y].organ===c?(u.Y_leaf=Z,u.G_leaf=Q,u.G_l_fC_om.sc=q,u.G_l_fC_om.nc=X,u.G_l_fC_om.pn=J):U[Y].organ===s?(u.Y_stem=Z,u.G_stem=Q,u.G_s_fC_om.sc=q,u.G_s_fC_om.nc=X,u.G_s_fC_om.pn=J):U[Y].organ===_&&(u.Y_root=Z,u.G_root=Q,u.G_r_fC_om.sc=q,u.G_r_fC_om.nc=X,u.G_r_fC_om.pn=J)}u.Ω_N=V?O(1,H/T):1,u.N_assim=H,u.N_req=T,u.N_fix=I,u.G=u.G_leaf+u.G_stem+u.G_root,u.N_ass_add=0;for(var ae=.1,Y=0;3>Y;Y++)if(k>0)if(U[Y].organ===c&&G.leaf<b){var ie=ae*(b-G.leaf)*l.C_live_leaf(),re=O(ie,k),oe=re/z*K*1/B;oe>u.NC.l&&(re=u.NC.l*z*B/K,oe=u.NC.l),u.NC.l-=oe,u.PN.l+=re/z*K,k-=re,u.N_assim+=re,u.N_ass_add+=re}else if(U[Y].organ===s&&G.stem<.5*b){var ie=ae*(.5*b-G.stem)*l.C_live_stem(),re=O(ie,k),oe=re/z*K*1/B;oe>u.NC.s&&(re=u.NC.s*z*B/K,oe=u.NC.s),u.NC.s-=oe,u.PN.s+=re/z*K,k-=re,u.N_assim+=re,u.N_ass_add+=re}else if(U[Y].organ===_&&G.root<.5*b){var ie=ae*(.5*b-G.root)*l.C_root(),re=O(ie,k),oe=re/z*K*1/B;oe>u.NC.r&&(re=u.NC.r*z*B/K,oe=u.NC.r),u.NC.r-=oe,u.PN.r+=re/z*K,k-=re,u.N_assim+=re,u.N_ass_add+=re}}else{var ne=u.NC,_e=ne.l+ne.s+ne.r;_e>0&&(ne.l>0&&(ne.l=M(0,ne.l+h*ne.l/_e)),ne.s>0&&(ne.s=M(0,ne.s+h*ne.s/_e)),ne.r>0&&(ne.r=M(0,ne.r+h*ne.r/_e))),l.vars.Ω_N=1,l.vars.N_assim=0,l.vars.N_req=0,u.G=u.G=u.G_leaf=u.G_stem=u.G_root=0}}}function f(t){function e(t){var e=0,a=3,i=20,r=20,o=2;return r>i&&(r=i),a>=t?e=0:i>(t>a)?e=C((t-a)/(r-a),o)*(((1+o)*i-a-o*t)/((1+o)*i-a-o*r)):t>=i&&(e=C((i-a)/(r-a),o)*((i-a)/((1+o)*i-a-o*r))),e}for(var i=0,r=a.length;r>i;i++){var o=a[i],n=o.vars,_=o.cons,c=n.G_root,s=n.G_leaf,p=n.G_stem,l=n.SC,u=n.dSC,f=n.NC,d=n.dNC,v=n.PN,g=n.dPN,m=n.AH,S=n.dAH,y=n.Λ_r,h=n.Λ_litter,M=n.G_l_fC_om,O=n.G_s_fC_om,A=n.G_r_fC_om,N=s*(M.sc/W+M.nc/q+M.pn/K),D=p*(O.sc/W+O.nc/q+O.pn/K),P=c*(A.sc/W+A.nc/q+A.pn/K),R=.05*e(t),F=.8*R,T=.02*e(t),H=.11,I=o.N_live_leaf()/o.C_live_leaf()<_.N_leaf.max?.5:0,b=o.N_live_stem()/o.C_live_stem()<.5*_.N_leaf.max?.5:0,x=o.N_root()/o.C_root()<.5*_.N_leaf.max?.5:0,L=.8,B=R*l.live_l_3/(l.live_l_1+l.live_l_2),E=F*l.live_s_3/(l.live_s_1+l.live_s_2);g.l=s*M.pn-v.l*B*(1-I),g.dead_l=v.l*B*(1-I)-H*v.dead_l,g.s=p*O.pn-v.s*E*(1-b),g.dead_s=v.s*E*(1-b)-H*v.dead_s,g.r=c*A.pn-(1-x)*T*v.r,d.l=s*M.nc-f.l*B*(1-L),d.dead_l=f.l*B*(1-L)-H*f.dead_l,d.s=p*O.nc-f.s*E*(1-L),d.dead_s=f.s*E*(1-L)-H*f.dead_s,d.r=c*A.nc-(1-L)*T*f.r,u.live_l_1=s*M.sc-2*R*l.live_l_1,u.live_l_2=2*R*l.live_l_1-R*l.live_l_2,u.live_l_3=R*l.live_l_2-R*l.live_l_3,u.dead_l=R*l.live_l_3-H*l.dead_l,u.live_s_1=p*O.sc-2*F*l.live_s_1,u.live_s_2=2*F*l.live_s_1-F*l.live_s_2,u.live_s_3=F*l.live_s_2-F*l.live_s_3,u.dead_s=F*l.live_s_3-H*l.dead_s,u.r=c*A.sc-T*l.r,y.pn+=(1-x)*T*v.r,y.nc+=(1-L)*T*f.r,y.sc+=T*l.r,h.sc+=H*(l.dead_l+l.dead_s),h.nc+=H*(f.dead_l+f.dead_s),h.pn+=H*(v.dead_l+v.dead_s),n.N_remob=(I*v.l*B+b*v.s*E+x*T*v.r)/K*z,S.l=w(n.Ω_water)*_.fAsh_dm_l_ref/(1-_.fAsh_dm_l_ref)*N,S.s=w(n.Ω_water)*_.fAsh_dm_s_ref/(1-_.fAsh_dm_s_ref)*D,S.r=w(n.Ω_water)*_.fAsh_dm_r_ref/(1-_.fAsh_dm_r_ref)*P,m.l+=S.l-H*m.l*l.dead_l/(l.live_l_1+l.live_l_2+l.live_l_3),m.s+=S.s-H*m.s*l.dead_s/(l.live_s_1+l.live_s_2+l.live_s_3),m.r+=S.r-T*m.r,l.live_l_1+=u.live_l_1,l.live_l_2+=u.live_l_2,l.live_l_3+=u.live_l_3,l.dead_l+=u.dead_l,f.l+=d.l,f.dead_l+=d.dead_l,v.l+=g.l,v.dead_l+=g.dead_l,l.live_s_1+=u.live_s_1,l.live_s_2+=u.live_s_2,l.live_s_3+=u.live_s_3,l.dead_s+=u.dead_s,f.s+=d.s,f.dead_s+=d.dead_s,v.s+=g.s,v.dead_s+=g.dead_s,l.r+=u.r,f.r+=d.r,v.r+=g.r}}function d(){for(var t=0;F>t;t++){var e=a[t].cons.part,i=a[t].vars;i.ρ_l=a.isRegrowth?M(.2,1-e.ρ_l_max+1*(2*e.ρ_l_max-1)/(1+g(10*(i.GDD/(3*e.GDD_flower)-.5)))):M(.2,1-e.ρ_l_max+1*(2*e.ρ_l_max-1)/(1+g(10*(i.GDD/(2*e.GDD_flower)-.5))))}}function v(){for(var t=3,e=0;F>e;e++){var i=a[e];i.vars.τ++,i.vars.k_sum=O(1,i.vars.τ/i.cons.τ_veg);var r=i.DM_root();i.vars.d_r=.05+(i.cons.d_r_mx-.05)*i.vars.k_sum,a.f_r_sum[e]=0;for(var o=0;T>o;o++){var n=E*o;n>i.vars.d_r?a.f_r[e][o]=0:(a.f_r[e][o]=1/(1+C(n/i.cons.d_r_h*(i.cons.d_r_mx/i.vars.d_r),t))-1/(1+C((n+E)/i.cons.d_r_h*(i.cons.d_r_mx/i.vars.d_r),t)),a.f_r_sum[e]+=a.f_r[e][o])}for(var o=0;T>o;o++)a.W_r[e][o]=r*a.f_r[e][o]/a.f_r_sum[e]}for(var o=0;T>o;o++){a.W_r_sum[o]=0;for(var e=0;F>e;e++)a.W_r_sum[o]+=a.W_r[e][o]}}function m(){for(var t=(a.d_r_mx(),0);T>t;t++){var e=D[t],i=e.get_SoilNO3()/e.vs_SoilBulkDensity(),r=200;a.N_up_sum[t]=O(e.get_SoilNO3()*E,r*i*a.W_r_sum[t])}for(var t=0;T>t;t++)for(var o=0;F>o;o++)a.N_up[o][t]=0===a.W_r_sum[t]?0:a.N_up_sum[t]*a.W_r[o][t]/a.W_r_sum[t]}function S(t,e,a,i,r,o,n,_,c){var s,p,l,u,f,d,v,m,S,h,M,O,A,N=R.userCropParameters,D=(N.pc_SaturationBeta,N.pc_StomataConductanceAlpha,N.pc_ReferenceAlbedo);s=101.3*C((293-.0065*G)/293,5.26),p=665e-6*s,l=.6108*g(17.27*e/(237.3+e)),u=.6108*g(17.27*a/(237.3+a)),f=(l+u)/2,d=0>=i?u:i*f,v=f-d,m=2503.0584*g(17.27*t/(t+237.3))/((t+237.3)*(t+237.3)),S=r*(4.87/y(67.8*o-5.42)),h=208/S;var P=1/.015;M=P/1.44;var F=(.75+2e-5*G)*c,T=n/F,H=(1-D)*n,I=4.9e-9;return A=H-I*(C(a+273.16,4)+C(e+273.16,4))/2*(1.35*T-.35)*(.34-.14*w(d)),O=(.408*m*A+p*(900/(t+273))*S*v)/(m+p*(1+M/h))}function h(t){var e=U,i=M(0,2.5*a.h_mx()*a.f_g-U);0>=t&&(i=0),i>=t?(i=t,Z=0):Z=t-i,U=e+i}function A(t){var e=[],i=[],o=a.L_tot(),n=[],_=[],c=[],s=[],p=[],l=[];a.f_g=1-g(-.5*o),t=a.f_g*t;for(var u=0;F>u;u++){e[u]=t*a[u].L()/o,i[u]=e[u];for(var f=0;T>f;f++)a.E_T[u][f]=0}for(var f=0;T>f;f++)n[f]=1e3*D[f].get_PermanentWiltingPoint()*E,_[f]=1e3*D[f].get_FieldCapacity()*E,c[f]=.8*_[f],s[f]=1e3*D[f].get_Saturation()*E,p[f]=1e3*D[f].get_Vs_SoilMoisture_m3()*E,l[f]=p[f]<n[f]?0:p[f]<c[f]?(p[f]-n[f])/(c[f]-n[f]):p[f]<_[f]?1:1-.5*(p[f]-_[f])/(s[f]-_[f]);a.sort(function(t,e){return t.vars.Ω_water-e.vars.Ω_water});for(var d=0,v=0;5>v;v++)for(var f=0;T>f;f++)for(var u=0;F>u;u++)if(d=a[u].cons.index,!(i[d]<=0||0===a.f_r[d][f]||p[f]<=n[f])){var m=O(p[f]-n[f],a.f_r[d][f]/a.f_r_sum[d]*l[f]*i[d]);if(a.E_T[d][f]+=m,p[f]-=m,i[d]-=m,r&&(p[f]<0||p[f]>s[f]))throw new Error("θ < 0 || θ > θ_sat")}if(a.sort(function(t,e){return t.cons.index-e.cons.index}),Y)for(var u=0;F>u;u++)a.E_T_sum[u]=P(a.E_T[u]),a[u].vars.Ω_water=0===a.E_T_sum[u]?1:O(1,a.E_T_sum[u]/e[u]);else for(var u=0;F>u;u++)a[u].vars.Ω_water=1}for(var D=t,R=o,F=a.length,T=t.vs_NumberOfLayers(),H=t.vs_NumberOfOrganicLayers(),E=D.vs_LayerThickness(),G=(i.vs_Latitude,i.vs_HeightNN),U=0,k=0,V=e.pc_NitrogenResponseOn,Y=e.pc_WaterDeficitResponseOn,J=e.pc_LowTemperatureStressResponseOn,j=e.pc_HighTemperatureStressResponseOn,Z=0,U=0,Q=0,te=0,ee=0,ie=.4,re=0;F>re;re++){a.f_r[re]=[],a.W_r[re]=[],a.N_up[re]=[],a.E_T[re]=[],a.f_r_sum[re]=0;for(var oe=0;T>oe;oe++)a.f_r[re][oe]=0,a.W_r[re][oe]=0,a.N_up[re][oe]=0,a.E_T[re][oe]=0}for(var oe=0;T>oe;oe++)a.W_r_sum[oe]=0,a.N_up_sum[oe]=0;var ne=function(t,e,i,r,o,n,_,c,s,g,y,C,N,D,w){var R=o*b;v(),m(),Q=S(e,i,r,_,c,s,o,g,D),h(y);var H=O(6.5,Q*ie);te=H,U>0?te>=U?(te-=U,ee=U,U=0):(U-=te,ee=te,te=0):ee=0;var I=te;A(I),p(e,r,i),l(e,r,i,R,N,g,C),u(e);for(var x=0;F>x;x++){var L=a[x].vars,B=P(a.N_up[x]);L.N_up=L.N_assim;for(var E=0;T>E;E++)a.N_up[x][E]=L.N_up*a.N_up[x][E]/B;w?a[x].DM_leaf()/a[x].DM_stem()<.5?L.GDD=0:L.GDD+=M(0,e-5):(L.GDD=0,a.isRegrowth=!1)}f(e),d()},_e=function(t){return t===_?a.dDM_root()*I:t===s?a.dDM_stem()*I:t===c?a.dDM_leaf()*I:0},ce=function(t){for(var e=0,i=0;F>i;i++)e+=a.E_T[i][t];return e},se=function(t){return t===_?a.DM_root()*I:t===s?a.DM_stem()*I:t===c?a.DM_leaf()*I:0},pe=function(t){for(var e=0,i=0;F>i;i++)e+=a.N_up[i][t];return e},le=function(){return null},ue=function(){return null},fe=function(){return null},de=function(){return null},ve=function(){return null},ge=function(){return null},me=function(){return null},Se=function(){return null},ye=function(){return null},he=function(){return null},Me=function(){return null},Oe=function(){return null},Ce=function(){return null},Ae=function(){return null},Ne=function(){return null},De=function(){return null},we=function(t){k+=t},Pe=function(){return null},Re=function(){return a.d_r_mx()},Fe=function(){return"grassland"},Te=function(){return null},He=function(){return null},Ie=function(){return null},be=function(){return null},xe=function(){return null},Le=function(){return null},Be=function(){return null},Ee=function(){return 1},Ge=function(){return 1},Ue=function(){return null},ke=function(){return Q},Ve=function(){return te},Ye=function(){return ee},We=function(){return Z},qe=function(){return a.L_tot()},Ke=function(){return a.h_mx()},ze=function(){return a.d_r_mx()},Je=function(){return a.f_g},je=function(){return ie},Xe=function(){return null},Ze=function(){return null},Qe=function(){return null},$e=function(){for(var t=a.DM_root()+a.DM_stem()+a.DM_leaf(),e=0,i=0;F>i;i++)e+=a[i].vars.Ω_water*(a[i].DM_root()+a[i].DM_stem()+a[i].DM_leaf())/t;return e},ta=function(){return null},ea=function(){if(1===F)return a[0].vars.Ω_N;for(var t=a.DM_root()+a.DM_stem()+a.DM_leaf(),e=0,i=0;F>i;i++)e+=a[i].vars.Ω_N*(a[i].DM_root()+a[i].DM_stem()+a[i].DM_leaf())/t;return e},aa=function(){return null},ia=function(){return null},ra=function(){return 1},oa=function(){return null},na=function(){return a.DM_shoot()},_a=function(){return null},ca=function(){return null},sa=function(){return null},pa=function(){return null},la=function(){return null},ua=function(){return null},fa=function(){return null},da=function(){for(var t=0,e=0;F>e;e++)for(var i=0;T>i;i++)t+=a.N_up[e][i];return t*I},va=function(){return null},ga=function(){return null},ma=function(){return null},Sa=function(){return!1},ya=function(){return 3},ha=function(){return a.DM_shoot()+a.DM_root()},Ma=function(){return F},Oa=function(){for(var t=0,e=0;F>e;e++)t+=a[e].vars.P_g_day;return t*I},Ca=function(){for(var t=0,e=0;F>e;e++)t+=a[e].vars.G;return t*I},Aa=function(){for(var t=0,e=0;F>e;e++)t+=a[e].vars.R_m;return t*I},Na=function(){return a.DM_dead_shoot()*I},Da=function(){return a.f_N_live_leaf()},wa=function(){return a.f_N_live_leaf_DM()},Pa=function(){return a.f_N_live_stem_DM()},Ra=function(){return a.f_N_root_DM()},Fa=function(t){for(var e=[],i=t||.1,r=a.DM_shoot(),o=0;F>o;o++){if(i>=r)e[o]=0;else{var n=a[o],_=n.vars,c=_.SC,s=_.NC,p=_.PN,l=_.AH,u=1-(r-i)/r;e[o]=I*(n.DM_leaf()*(1-u)+n.DM_stem()*(1-u)),c.live_l_1*=u,c.live_l_2*=u,c.live_l_3*=u,c.dead_l*=u,c.live_s_1*=u,c.live_s_2*=u,c.live_s_3*=u,c.dead_s*=u,s.l*=u,s.dead_l*=u,s.s*=u,s.dead_s*=u,p.l*=u,p.dead_l*=u,p.s*=u,p.dead_s*=u,l.l*=u,l.dead_l*=u,l.s*=u,l.dead_s*=u}a[o].vars.GDD=0}return a.isRegrowth=!0,e},Ta=function(t){for(var e=[],i=0;F>i;i++){var r=a[i],o=r.h();if($("h <= h_residues",t>=o),t>=o)e[i]=0;else{var n=r.vars,_=r.cons,c=n.SC,s=n.NC,p=n.PN,l=n.AH,u=_.h_m,f=1,d=y((100*u-1)/(20*u-1))/f,v=y((t-100*t*u)/(t-u))/d,g=r.L(),m=(r.DM_leaf()-(g-v)/_.σ)/r.DM_leaf(),S=t/o,h=r.DM_leaf()*(1-m),M=r.DM_stem()*(1-S);$("h",o),$("h_residues",t),$("f_keep_l",m),$("f_keep_s",S),$("L_at_h_residues",v),e[i]=I*(h+M),c.live_l_1*=m,c.live_l_2*=m,c.live_l_3*=m,c.dead_l*=m,c.live_s_1*=S,c.live_s_2*=S,c.live_s_3*=S,c.dead_s*=S,s.l*=m,s.dead_l*=m,s.s*=S,s.dead_s*=S,p.l*=m,p.dead_l*=m,p.s*=S,p.dead_s*=S,l.l*=m,l.dead_l*=m,l.s*=S,l.dead_s*=S,a[i].vars.GDD=0}}return a.isRegrowth=!0,e},Ha=function(t){return void 0===t?a.h_mx():a[t].h()},Ia=function(t){return void 0===t?a.L_tot():a[t].L()},ba=function(t){return void 0===t?a.Ω_water():a[t].vars.Ω_water},xa=function(t){return void 0===t?a.Ω_N():a[t].vars.Ω_N},La=function(t){return void 0===t?a.τ_T_low():a[t].vars.τ_T_low},Ba=function(t){return void 0===t?a.τ_T_high():a[t].vars.τ_T_high},Ea=function(t){return(void 0===t?a.DM_leaf():a[t].DM_leaf())*I},Ga=function(t){return(void 0===t?a.DM_stem():a[t].DM_stem())*I},Ua=function(t){return(void 0===t?a.DM_root():a[t].DM_root())*I},ka=function(){for(var t=[],e=.1,i=0;H>i;i++){for(var r=new ae,o=0,n=0;F>n;n++){var _=a[n],c=_.vars,s=c.Λ_r,p=c.Λ_litter,l=a.f_r[n][i]/a.f_r_sum[n]/E;0===i&&(r.vo_AOM_Slow+=(p.sc+p.nc+p.pn)*e/E,o+=p.pn*e/K*z/E,p.sc*=1-e,p.nc*=1-e,p.pn*=1-e),r.vo_AOM_Slow+=(s.sc+s.nc+s.pn)*l,o+=s.pn/K*z*l}r.vo_CN_Ratio_AOM_Slow=0===r.vo_AOM_Slow?0:0===o?200:r.vo_AOM_Slow/o,t[i]=r}for(var n=0;F>n;n++){var s=a[n].vars.Λ_r;s.sc=s.nc=s.pn=0}return t},Va=function(){return a.reduce(function(t,e){return t+e.vars.AH.l},0)*I},Ya=function(){return a.reduce(function(t,e){return t+e.vars.SC.live_l_1},0)*I},Wa=function(){return a.reduce(function(t,e){return t+e.vars.SC.live_l_2},0)*I},qa=function(){return a.reduce(function(t,e){return t+e.vars.SC.live_l_3},0)*I},Ka=function(){return a.reduce(function(t,e){return t+e.vars.SC.dead_l},0)*I},za=function(){return a.reduce(function(t,e){return t+e.vars.SC.live_s_1},0)*I},Ja=function(){return a.reduce(function(t,e){return t+e.vars.SC.live_s_2},0)*I},ja=function(){return a.reduce(function(t,e){return t+e.vars.SC.live_s_3},0)*I},Xa=function(){return a.reduce(function(t,e){return t+e.vars.SC.dead_s},0)*I},Za=function(){return 1===F?a[0].OMD_shoot():0},Qa=function(){for(var t=0,e=a.DM_leaf(),i=0;F>i;i++)t+=a[i].DM_leaf()/e*a[i].NDFD_leaf();return t},$a=function(){for(var t=0,e=a.DM_stem(),i=0;F>i;i++)t+=a[i].DM_stem()/e*a[i].NDFD_stem();return t},ti=function(){for(var t=0,e=a.DM_leaf(),i=0;F>i;i++)t+=a[i].DM_leaf()/e*a[i].NDF_leaf();return t},ei=function(){for(var t=0,e=a.DM_stem(),i=0;F>i;i++)t+=a[i].DM_stem()/e*a[i].NDF_stem();return t},ai=function(){for(var t=0,e=a.DM_leaf(),i=0;F>i;i++)t+=a[i].DM_leaf()/e*a[i].NFC_leaf();return t},ii=function(){for(var t=0,e=a.DM_stem(),i=0;F>i;i++)t+=a[i].DM_stem()/e*a[i].NFC_stem();return t},ri=function(){for(var t=0,e=a.DM_leaf(),i=0;F>i;i++)t+=a[i].DM_leaf()/e*a[i].CP_leaf();return t},oi=function(){for(var t=0,e=a.DM_stem(),i=0;F>i;i++)t+=a[i].DM_stem()/e*a[i].CP_stem();return t},ni=function(){for(var t=0,e=a.DM_shoot(),i=0;F>i;i++)t+=a[i].DM_shoot()/e*a[i].CP_shoot();return t},_i=function(){for(var t=0,e=a.DM_leaf(),i=0;F>i;i++)t+=a[i].DM_leaf()/e*a[i].ASH_leaf();return t},ci=function(){for(var t=0,e=a.DM_stem(),i=0;F>i;i++)t+=a[i].DM_stem()/e*a[i].ASH_stem();return t},si=function(){for(var t=0,e=a.DM_shoot(),i=0;F>i;i++)t+=a[i].DM_shoot()/e*a[i].ASH_shoot();return t},pi=function(){for(var t=0,e=a.DM_shoot(),i=0;F>i;i++)t+=a[i].DM_shoot()/e*a[i].CF_shoot();return t},li=function(){for(var t=0,e=0;F>e;e++)t+=a[e].vars.N_ass_add;return t*I},ui=function(){for(var t=0,e=0;F>e;e++)t+=a[e].vars.N_assim;return t*I},fi=function(){for(var t=0,e=0;F>e;e++)t+=a[e].vars.N_up;return t*I},di=function(){for(var t=0,e=0;F>e;e++)t+=a[e].vars.N_remob;return t*I},vi=function(){for(var t=0,e=0,i=0;F>i;i++)t+=a[i].DM_leaf(),e+=a[i].DM_stem();return t/e},gi=function(t){return a[t].vars.ρ_l},mi=function(t){for(var e=0,i=0;F>i;i++)e+=a.W_r[i][t];return e};return{step:ne,layer_root_DM:mi,get_P_g:Oa,get_G:Ca,get_R_m:Aa,get_DM_dead_shoot:Na,get_f_N_live_leaf:Da,f_N_live_leaf_DM:wa,f_N_live_stem_DM:Pa,f_N_root_DM:Ra,removal_dm:Fa,removal_by_height:Ta,height:Ha,LAI:Ia,N_ass_add:li,N_assim:ui,N_up:fi,N_remob:di,leaf_stem_ratio:vi,"ρ_l":gi,DM_leaf:Ea,DM_stem:Ga,DM_root:Ua,ASH_l:Va,SC_live_l_1:Ya,SC_live_l_2:Wa,SC_live_l_3:qa,SC_dead_l:Ka,SC_live_s_1:za,SC_live_s_2:Ja,SC_live_s_3:ja,SC_dead_s:Xa,OMD_shoot:Za,NDFD_leaf:Qa,NDFD_stem:$a,NDF_leaf:ti,NDF_stem:ei,NFC_leaf:ai,NFC_stem:ii,CP_leaf:ri,CP_stem:oi,CP_shoot:ni,ASH_leaf:_i,ASH_stem:ci,ASH_shoot:si,CF_shoot:pi,GLF_water:ba,GLF_nitrogen:xa,GLF_lowTemperature:La,GLF_highTemperature:Ba,senescencedTissue:ka,accumulateEvapotranspiration:we,isDying:Sa,totalBiomass:ha,getEffectiveRootingDepth:Re,get_AbovegroundBiomass:na,get_AbovegroundBiomassNConcentration:pa,get_AbovegroundBiomassNContent:le,get_AccumulatedETa:ma,get_ActNUptake:da,get_ActualTranspiration:Qe,get_Assimilates:be,get_AssimilationRate:Ie,get_AutotrophicRespiration:Ae,get_CriticalNConcentration:sa,get_CropHeight:Ke,get_CropNRedux:ea,get_CropName:Fe,get_CurrentTemperatureSum:ia,get_DaylengthFactor:Ge,get_DevelopmentalStage:ra,get_EvaporatedFromIntercept:Ye,get_FreshPrimaryCropYield:de,get_FreshSecondaryCropYield:ve,get_GrossPhotosynthesisHaRate:He,get_GrossPhotosynthesisRate:Te,get_GrossPrimaryProduction:va,get_GrowthRespirationAS:Be,get_HeatStressRedux:aa,get_HeatSumIrrigationEnd:ua,get_HeatSumIrrigationStart:la,get_KcFactor:je,get_LeafAreaIndex:qe,get_MaintenanceRespirationAS:Le,get_NUptakeFromLayer:pe,get_NetMaintenanceRespiration:xe,get_NetPhotosynthesis:Ue,get_NetPrecipitation:We,get_NetPrimaryProduction:ga,get_NumberOfOrgans:ya,get_OrganBiomass:se,get_OrganGrowthIncrement:_e,get_OrganSpecificNPP:De,get_OrganSpecificTotalRespired:Ne,get_OxygenDeficit:ta,get_PotNUptake:Ce,get_PotentialTranspiration:Ze,get_PrimaryCropYield:ue,get_PrimaryYieldNConcentration:Se,get_PrimaryYieldNContent:he,get_RawProteinConcentration:Me,get_ReferenceEvapotranspiration:ke,get_RelativeTotalDevelopment:oa,get_RemainingEvapotranspiration:Ve,get_ResidueBiomass:ge,get_ResiduesNConcentration:me,get_ResiduesNContent:ye,get_RootNConcentration:Pe,get_RootingDepth:ze,get_SecondaryCropYield:fe,get_SecondaryYieldNContent:Oe,get_SoilCoverage:Je,get_StomataResistance:Xe,get_SumTotalNUptake:fa,get_TargetNConcentration:ca,get_TotalBiomassNContent:_a,get_Transpiration:ce,get_TranspirationDeficit:$e,get_VernalisationFactor:Ee,get_numberOfSpecies:Ma}},Ne=function(t,e){this.mode="MyMode",arguments[0]instanceof Ne?($("Copy constructor: Env	soil param size: "+env.soilParams.length),this.env=arguments[0],this.customId=env.customId,this.soilParams=env.soilParams,this.noOfLayers=env.noOfLayers,this.layerThickness=env.layerThickness,this.useNMinMineralFertilisingMethod=env.useNMinMineralFertilisingMethod,this.useAutomaticIrrigation=env.useAutomaticIrrigation,this.useSecondaryYields=env.useSecondaryYields,this.windSpeedHeight=env.windSpeedHeight,this.atmosphericCO2=env.atmosphericCO2,this.albedo=env.albedo,this.da=env.da,this.cropRotation=env.cropRotation,this.site=env.site,this.general=env.general,this.organic=env.organic,this.nMinFertiliserPartition=env.nMinFertiliserPartition,this.nMinUserParams=env.nMinUserParams,this.autoIrrigationParams=env.autoIrrigationParams,this.centralParameterProvider=env.centralParameterProvider,this.pathToOutputDir=env.pathToOutputDir,this.mode=env.mode):(this.soilParams=t,this.customId=-1,this.centralParameterProvider=e,this.pathToOutputDir=null,this.user_env=this.centralParameterProvider.userEnvironmentParameters,this.windSpeedHeight=this.user_env.p_WindSpeedHeight,this.atmosphericCO2=this.user_env.p_AthmosphericCO2,this.albedo=this.user_env.p_Albedo,this.noOfLayers=this.user_env.p_NumberOfLayers,this.layerThickness=this.user_env.p_LayerThickness,this.useNMinMineralFertilisingMethod=this.user_env.p_UseNMinMineralFertilisingMethod,this.useAutomaticIrrigation=this.user_env.p_UseAutomaticIrrigation,this.useSecondaryYields=this.user_env.p_UseSecondaryYields,this.cropRotation=null);this.getMode=function(){return mode},this.setCropRotation=function(t){this.cropRotation=t}},De=function(t){var e=[];return e.weather=t,e.run=function(t){var e=this.weather,a=e.noOfStepsPossible(),i=e.startDate(),r=i.toISOString().split("T")[0],o=i.isLeapYear(),_=_=i.getFullYear(),c=0,s=null,p=t.length,l=this.length,u=0,f=0,d=0,v=0,g=0,m=0,S=0,y=0,h=2,M=380,O=0,C=0,A=0,N=0,D=!1;for(c;a>c;c++){X(n.INFO,r+" / "+c),o=i.isLeapYear(),_=_=i.getFullYear(),u=e.doy(c),f=e.dataForTimestep(j.TAVG,c),d=e.dataForTimestep(j.TMAX,c),v=e.dataForTimestep(j.TMIN,c),g=e.dataForTimestep(j.GLOBRAD,c),m=e.isAvailable(j.SUNHOURS)?e.dataForTimestep(j.SUNHOURS,c):-1,S=e.isAvailable(j.RELHUMID)?e.dataForTimestep(j.RELHUMID,c):-1,y=e.dataForTimestep(j.WIND,c),O=e.dataForTimestep(j.PRECIP,c),C=e.dataForTimestep(j.F_DIRECTRAD,c),A=e.dataForTimestep(j.DAYLENGTH,c)*H,N=e.dataForTimestep(j.EXRAD,c),c>4&&!D&&e.dataForTimestep(j.TAVG,c)>5&&e.dataForTimestep(j.TAVG,c-1)>5&&e.dataForTimestep(j.TAVG,c-2)>5&&e.dataForTimestep(j.TAVG,c-3)>5&&e.dataForTimestep(j.TAVG,c-4)>5?D=!0:c>4&&D&&e.dataForTimestep(j.TAVG,c)<5&&e.dataForTimestep(j.TAVG,c-1)<5&&e.dataForTimestep(j.TAVG,c-2)<5&&e.dataForTimestep(j.TAVG,c-3)<5&&e.dataForTimestep(j.TAVG,c-4)<5&&(D=!1);for(var w=0;l>w;w++)s=this[w],s.prodProcessStep(i),s.isCropPlanted()&&s.cropStep(u,f,d,v,g,m,S,y,h,M,O,C,A,N,D),s.generalStep(u,_,o,v,f,d,O,y,g,S);for(var P=0;p>P;P++)t[P](c,r,this);i.setDate(i.getDate()+1),r=i.toISOString().split("T")[0]}for(var P=0;p>P;P++)t[P](c,r,this,!0)},e},we=function(t){var e=this;this._currentCropGrowth=null,this.cropGrowth=function(){return e._currentCropGrowth},this.vw_AtmosphericCO2Concentration,this.vs_GroundwaterDepth;var a=t,i=new Re(a.general,a.soilParams,a.centralParameterProvider),r=new xe(i,this,a.centralParameterProvider),o=new Ie(i,a.site,this,a.centralParameterProvider),_=new Fe(i,a.general,a.site,a.centralParameterProvider),c=new be(i,a.site,a.centralParameterProvider),s=0,p=0,l=0,u=(a.da,a.centralParameterProvider),f=u.userEnvironmentParameters,d=0,v=0,m=0,S=0,y=0,h=null,M=!1,O=0,C=t.cropRotation[O],A=C.start(),N=function(e){A.isValid()&&(X(n.INFO,"next app-date: "+A.toISOString().split("T")[0]),A.setHours(0,0,0,0)===e.setHours(0,0,0,0)&&(C.apply(A,this),X(n.INFO,"applied at: "+A.toISOString().split("T")[0]),A=C.nextDate(A),A.isValid()?A.isValid()&&X(n.INFO,"next app-date: "+A.toISOString().split("T")[0]):(he(),C.crop().reset(),O++,O<t.cropRotation.length&&(C=t.cropRotation[O],A=C.start(),X(n.INFO,"new valid next app-date: "+A.toISOString().split("T")[0])))))},w=function(a){if(0===t.cropRotation.length)return void X(n.ERROR,"rotation is empty");var i=t.da.startDate(),r=t.da.noOfStepsPossible();if(X(n.INFO,"next app-date: "+A.toISOString().split("T")[0]),!A.isValid())return void X(n.ERROR,"start of production-process: "+C.toString()+" is not valid");for(var o=0;r>o;o++){if(i.setDate(i.getDate()+1),X(n.INFO,i.toISOString().split("T")[0]),Me(),e._currentCropGrowth&&e._currentCropGrowth.isDying()&&F(),A.setHours(0,0,0,0)===i.setHours(0,0,0,0)){C.apply(A,this),X(n.INFO,"applied at: "+A.toISOString().split("T")[0]);A=C.nextDate(A),!A.isValid()&&h instanceof FieldCrop?(he(),C.crop().reset(),O++,O<t.cropRotation.length&&(C=t.cropRotation[O],A=C.start(),X(n.INFO,"new valid next app-date: "+A.toISOString().split("T")[0]))):A.isValid()&&X(n.INFO,"next app-date: "+A.toISOString().split("T")[0])}if(ve()&&B(o),a.length)for(var _=0,c=a.length;c>_;_++)a[_](o,i,this);L(o)}if(X(n.INFO,"returning from runModel"),a)for(var _=0,c=a.length;c>_;_++)a[_](null,null)},P=function(t){h=t;var r=null;if(e._currentCropGrowth=null,d=0,v=0,m=0,S=0,y=0,h.isValid()&&"generic"===h.type){if(r=h.cropParameters(),e._currentCropGrowth=new Oe(i,a.general,r,a.site,a.centralParameterProvider),c.put_Crop(e._currentCropGrowth),i.put_Crop(e._currentCropGrowth),o.put_Crop(e._currentCropGrowth),_.put_Crop(e._currentCropGrowth),X(n.INFO,"seeding crop: "+t.name()),a.useNMinMineralFertilisingMethod&&h.seedDate().dayOfYear()<=h.harvestDate().dayOfYear()){X(n.INFO,"N_min fertilising summer crop");var s=I(a.nMinFertiliserPartition,NMinCropParameters(r.pc_SamplingDepth,r.pc_TargetNSamplingDepth,r.pc_TargetN30));ue(s)}}else h.isValid()&&"grassland"===h.type&&(r={},e._currentCropGrowth=new Ae(i,a.general,h.mixture,a.site,a.centralParameterProvider),c.put_Crop(e._currentCropGrowth),i.put_Crop(e._currentCropGrowth),o.put_Crop(e._currentCropGrowth),_.put_Crop(e._currentCropGrowth),X(n.INFO,"seeding crop: "+t.name()))},R=function(){if(h&&h.isValid()){var t=e._currentCropGrowth.biomass(0),r=e._currentCropGrowth.rootNitrogenConcentration();X(n.INFO,"Harvest: adding organic matter from root to soilOrganic"),X(n.INFO,"Root biomass: "+t+" Root N concentration: "+r),_.addOrganicMatter(h.residueParameters(),t,r);var s=e._currentCropGrowth.residueBiomass(a.useSecondaryYields),p=e._currentCropGrowth.residuesNitrogenConcentration();X(n.INFO,"Adding organic matter from residues to soilOrganic"),X(n.INFO,"Residue biomass: "+s+" Residue N concentration: "+p),X(n.INFO,"Primary yield biomass: "+e._currentCropGrowth.primaryYield()+" Primary yield N concentration: "+e._currentCropGrowth.primaryYieldNitrogenConcentration()),X(n.INFO,"Secondary yield biomass: "+e._currentCropGrowth.secondaryYield()+" Secondary yield N concentration: ??"),X(n.INFO,"Residues N content: "+e._currentCropGrowth.residuesNitrogenContent()+" Primary yield N content: "+e._currentCropGrowth.primaryYieldNitrogenContent()+" Secondary yield N content: "+e._currentCropGrowth.secondaryYieldNitrogenContent()),_.addOrganicMatter(h.residueParameters(),s,p)}e._currentCropGrowth=null,h=null,c.remove_Crop(),i.remove_Crop(),o.remove_Crop(),_.remove_Crop()},F=function(){if(h&&h.isValid()){var t=e._currentCropGrowth.biomass(),a=e._currentCropGrowth.shootBiomassNitrogenConcentration()+e._currentCropGrowth.rootNitrogenConcentration();X(n.INFO,"Incorporation: adding organic matter from total biomass of crop to soilOrganic"),X(n.INFO,"Total biomass: "+t+" Total N concentration: "+a),_.addOrganicMatter(h.residueParameters(),t,a)}e._currentCropGrowth=null,h=null,c.remove_Crop(),i.remove_Crop(),o.remove_Crop(),_.remove_Crop()},T=function(t,e){a.useNMinMineralFertilisingMethod||(X(n.INFO,"Apply mineral fertiliser. Amount: "+e),i.applyMineralFertiliser(t,e),ue(e))},H=function(t,e,a){X(n.INFO,"apply organic fertiliser: amount: "+e+", vo_NConcentration: "+t.vo_NConcentration),_.setIncorporation(a),_.addOrganicMatter(t,e,t.vo_NConcentration),ue(e*t.vo_AOM_DryMatterContent*t.vo_NConcentration)},I=function(t,e){var r=a.nMinUserParams,o=i.applyMineralFertiliserViaNMinMethod(t,e.samplingDepth,e.nTarget,e.nTarget30,r.min,r.max,r.delayInDays);return o},b=function(t,e){a.useAutomaticIrrigation||(X(n.INFO,"apply irrigation: amount: "+t+", nitrateConcentration: "+e),_.addIrrigationWater(t),i.applyIrrigation(t,e),h&&(h.addAppliedIrrigationWater(t),this.addDailySumIrrigationWater(t)))},x=function(t){i.applyTillage(t)},L=function(s,p,l,u,d,v,g,m,S,y){e.vs_GroundwaterDepth=G(f.p_MaxGroundwaterDepth,f.p_MinGroundwaterDepth,f.p_MinGroundwaterDepthMonth,s,l);var M=f.p_JulianDayAutomaticFertilising;i.deleteAOMPool(),i.applyPossibleDelayedFerilizer();var O=i.applyPossibleTopDressing();if(ue(O),h&&h.isValid()&&a.useNMinMineralFertilisingMethod&&h.seedDate().dayOfYear()>h.harvestDate().dayOfYear()&&s==M){X(n.INFO,"N_min fertilising winter crop");var C=h.cropParameters(),A=I(a.nMinFertiliserPartition,NMinCropParameters(C.pc_SamplingDepth,C.pc_TargetNSamplingDepth,C.pc_TargetN30));ue(A)}r.step(u,v,S),o.step(e.vs_GroundwaterDepth,g,v,u,y/100,d,m,t.windSpeedHeight,S,s),_.step(d,g,m),c.step()},B=function(t,r,o,n,c,s,p,u,f,g,M,O,C,A){if(e._currentCropGrowth){if(e._currentCropGrowth.isDying())return void F();if(d++,e._currentCropGrowth.step(t,r,o,n,c,s,p/100,u,f,g,M,O,C,A),a.useAutomaticIrrigation){var N=a.autoIrrigationParams;i.applyIrrigationViaTrigger(N.treshold,N.amount,N.nitrateConcentration)&&(_.addIrrigationWater(N.amount),h.addAppliedIrrigationWater(N.amount),l+=N.amount)}v+=e._currentCropGrowth.nitrogenStress(),m+=e._currentCropGrowth.waterStress(),S+=e._currentCropGrowth.heatStress(),y+=e._currentCropGrowth.oxygenStress()
}},E=function(t,e,a){var i=380,r=0;return r=a?t+e/366:t+e/365,i=222+g(.0119*(r-1580))+2.5*D((r-.5)/.1592)},G=function(t,e,a,i,r){var o=20,n=r?366:365,_=(t+e)/2,c=(t-e)/2,s=D(3.14159265358979*(i/n*360-90-(30*a-15))/180);return o=_+s*c,0>o&&(o=20),o},U=function(t){for(var e=0,r=0,o=0,n=0,_=a.noOfLayers;_>n&&(o++,r+=i[n].vs_SoilOrganicCarbon(),e+=i[n].vs_LayerThickness,!(e>=t));n++);return r/o*100},k=function(){return o.meanWaterContent(.9)},V=function(t,e){return o.meanWaterContent(t,e)},Y=function(t){for(var e=0,r=0,o=0,n=0,_=a.noOfLayers;_>n&&(o++,r+=i[n].get_SoilNmin(),e+=i[n].vs_LayerThickness,!(e>=t));n++);return r/o*e*1e4},W=function(t){for(var e=0,r=0,o=0,n=0,_=a.noOfLayers;_>n&&(o++,r+=i[n].get_SoilNO3(),e+=i[n].vs_LayerThickness,!(e>=t));n++);return r},q=function(){return o.get_GroundwaterRecharge()},K=function(){return c.get_NLeaching()},z=function(t){return i.sumSoilTemperature(t)},J=function(){return o.getMaxSnowDepth()},j=function(){return o.accumulatedSnowDepth()},Z=function(){return o.getAccumulatedFrostDepth()},Q=function(){for(var t=3,e=0,a=0;t>a;a++)e+=i.soilLayer(a).get_Vs_SoilTemperature();return e/t},$=function(t,e){for(var a=0,r=0,o=t;e>o;o++)r+=i.soilLayer(o).get_Vs_SoilMoisture_m3(),a++;return r/a},te=function(t,e){for(var a=0,i=0,r=t;e>r;r++)i+=o.get_CapillaryRise(r),a++;return i/a},ee=function(t,e){for(var a=0,i=0,r=t;e>r;r++)i+=o.get_PercolationRate(r),a++;return i/a},ae=function(){return o.get_SumSurfaceRunOff()},ie=function(){return o.get_SurfaceRunOff()},re=function(){return e._currentCropGrowth?e._currentCropGrowth.remainingEvapotranspiration():0},oe=function(){return e._currentCropGrowth?e._currentCropGrowth.get_ActualTranspiration():0},ne=function(){return e._currentCropGrowth?e._currentCropGrowth.evaporatedFromIntercept():0},_e=function(){return o.get_Evapotranspiration()},ce=function(){for(var t=0,e=0;3>e;e++)t+=_.get_SMB_CO2EvolutionRate(e);return t},se=function(){return _.get_NH3_Volatilised()},pe=function(){return _.get_SumNH3_Volatilised()},le=function(){for(var t=0,e=0;3>e;e++)t+=_.get_ActDenitrificationRate(e);return t},ue=function(t){p+=t,s+=t},fe=function(){return a.useNMinMineralFertilisingMethod},de=function(){return h},ve=function(){return h&&h.isValid()},ge=function(){return p},me=function(){return l},Se=function(t){l+=t},ye=function(){return s},he=function(){s=0},Me=function(){l=0,p=0},Ce=function(){return e.vw_AtmosphericCO2Concentration},Ne=function(){return e.vs_GroundwaterDepth},De=function(){return u.writeOutputFiles},we=function(){return u},Pe=function(){return a},Te=function(){return r},He=function(){return o},Le=function(){return _},Be=function(){return c},Ee=function(){return i},Ge=function(){return i},Ue=function(t){return t*(1-a.albedo)},ke=function(){return d},Ve=function(){return v},Ye=function(){return m},We=function(){return S},qe=function(){return y},Ke=function(){return Number(M)};return{run:w,getCentralParameterProvider:we,getEnvironment:Pe,cropGrowth:this.cropGrowth,prodProcessStep:N,generalStep:L,cropStep:B,CO2ForDate:E,GroundwaterDepthForDate:G,seedCrop:P,incorporateCurrentCrop:F,applyMineralFertiliser:T,applyOrganicFertiliser:H,harvestCurrentCrop:R,applyMineralFertiliserViaNMinMethod:I,applyIrrigation:b,applyTillage:x,avgCorg:U,mean90cmWaterContent:k,meanWaterContent:V,sumNmin:Y,groundWaterRecharge:q,nLeaching:K,sumSoilTemperature:z,sumNO3AtDay:W,maxSnowDepth:J,accumulatedSnowDepth:j,accumulatedFrostDepth:Z,avg30cmSoilTemperature:Q,avgSoilMoisture:$,avgCapillaryRise:te,avgPercolationRate:ee,sumSurfaceRunOff:ae,surfaceRunoff:ie,getEvapotranspiration:re,getTranspiration:oe,getEvaporation:ne,get_sum30cmSMB_CO2EvolutionRate:ce,getNH3Volatilised:se,getSumNH3Volatilised:pe,getsum30cmActDenitrificationRate:le,getETa:_e,vw_AtmosphericCO2Concentration:this.vw_AtmosphericCO2Concentration,vs_GroundwaterDepth:this.vs_GroundwaterDepth,addDailySumFertiliser:ue,useNMinMineralFertilisingMethod:fe,currentCrop:de,isCropPlanted:ve,dailySumFertiliser:ge,dailySumIrrigationWater:me,addDailySumIrrigationWater:Se,sumFertiliser:ye,resetFertiliserCounter:he,resetDailyCounter:Me,get_AtmosphericCO2Concentration:Ce,get_GroundwaterDepth:Ne,writeOutputFiles:De,soilTemperature:Te,soilMoisture:He,soilOrganic:Le,soilTransport:Be,soilColumn:Ee,soilColumnNC:Ge,netRadiation:Ue,daysWithCrop:ke,getAccumulatedNStress:Ve,getAccumulatedWaterStress:Ye,getAccumulatedHeatStress:We,getAccumulatedOxygenStress:qe,getIsVegPeriod:Ke}},Pe=function(t,e,a){var i=this;if(0===arguments.length){this.vs_SoilSandContent=.9,this.vs_SoilClayContent=.05,this.vs_SoilStoneContent=0,this.vs_SoilTexture="Ss",this.vs_SoilpH=7,this.vs_SoilMoistureOld_m3=.25,this.vs_SoilWaterFlux=0,this.vs_Lambda=.5,this.vs_FieldCapacity=.21,this.vs_Saturation=.43,this.vs_PermanentWiltingPoint=.08,this.vs_SOM_Slow=0,this.vs_SOM_Fast=0,this.vs_SMB_Slow=0,this.vs_SMB_Fast=0,this.vs_SoilCarbamid=0,this.vs_SoilNH4=1e-4,this.vs_SoilNO2=.001,this.vs_SoilNO3=.001,this.vs_SoilFrozen=!1;var o=-1,n=-1,_=0,c=-1,s=.25,p=0;this.vo_AOM_Pool=[];var l=new ne;this.vs_SoilMoisture_m3=this.vs_FieldCapacity*l.userInitValues.p_initPercentageFC,this.vs_SoilMoistureOld_m3=this.vs_FieldCapacity*l.userInitValues.p_initPercentageFC,this.vs_SoilNO3=l.userInitValues.p_initSoilNitrate,this.vs_SoilNH4=l.userInitValues.p_initSoilAmmonium}else{if(3!==arguments.length||!(arguments[2]instanceof ne))throw new Error("arguments.length !== 3 || !(arguments[2] instanceof ParameterProvider");this.vs_LayerThickness=t,this.vs_SoilSandContent=e.vs_SoilSandContent,this.vs_SoilClayContent=e.vs_SoilClayContent,this.vs_SoilStoneContent=e.vs_SoilStoneContent,this.vs_SoilTexture=e.vs_SoilTexture,this.vs_SoilpH=e.vs_SoilpH,this.vs_SoilMoistureOld_m3=.25,this.vs_SoilWaterFlux=0,this.vs_Lambda=e.vs_Lambda,this.vs_FieldCapacity=e.vs_FieldCapacity,this.vs_Saturation=e.vs_Saturation,this.vs_PermanentWiltingPoint=e.vs_PermanentWiltingPoint,this.vs_SOM_Slow=0,this.vs_SOM_Fast=0,this.vs_SMB_Slow=0,this.vs_SMB_Fast=0,this.vs_SoilCarbamid=0,this.vs_SoilNH4=1e-4,this.vs_SoilNO2=.001,this.vs_SoilNO3=.005,this.vs_SoilFrozen=!1,this.centralParameterProvider=a;var o=e.vs_SoilOrganicCarbon(),n=e.vs_SoilOrganicMatter(),_=e.vs_SoilBulkDensity(),c=0,s=.25,p=0;if(this.vo_AOM_Pool=[],r&&!(o-n*J.PO_SOM_TO_C<1e-5))throw new Error("_vs_SoilOrganicCarbon - (_vs_SoilOrganicMatter * ORGANIC_CONSTANTS.PO_SOM_TO_C)) < 0.00001)");s=this.vs_FieldCapacity*a.userInitValues.p_initPercentageFC,this.vs_SoilMoistureOld_m3=this.vs_FieldCapacity*a.userInitValues.p_initPercentageFC,this.vs_SoilNH4=e.vs_SoilAmmonium<0?a.userInitValues.p_initSoilAmmonium:e.vs_SoilAmmonium,this.vs_SoilNO3=e.vs_SoilNitrate<0?a.userInitValues.p_initSoilNitrate:e.vs_SoilNitrate}this.vs_SoilNH4_a=0;var u=function(){return o>=0?o:n*J.PO_SOM_TO_C},f=function(){return n>=0?n:o/J.PO_SOM_TO_C},d=function(){return 1-i.vs_SoilSandContent-i.vs_SoilClayContent},v=function(){var t,e;t=i.vs_PermanentWiltingPoint>0?i.vs_PermanentWiltingPoint:y(),e=i.vs_Saturation>0?i.vs_Saturation:S();var a,r=g(-2.486+2.5*i.vs_SoilSandContent-35.1*u()-2.617*(M()/1e3)-2.3*i.vs_SoilClayContent),o=1,n=g(.053-.9*i.vs_SoilSandContent-1.3*i.vs_SoilClayContent+1.5*C(i.vs_SoilSandContent,2));a=I()<=t?5e7:1/r*C(C((e-t)/(I()-t),1/o)-1,1/n),c=h(a),c=0>c?5e-7:c},m=function(){if(""==i.vs_SoilTexture){var t,e;t=i.vs_PermanentWiltingPoint>0?i.vs_PermanentWiltingPoint:y(),e=i.vs_Saturation>0?i.vs_Saturation:S();var a=g(-2.486+2.5*i.vs_SoilSandContent-35.1*u()-2.617*(M()/1e3)-2.3*i.vs_SoilClayContent),r=1,o=g(.053-.9*i.vs_SoilSandContent-1.3*i.vs_SoilClayContent+1.5*C(i.vs_SoilSandContent,2)),n=2.1;i.vs_SoilSandContent>.48&&i.vs_SoilSandContent<=.9&&i.vs_SoilClayContent<=.12?n=2.1-.476*(i.vs_SoilSandContent-.48):i.vs_SoilSandContent>.9&&i.vs_SoilClayContent<=.05?n=1.9:i.vs_SoilClayContent>.45?n=2.5:i.vs_SoilClayContent>.3&&i.vs_SoilSandContent<.2?n=2.4:i.vs_SoilClayContent>.35?n=2.3:i.vs_SoilClayContent>.25&&i.vs_SoilSandContent<.1?n=2.3:i.vs_SoilClayContent>.17&&i.vs_SoilSandContent>.68?n=2.2:i.vs_SoilClayContent>.17&&i.vs_SoilSandContent<.33?n=2.2:i.vs_SoilClayContent>.08&&i.vs_SoilSandContent<.27?n=2.2:i.vs_SoilClayContent>.25&&i.vs_SoilSandContent<.25&&(n=2.2);var _=C(10,n);i.vs_FieldCapacity=t+(e-t)/C(1+C(a*_,o),r),i.vs_FieldCapacity*=1-i.vs_SoilStoneContent}return i.vs_FieldCapacity},S=function(){return""==i.vs_SoilTexture&&(i.vs_Saturation=.81-.283*(M()/1e3)+.1*i.vs_SoilClayContent,i.vs_Saturation*=1-i.vs_SoilStoneContent),i.vs_Saturation},y=function(){return""==i.vs_SoilTexture&&(i.vs_PermanentWiltingPoint=.015+.5*i.vs_SoilClayContent+1.4*i.vs_SoilOrganicCarbon(),i.vs_PermanentWiltingPoint*=1-i.vs_SoilStoneContent),i.vs_PermanentWiltingPoint},M=function(){return _},O=function(t){n=t},A=function(t){o=t},N=function(){return i.vs_SoilpH},D=function(){return v(),c},w=function(){return this.vs_SoilNH4},P=function(){return this.vs_SoilNH4_a},R=function(){return this.vs_SoilNO2},F=function(){return this.vs_SoilNO3},T=function(){return this.vs_SoilCarbamid},H=function(){return this.vs_SoilNO3+this.vs_SoilNO2+this.vs_SoilNH4},I=function(){return s},b=function(t){s=t},x=function(){return p},L=function(t){p=t},u=function(){return o},f=function(){return n},d=function(){return this.vs_SoilSiltContent};return{calc_vs_SoilMoisture_pF:v,centralParameterProvider:this.centralParameterProvider,get_FieldCapacity:m,get_PermanentWiltingPoint:y,get_Saturation:S,get_SoilCarbamid:T,get_SoilNH4:w,get_SoilNH4_a:P,get_SoilNmin:H,get_SoilNO2:R,get_SoilNO3:F,get_SoilpH:N,get_Vs_SoilMoisture_m3:I,get_Vs_SoilTemperature:x,set_SoilOrganicCarbon:A,set_SoilOrganicMatter:O,set_Vs_SoilMoisture_m3:b,set_Vs_SoilTemperature:L,vo_AOM_Pool:this.vo_AOM_Pool,vs_FieldCapacity:this.vs_FieldCapacity,vs_Lambda:this.vs_Lambda,vs_LayerThickness:this.vs_LayerThickness,vs_PermanentWiltingPoint:this.vs_PermanentWiltingPoint,vs_Saturation:this.vs_Saturation,vs_SMB_Fast:this.vs_SMB_Fast,vs_SMB_Slow:this.vs_SMB_Slow,vs_SoilBulkDensity:M,vs_SoilCarbamid:this.vs_SoilCarbamid,vs_SoilClayContent:this.vs_SoilClayContent,vs_SoilFrozen:this.vs_SoilFrozen,vs_SoilMoisture_pF:D,vs_SoilMoistureOld_m3:this.vs_SoilMoistureOld_m3,vs_SoilNH4:this.vs_SoilNH4,vs_SoilNH4_a:this.vs_SoilNH4_a,vs_SoilNO2:this.vs_SoilNO2,vs_SoilNO3:this.vs_SoilNO3,vs_SoilOrganicCarbon:u,vs_SoilOrganicMatter:f,vs_SoilpH:this.vs_SoilpH,vs_SoilSandContent:this.vs_SoilSandContent,vs_SoilSiltContent:d,vs_SoilStoneContent:this.vs_SoilStoneContent,vs_SoilTexture:this.vs_SoilTexture,vs_SoilWaterFlux:this.vs_SoilWaterFlux,vs_SOM_Fast:this.vs_SOM_Fast,vs_SOM_Slow:this.vs_SOM_Slow}},Re=function(t,e,a){var i=this;this.generalParams=t,this.soilParams=e,this.centralParameterProvider=a,this.cropGrowth=null,this._delayedNMinApplications=[],this._vf_TopDressing=0,this._vf_TopDressingDelay=0,this._vs_NumberOfOrganicLayers=0;var o=[];o.vs_SurfaceWaterStorage=0,o.vs_InterceptionStorage=0,o.vm_GroundwaterTable=0,o.vs_FluxAtLowerBoundary=0,o.vq_CropNUptake=0,o.vs_SoilLayers=[],X(n.INFO,"Constructor: SoilColumn "+e.length);for(var _=0;_<this.soilParams.length;_++){var c=new Pe(t.ps_LayerThickness[0],e[_],a);o.vs_SoilLayers.push(c),o[_]=c}o.applyMineralFertiliser=function(t,e){if(this[0].vs_SoilNO3+=e*t.getNO3()/1e4/this[0].vs_LayerThickness,this[0].vs_SoilNH4+=e*t.getNH4()/1e4/this[0].vs_LayerThickness,this[0].vs_SoilCarbamid+=e*t.getCarbamid()/1e4/this[0].vs_LayerThickness,r&&this[0].vs_SoilNH4<0)throw new Error(this[0].vs_SoilNH4)},o.applyPossibleTopDressing=function(){if(i._vf_TopDressingDelay>0&&(i._vf_TopDressingDelay--,0==i._vf_TopDressingDelay)){var t=i._vf_TopDressing;return this.applyMineralFertiliser(i._vf_TopDressingPartition,t),i._vf_TopDressing=0,t}return 0},o.applyPossibleDelayedFerilizer=function(){for(var t=i._delayedNMinApplications,e=0;0===!t.length;)if(e+=t[0].func.apply(this,t[0].args),t.shift(),r&&t!=_delayedNMinApplications)throw new Error(t);return e},o.applyMineralFertiliserViaNMinMethod=function(t,e,a,r,o,_,c){if(this[0].get_Vs_SoilMoisture_m3()>this[0].get_FieldCapacity())return i._delayedNMinApplications.push({func:this.applyMineralFertiliserViaNMinMethod,args:[t,e,a,r,o,_,c]}),X(n.WARN,"Soil too wet for fertilisation. Fertiliser event adjourned to next day."),0;for(var s=0,p=0,l=0,u=0,f=this.getLayerNumberForDepth(.3),v=d(e/this[g].vs_LayerThickness),g=0;v>g;g++)s+=this[g].vs_SoilNO3,l+=this[g].vs_SoilNH4;for(var g=0;f>g;g++)p+=this[g].vs_SoilNO3,u+=this[g].vs_SoilNH4;var m=a/1e4/this[0].vs_LayerThickness,S=r/1e4/this[0].vs_LayerThickness,y=m-(s+l),h=S-(p+u),O=1e4*y*this[0].vs_LayerThickness,C=1e4*h*this[0].vs_LayerThickness,A=M(O,C);return o>A&&(A=0,X(n.WARN,"Fertiliser demand below minimum application value. No fertiliser applied.")),A>_&&(i._vf_TopDressing=A-_,i._vf_TopDressingPartition=t,i._vf_TopDressingDelay=c,A=_,X(n.WARN,"Fertiliser demand above maximum application value. A top dressing of "+_vf_TopDressing+" will be applied from now on day"+c+".")),this.applyMineralFertiliser(t,A),X(n.INFO,"SoilColumn::applyMineralFertiliserViaNMinMethod:	"+A),A},o.soilColumnArrayapplyIrrigationViaTrigger=function(t,e,a){null===i.cropGrowth&&X(n.ERROR,"crop is null");var r=i.cropGrowth.heatSumIrrigationStart(),o=i.cropGrowth.heatSumIrrigationEnd(),_=i.cropGrowth.currentTemperatureSum();if(r>_||_>o)return!1;for(var c=i.centralParameterProvider.userSoilMoistureParameters.pm_CriticalMoistureDepth,s=0,p=0,l=0,u=S(d(c/i[0].vs_LayerThickness)),f=0;u>f;f++)s+=(this[f].get_Vs_SoilMoisture_m3()-this[f].get_PermanentWiltingPoint())*this.vs_LayerThickness()*1e3,p+=(this[f].get_FieldCapacity()-this[f].get_PermanentWiltingPoint())*this.vs_LayerThickness()*1e3,l=s/p;return t>=l?(this.applyIrrigation(e,a),X(n.INFO,"applying automatic irrigation treshold: "+t+" amount: "+e+" N concentration: "+a),!0):!1},o.applyIrrigation=function(t,e){var a=0;this.vs_SurfaceWaterStorage+=t,a=e*t/this[0].vs_LayerThickness/1e6,this[0].vs_SoilNO3+=a},o.deleteAOMPool=function(){for(var t=1;t<this[0].vo_AOM_Pool.length;){for(var e=0,a=0,r=0;r<i._vs_NumberOfOrganicLayers;r++)e+=this[r].vo_AOM_Pool[t].vo_AOM_Slow,a+=this[r].vo_AOM_Pool[t].vo_AOM_Fast;if(1e-5>e+a)for(var r=0;r<i._vs_NumberOfOrganicLayers;r++){var o=0;o+=t,this[r].vo_AOM_Pool.splice(o,1)}else t++}},o.vs_NumberOfLayers=function(){return this.length},o.applyTillage=function(t){for(var e=this.getLayerNumberForDepth(t)+1,a=0,i=0,o=0,n=0,_=0,c=0,s=0,p=0,l=0,u=0,f=0,d=0,v=0,g=0;e>g;g++)a+=this[g].vs_SoilOrganicCarbon(),i+=this[g].vs_SoilOrganicMatter(),o+=this[g].get_Vs_SoilTemperature(),n+=this[g].get_Vs_SoilMoisture_m3(),_+=this[g].vs_SoilMoistureOld_m3,c+=this[g].vs_SOM_Slow,s+=this[g].vs_SOM_Fast,p+=this[g].vs_SMB_Slow,l+=this[g].vs_SMB_Fast,u+=this[g].vs_SoilCarbamid,f+=this[g].vs_SoilNH4,d+=this[g].vs_SoilNO2,v+=this[g].vs_SoilNO3;if(r&&this[0].vs_SoilNH4<0)throw new Error(this[0].vs_SoilNH4);if(r&&this[0].vs_SoilNO2<0)throw new Error(this[0].vs_SoilNO2);if(r&&this[0].vs_SoilNO3<0)throw new Error(this[0].vs_SoilNO3);a/=e,i/=e,o/=e,n/=e,_/=e,c/=e,s/=e,p/=e,l/=e,u/=e,f/=e,d/=e,v/=e;for(var g=0;e>g;g++){if(this[g].set_SoilOrganicCarbon(a),this[g].set_SoilOrganicMatter(i),this[g].set_Vs_SoilTemperature(o),this[g].set_Vs_SoilMoisture_m3(n),this[g].vs_SoilMoistureOld_m3=_,this[g].vs_SOM_Slow=c,this[g].vs_SOM_Fast=s,this[g].vs_SMB_Slow=p,this[g].vs_SMB_Fast=l,this[g].vs_SoilCarbamid=u,this[g].vs_SoilNH4=f,this[g].vs_SoilNO2=d,this[g].vs_SoilNO3=v,r&&this[g].vs_SoilNH4<0)throw new Error(this[g].vs_SoilNH4);if(r&&this[g].vs_SoilNO2<0)throw new Error(this[g].vs_SoilNO2);if(r&&this[g].vs_SoilNO3<0)throw new Error(this[g].vs_SoilNO3)}var m=this[0].vo_AOM_Pool.length;if(m>0){for(var S=new Array(m),y=new Array(m),h=0;m>h;h++)S[h]=0,y[h]=0;e=O(e,this.vs_NumberOfOrganicLayers());for(var M=0;e>M;M++){var C=this[M],h=0;C.vo_AOM_Pool.forEach(function(t){S[h]+=t.vo_AOM_Slow,y[h]+=t.vo_AOM_Fast,h++})}for(var h=0;m>h;h++)S[h]=S[h]/e,y[h]=y[h]/e;for(var M=0;e>M;M++){C=this[M];var h=0;C.vo_AOM_Pool.forEach(function(t){t.vo_AOM_Slow=S[h],t.vo_AOM_Fast=y[h],h++})}}},o.vs_NumberOfOrganicLayers=function(){return i._vs_NumberOfOrganicLayers},o.soilLayer=function(t){return this[t]},o.vs_LayerThickness=function(){return this[0].vs_LayerThickness},o.get_DailyCropNUptake=function(){return 1e4*this.vq_CropNUptake},o.getLayerNumberForDepth=function(t){for(var e=0,a=this.length,i=0,r=this[0].vs_LayerThickness,o=0;a>o&&(i+=r,!(i>=t));o++)e++;return e},o.put_Crop=function(t){i.cropGrowth=t},o.remove_Crop=function(){i.cropGrowth=null},o.sumSoilTemperature=function(t){for(var e=0,a=0;t>a;a++)e+=this[a].get_Vs_SoilTemperature();return e},o.vs_NumberOfLayers=function(){return this.length};var s=function(){for(var t=0,e=0,a=0;a<o.vs_NumberOfLayers()&&(e++,t+=o.vs_SoilLayers[a].vs_LayerThickness,!(t>=i.generalParams.ps_MaxMineralisationDepth));a++);i._vs_NumberOfOrganicLayers=e};s();for(var p=0;p<i._vs_NumberOfOrganicLayers;p++){var l=new ae;l.vo_AOM_DryMatterContent=1,l.vo_AOM_NH4Content=0,l.vo_AOM_NO3Content=0,l.vo_AOM_CarbamidContent=0,l.vo_AOM_SlowDecCoeffStandard=.012,l.vo_AOM_FastDecCoeffStandard=.05,l.vo_PartAOM_to_AOM_Slow=.67,l.vo_PartAOM_to_AOM_Fast=.33,l.vo_CN_Ratio_AOM_Slow=200,l.vo_CN_Ratio_AOM_Fast=0,l.vo_PartAOM_Slow_to_SMB_Slow=.5,l.vo_PartAOM_Slow_to_SMB_Fast=.5,l.vo_NConcentration=0,o[p].vo_AOM_Pool[0]=l}return o},Fe=function(t,e,a,i){for(var o=t,n=a,_=i,c=(t.vs_NumberOfLayers(),t.vs_NumberOfOrganicLayers()),s=!1,l=0,u=new Float64Array(t.vs_NumberOfOrganicLayers()),f=new Float64Array(t.vs_NumberOfOrganicLayers()),d=0,v=new Float64Array(t.vs_NumberOfOrganicLayers()),m=new Float64Array(t.vs_NumberOfOrganicLayers()),S=0,y=new Float64Array(t.vs_NumberOfOrganicLayers()),h=new Float64Array(t.vs_NumberOfOrganicLayers()),M=0,A=new Float64Array(t.vs_NumberOfOrganicLayers()),N=0,D=0,w=0,P=0,R=new Float64Array(t.vs_NumberOfOrganicLayers()),F=0,T=0,H=new Float64Array(t.vs_NumberOfOrganicLayers()),I=new Float64Array(t.vs_NumberOfOrganicLayers()),b=new Float64Array(t.vs_NumberOfOrganicLayers()),x=new Float64Array(t.vs_NumberOfOrganicLayers()),L=new Float64Array(t.vs_NumberOfOrganicLayers()),B=0,E=new Float64Array(t.vs_NumberOfOrganicLayers()),G=0,U=0,k=0,V=0,Y=0,W=!1,q=null,K=_.userSoilOrganicParameters.po_SOM_SlowUtilizationEfficiency,z=_.userSoilOrganicParameters.po_PartSOM_to_SMB_Slow,j=_.userSoilOrganicParameters.po_SOM_FastUtilizationEfficiency,X=_.userSoilOrganicParameters.po_PartSOM_to_SMB_Fast,Z=_.userSoilOrganicParameters.po_SOM_SlowDecCoeffStandard,Q=_.userSoilOrganicParameters.po_SOM_FastDecCoeffStandard,te=_.userSoilOrganicParameters.po_PartSOM_Fast_to_SOM_Slow,ee=0;c>ee;ee++)x[ee]=o[ee].vs_SoilOrganicCarbon()*o[ee].vs_SoilBulkDensity(),A[ee]=.049*C(x[ee]*o[ee].vs_LayerThickness/1e3*1e4,1.139)/1e4*1e3/o[ee].vs_LayerThickness,x[ee]-=A[ee],o[ee].vs_SMB_Slow=K*z*x[ee],o[ee].vs_SMB_Fast=j*X*x[ee],o[ee].vs_SOM_Slow=x[ee]/(1+Z/(Q*te)),o[ee].vs_SOM_Fast=x[ee]-o[ee].vs_SOM_Slow,x[ee]-=o[ee].vs_SMB_Slow+o[ee].vs_SMB_Fast,o[ee].set_SoilOrganicCarbon((x[ee]+A[ee])/o[ee].vs_SoilBulkDensity()),o[ee].set_SoilOrganicMatter((x[ee]+A[ee])/J.PO_SOM_TO_C/o[ee].vs_SoilBulkDensity()),u[ee]=0;var ie=function(t,e,a){var i=q?q.netPrimaryProduction():0;if(ne(e+l),_e(),ce(s,t,a),se(),pe(),le(),ue(),w=Me(i,M),D=Oe(i,M),V+=T,k+=N,l=0,S=0,d=0,B=0,s=!1,q&&q.hasOwnProperty("senescencedTissue"))for(var r=q.senescencedTissue(),n=o.vs_NumberOfOrganicLayers(),_=0;n>_;_++){var c=o[_].vo_AOM_Pool[0],p=r[_];p.vo_CN_Ratio_AOM_Slow>0&&(c.vo_CN_Ratio_AOM_Slow=(c.vo_AOM_Slow+p.vo_AOM_Slow)/(1/c.vo_CN_Ratio_AOM_Slow*c.vo_AOM_Slow+1/p.vo_CN_Ratio_AOM_Slow*p.vo_AOM_Slow)),c.vo_AOM_Slow+=p.vo_AOM_Slow}},re=function(t,e,a){var i=e,n=a,c=t.vo_AOM_DryMatterContent,p=t.vo_AOM_NH4Content,l=t.vo_AOM_NO3Content,u=t.vo_AOM_CarbamidContent,f=t.vo_PartAOM_to_AOM_Slow,v=t.vo_PartAOM_to_AOM_Fast,g=t.vo_CN_Ratio_AOM_Slow,m=t.vo_CN_Ratio_AOM_Fast,y=_.userSoilOrganicParameters.po_AOM_FastMaxC_to_N;o.vs_NumberOfOrganicLayers()>0&&(o[0].vs_SoilCarbamid+=i*c*u/1e4/o[0].vs_LayerThickness);for(var h=0,M=0,O=o.vs_NumberOfOrganicLayers(),C=0;O>C;C++)if(0==C){var A=new ae;A.vo_DaysAfterApplication=0,A.vo_AOM_DryMatterContent=c,A.vo_AOM_NH4Content=p,A.vo_AOM_Slow=0,A.vo_AOM_Fast=0,A.vo_AOM_SlowDecCoeffStandard=t.vo_AOM_SlowDecCoeffStandard,A.vo_AOM_FastDecCoeffStandard=t.vo_AOM_FastDecCoeffStandard,A.vo_CN_Ratio_AOM_Slow=g,A.incorporation=W,h=i*c*J.PO_AOM_TO_C/1e4/o[0].vs_LayerThickness,1e-7>=m?(M=i*c*n/1e4/o[0].vs_LayerThickness,0>=n&&(M=.01),m=M>h*f/g?h*v/(M-h*f/g):y,m>y&&(m=y),A.vo_CN_Ratio_AOM_Fast=m):A.vo_CN_Ratio_AOM_Fast=t.vo_CN_Ratio_AOM_Fast,A.vo_PartAOM_Slow_to_SMB_Slow=t.vo_PartAOM_Slow_to_SMB_Slow,A.vo_PartAOM_Slow_to_SMB_Fast=t.vo_PartAOM_Slow_to_SMB_Fast,o[0].vo_AOM_Pool.push(A)}else{var A=new ae;A.vo_DaysAfterApplication=0,A.vo_AOM_DryMatterContent=0,A.vo_AOM_NH4Content=0,A.vo_AOM_Slow=0,A.vo_AOM_Fast=0,A.vo_AOM_SlowDecCoeffStandard=t.vo_AOM_SlowDecCoeffStandard,A.vo_AOM_FastDecCoeffStandard=t.vo_AOM_FastDecCoeffStandard,A.vo_CN_Ratio_AOM_Slow=g,A.vo_CN_Ratio_AOM_Fast=0===!o[0].vo_AOM_Pool.length?o[0].vo_AOM_Pool[o[0].vo_AOM_Pool.length-1].vo_CN_Ratio_AOM_Fast:m,A.vo_PartAOM_Slow_to_SMB_Slow=t.vo_PartAOM_Slow_to_SMB_Slow,A.vo_PartAOM_Slow_to_SMB_Fast=t.vo_PartAOM_Slow_to_SMB_Fast,A.incorporation=W,o[C].vo_AOM_Pool.push(A)}var N=f*h,D=v*h,w=p*i*c/1e4/o[0].vs_LayerThickness;$("vo_SoilNH4Input",w);var P=l*i*c/1e4/o[0].vs_LayerThickness,R=(1-(f+v))*h;if(o[0].vo_AOM_Pool[o[0].vo_AOM_Pool.length-1].vo_AOM_Slow+=N,o[0].vo_AOM_Pool[o[0].vo_AOM_Pool.length-1].vo_AOM_Fast+=D,$("soilColumn[0].vs_SoilNH4",o[0].vs_SoilNH4),o[0].vs_SoilNH4+=w,$("soilColumn[0].vs_SoilNH4",o[0].vs_SoilNH4),o[0].vs_SoilNO3+=P,o[0].vs_SOM_Fast+=R,r&&(o[0].vs_SoilNO3<0||o[0].vs_SoilNH4<0))throw new Error("N < 0");S+=N,d+=D,B+=R,s=!0},oe=function(t){l+=t},ne=function(){var t=(o.vs_NumberOfOrganicLayers(),[]),e=[],a=[],i=[],n=[],c=[],p=[],l=0,u=0,f=0,d=0,v=0,m=0,S=0,y=_.userSoilOrganicParameters.po_HydrolysisKM,h=_.userSoilOrganicParameters.po_HydrolysisP1,M=_.userSoilOrganicParameters.po_HydrolysisP2,O=_.userSoilOrganicParameters.po_ActivationEnergy;T=0;for(var A=0;A<o.vs_NumberOfOrganicLayers();A++)if(t[A]=o[A].vs_SoilCarbamid/J.PO_UREAMOLECULARWEIGHT/J.PO_UREA_TO_N/1e3,e[A]=-1258.9+13.2843*(o[A].get_Vs_SoilTemperature()+273.15)-.047381*(o[A].get_Vs_SoilTemperature()+273.15)*(o[A].get_Vs_SoilTemperature()+273.15)+577264e-10*C(o[A].get_Vs_SoilTemperature()+273.15,3),e[A]=e[A]/(1+.0453*e[A])*o[A].get_Vs_SoilMoisture_m3(),e[A]>=t[A]?(e[A]=t[A],t[A]=0):t[A]-=e[A],a[A]=(100*h*o[A].vs_SoilOrganicMatter()*J.PO_SOM_TO_C+M)/J.PO_UREAMOLECULARWEIGHT,i[A]=a[A]/g(-O/2577.34),n[A]=i[A]*g(-O/(8.314*(o[A].get_Vs_SoilTemperature()+273.15))),c[A]=g(-.064*(o[A].vs_SoilpH-6.5)*(o[A].vs_SoilpH-6.5)),p[A]=n[A]*ge(o[A].vs_SoilMoisture_pF())*c[A]*e[A]/(y+e[A]),p[A]=86400*p[A]*o[A].vs_SoilBulkDensity(),p[A]>=e[A]?(o[A].vs_SoilNH4+=o[A].vs_SoilCarbamid,o[A].vs_SoilCarbamid=0):(o[A].vs_SoilCarbamid-=p[A]*J.PO_UREAMOLECULARWEIGHT*J.PO_UREA_TO_N*1e3,o[A].vs_SoilNH4+=p[A]*J.PO_UREAMOLECULARWEIGHT*J.PO_UREA_TO_N*1e3),0==A&&(l=C(10,-o[0].vs_SoilpH),u=C(10,-2728.3/(o[0].get_Vs_SoilTemperature()+273.15)-.094219),f=C(10,1630.5/(o[0].get_Vs_SoilTemperature()+273.15)-2.301),d=o[0].vs_SoilNH4/(1e3*J.PO_NH4MOLECULARWEIGHT),v=d/(1+l/u),m=v,S=m*J.PO_NH3MOLECULARWEIGHT*1e3,S>=o[0].vs_SoilNH4?(S=o[0].vs_SoilNH4,o[0].vs_SoilNH4=0):o[0].vs_SoilNH4-=S,T=S*o[0].vs_LayerThickness,r&&o[0].vs_SoilNH4<0))throw new Error(o[0].vs_SoilNH4);e[0]<.001&&!s&&(W=!1)},_e=function(){for(var t=o.vs_NumberOfOrganicLayers(),e=_.userSoilOrganicParameters.po_SOM_SlowDecCoeffStandard,a=_.userSoilOrganicParameters.po_SOM_FastDecCoeffStandard,i=_.userSoilOrganicParameters.po_SMB_SlowDeathRateStandard,c=_.userSoilOrganicParameters.po_SMB_SlowMaintRateStandard,s=_.userSoilOrganicParameters.po_SMB_FastDeathRateStandard,l=_.userSoilOrganicParameters.po_SMB_FastMaintRateStandard,u=_.userSoilOrganicParameters.po_LimitClayEffect,f=_.userSoilOrganicParameters.po_SOM_SlowUtilizationEfficiency,d=_.userSoilOrganicParameters.po_SOM_FastUtilizationEfficiency,v=_.userSoilOrganicParameters.po_PartSOM_Fast_to_SOM_Slow,g=_.userSoilOrganicParameters.po_PartSMB_Slow_to_SOM_Fast,m=_.userSoilOrganicParameters.po_SMB_UtilizationEfficiency,S=_.userSoilOrganicParameters.po_CN_Ratio_SMB,y=_.userSoilOrganicParameters.po_AOM_SlowUtilizationEfficiency,O=_.userSoilOrganicParameters.po_AOM_FastUtilizationEfficiency,C=_.userSoilOrganicParameters.po_ImmobilisationRateCoeffNH4,A=_.userSoilOrganicParameters.po_ImmobilisationRateCoeffNO3,N=[],D=[],w=[],F=[],T=0,x=h.length;x>T;T++)h[T]=0;for(var B,G,k=[],V=[],Y=[],W=[],q=[],T=0,x=I.length;x>T;T++)I[T]=0;for(var K=[],z=[],J=[],j=[],T=0,x=b.length;x>T;T++)b[T]=0;for(var X=[],T=0,x=L.length;x>T;T++)L[T]=0;for(var Z=[],T=0,x=E.length;x>T;T++)E[T]=0;for(var Q,$,te=0;t>te;te++){var ee=de(o[te].get_Vs_SoilTemperature()),ae=ve(o[te].vs_SoilMoisture_pF());Z[te]=e*ee*ae,X[te]=a*ee*ae,j[te]=(i+c)*fe(o[te].vs_SoilClayContent,u)*ee*ae,q[te]=(s+l)*ee*ae,J[te]=i*ee*ae,W[te]=s*ee*ae,z[te]=J[te]*o[te].vs_SMB_Slow,Y[te]=W[te]*o[te].vs_SMB_Fast;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_SlowDecCoeff=Q.vo_AOM_SlowDecCoeffStandard*ee*ae,Q.vo_AOM_FastDecCoeff=Q.vo_AOM_FastDecCoeffStandard*ee*ae}for(var te=0;t>te;te++){for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_SlowDelta=-(Q.vo_AOM_SlowDecCoeff*Q.vo_AOM_Slow),-Q.vo_AOM_SlowDelta>Q.vo_AOM_Slow&&(Q.vo_AOM_SlowDelta=-Q.vo_AOM_Slow),Q.vo_AOM_FastDelta=-(Q.vo_AOM_FastDecCoeff*Q.vo_AOM_Fast),-Q.vo_AOM_FastDelta>Q.vo_AOM_Fast&&(Q.vo_AOM_FastDelta=-Q.vo_AOM_Fast);w[te]=0;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_SlowDecRate=Q.vo_AOM_SlowDecCoeff*Q.vo_AOM_Slow,w[te]+=Q.vo_AOM_SlowDecRate;b[te]=f*Z[te]*o[te].vs_SOM_Slow+d*(1-v)*X[te]*o[te].vs_SOM_Fast+y*w[te]-(j[te]*o[te].vs_SMB_Slow+z[te]),N[te]=0;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_FastDecRate=Q.vo_AOM_FastDecCoeff*Q.vo_AOM_Fast,N[te]+=Q.vo_AOM_FastDecRate;I[te]=m*(1-g)*(z[te]+Y[te])+O*N[te]-(q[te]*o[te].vs_SMB_Fast+Y[te]),E[te]=v*X[te]*o[te].vs_SOM_Fast-Z[te]*o[te].vs_SOM_Slow,L[te]=g*(z[te]+Y[te])-X[te]*o[te].vs_SOM_Fast,F[te]=0,D[te]=0;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],F[te]+=Q.vo_AOM_SlowDelta,D[te]+=Q.vo_AOM_FastDelta}M=0;for(var te=0;t>te;te++)K[te]=(1-f)*Z[te]*o[te].vs_SOM_Slow+(1-d)*(1-v)*X[te]*o[te].vs_SOM_Fast+(1-y)*w[te]+m*j[te]*o[te].vs_SMB_Slow,V[te]=(1-m)*(1-g)*(z[te]+Y[te])+(1-O)*N[te]+q[te]*o[te].vs_SMB_Fast,H[te]=K[te]+V[te],M+=H[te]*o[te].vs_LayerThickness;B=n.vs_Soil_CN_Ratio,G=n.vs_Soil_CN_Ratio;for(var te=0;t>te;te++){k[te]=-(b[te]/S)-I[te]/S-E[te]/B-L[te]/G,Q=o[te].vo_AOM_Pool;for(var ie=0,re=Q.length;re>ie;ie++)$=Q[ie],p($.vo_CN_Ratio_AOM_Fast)>=1e-7&&(k[te]-=$.vo_AOM_FastDelta/$.vo_CN_Ratio_AOM_Fast),p($.vo_CN_Ratio_AOM_Slow)>=1e-7&&(k[te]-=$.vo_AOM_SlowDelta/$.vo_CN_Ratio_AOM_Slow)}P=0;for(var te=0;t>te;te++){if(k[te]<0){if(p(k[te])>=o[te].vs_SoilNH4*C+o[te].vs_SoilNO3*A){F[te]=0,D[te]=0,Q=o[te].vo_AOM_Pool;for(var ie=0,re=Q.length;re>ie;ie++)$=Q[ie],$.vo_CN_Ratio_AOM_Slow>=S/y&&($.vo_AOM_SlowDelta=0),$.vo_CN_Ratio_AOM_Fast>=S/O&&($.vo_AOM_FastDelta=0),F[te]+=$.vo_AOM_SlowDelta,D[te]+=$.vo_AOM_FastDelta;B>=S/f&&(E[te]=0),G>=S/d&&(L[te]=0),b[te]=f*Z[te]*o[te].vs_SOM_Slow+d*(1-v)*X[te]*o[te].vs_SOM_Fast+y*-F[te]-(j[te]*o[te].vs_SMB_Slow+z[te]),I[te]=m*(1-g)*(z[te]+Y[te])+O*-D[te]-(q[te]*o[te].vs_SMB_Fast+Y[te]),k[te]=-(b[te]/S)-I[te]/S-E[te]/B-L[te]/G;for(var ie=0,re=Q.length;re>ie;ie++)$=Q[ie],p($.vo_CN_Ratio_AOM_Fast)>=1e-7&&(k[te]-=$.vo_AOM_FastDelta/$.vo_CN_Ratio_AOM_Fast),p($.vo_CN_Ratio_AOM_Slow)>=1e-7&&(k[te]-=$.vo_AOM_SlowDelta/$.vo_CN_Ratio_AOM_Slow);o[te].vs_SoilNH4+=p(k[te])}else if(p(k[te])>=o[te].vs_SoilNH4*C)o[te].vs_SoilNO3-=p(k[te])-o[te].vs_SoilNH4*C,o[te].vs_SoilNH4-=o[te].vs_SoilNH4*C;else if(o[te].vs_SoilNH4-=p(k[te]),r&&o[te].vs_SoilNH4<0)throw new Error(o[te].vs_SoilNH4)}else o[te].vs_SoilNH4+=p(k[te]);R[te]=p(k[te])*o[0].vs_LayerThickness,P+=p(k[te])*o[0].vs_LayerThickness,U+=p(k[te])*o[0].vs_LayerThickness}},ce=function(t,e,a){var i,n,_,c,s,p,l=0,u=0,f=0;i=o[0].vs_SoilMoisture_pF()>2.5?0:1;var d=o[0].vo_AOM_Pool;if(d.forEach(function(t,e){e>0&&(f+=t.vo_DaysAfterApplication)}),f>0||t?(l=0,d.forEach(function(t,r){r>0&&(n=0,_=0,c=0,s=0,p=0,n=1e3*t.vo_AOM_NH4Content*t.vo_AOM_DryMatterContent,_=.0495*C(1.102,i)*C(1.0223,e)*C(1.0417,a)*C(1.108,t.vo_AOM_DryMatterContent)*C(.828,n)*C(11.3,Number(t.incorporation)),c=1.038*C(1.102,i)*C(.96,e)*C(.95,a)*C(1.175,t.vo_AOM_DryMatterContent)*C(1.106,n)*C(1,Number(t.incorporation))*(18869.3*g(-o[0].vs_SoilpH/.63321)+.70165),s=_*(c/C(t.vo_DaysAfterApplication+c,2)),p=s*n*(t.vo_AOM_Slow+t.vo_AOM_Fast)/1e4/1e3,l+=p)}),u=o[0].vs_SoilNH4>l?l:o[0].vs_SoilNH4,o[0].vs_SoilNH4-=u/o[0].vs_LayerThickness,$(u,"vo_N_ActVolatilised"),$(o[0].vs_SoilNH4,"soilColumn[0].vs_SoilNH4"),o[0].vs_SoilNH4-=u,$(o[0].vs_SoilNH4,"soilColumn[0].vs_SoilNH4")):u=0,r&&o[0].vs_SoilNH4<0)throw new Error(o[0].vs_SoilNH4);F=u+T,d.forEach(function(e,a){a>0&&e.vo_DaysAfterApplication>0&&!t&&e.vo_DaysAfterApplication++})},se=function(){if(r&&o[0].vs_SoilNO3<0)throw new error(o[0].vs_SoilNO3);for(var t=o.vs_NumberOfOrganicLayers(),e=_.userSoilOrganicParameters.po_AmmoniaOxidationRateCoeffStandard,a=_.userSoilOrganicParameters.po_NitriteOxidationRateCoeffStandard,i=new Array(t),n=new Array(t),c=new Array(t),s=new Array(t),p=0;t>p;p++)i[p]=e*me(o[p].get_Vs_SoilTemperature())*Se(o[p].vs_SoilMoisture_pF()),c[p]=i[p]*o[p].vs_SoilNH4,n[p]=a*me(o[p].get_Vs_SoilTemperature())*Se(o[p].vs_SoilMoisture_pF())*he(o[p].vs_SoilNH4,o[p].vs_SoilpH),s[p]=n[p]*o[p].vs_SoilNH4;if(r&&o[0].vs_SoilNH4<0)throw new Error(o[0].vs_SoilNH4);if(r&&o[0].vs_SoilNO2<0)throw new Error(o[0].vs_SoilNO2);if(r&&o[0].vs_SoilNO3<0)throw new Error(o[0].vs_SoilNO3);for(var p=0;t>p;p++)o[p].vs_SoilNH4>c[p]?(o[p].vs_SoilNH4-=c[p],o[p].vs_SoilNO2+=c[p]):(o[p].vs_SoilNO2+=o[p].vs_SoilNH4,o[p].vs_SoilNH4=0),o[p].vs_SoilNO2>s[p]?(o[p].vs_SoilNO2-=s[p],o[p].vs_SoilNO3+=s[p]):(o[p].vs_SoilNO3+=o[p].vs_SoilNO2,o[p].vs_SoilNO2=0);if(r&&o[0].vs_SoilNH4<0)throw new Error(o[0].vs_SoilNH4);if(r&&o[0].vs_SoilNO2<0)throw new Error(o[0].vs_SoilNO2);if(r&&o[0].vs_SoilNO3<0)throw new Error(o[0].vs_SoilNO3)},pe=function(){var t=o.vs_NumberOfOrganicLayers(),e=new Array(t),a=_.userSoilOrganicParameters.po_SpecAnaerobDenitrification,i=_.userSoilOrganicParameters.po_TransportRateCoeff;Y=0;for(var n=0;t>n;n++)e[n]=a*H[n]*me(o[n].get_Vs_SoilTemperature()),u[n]=O(e[n]*ye(o[n].get_Vs_SoilMoisture_m3(),o[n].get_Saturation()),i*o[n].vs_SoilNO3);for(var n=0;t>n;n++)o[n].vs_SoilNO3>u[n]?o[n].vs_SoilNO3-=u[n]:(u[n]=o[n].vs_SoilNO3,o[n].vs_SoilNO3=0),Y+=u[n]*o[0].vs_LayerThickness;if(G+=Y,r&&0>Y)throw new Error(Y)},le=function(){var t=o.vs_NumberOfOrganicLayers(),e=new Array(t),a=_.userSoilOrganicParameters.po_N2OProductionRate;N=0;for(var i=0;t>i;i++)e[i]=o[i].vs_SoilNO2*me(o[i].get_Vs_SoilTemperature())*a*(1/(1+(C(10,o[i].vs_SoilpH)-J.PO_PKAHNO2))),N+=e[i]},ue=function(){for(var t=0;t<o.vs_NumberOfOrganicLayers();t++){var e=o[t].vo_AOM_Pool;m[t]=0,f[t]=0,y[t]=0,v[t]=0,e.forEach(function(e){e.vo_AOM_Slow+=e.vo_AOM_SlowDelta,e.vo_AOM_Fast+=e.vo_AOM_FastDelta,m[t]+=e.vo_AOM_SlowDelta,f[t]+=e.vo_AOM_FastDelta,y[t]+=e.vo_AOM_Slow,v[t]+=e.vo_AOM_Fast}),o[t].vs_SOM_Slow+=E[t],o[t].vs_SOM_Fast+=L[t],o[t].vs_SMB_Slow+=b[t],o[t].vs_SMB_Fast+=I[t],h[t]=0==t?S+d+m[t]+f[t]+b[t]+I[t]+E[t]+L[t]+B:m[t]+f[t]+b[t]+I[t]+E[t]+L[t],x[t]=o[t].vs_SoilOrganicCarbon()*o[t].vs_SoilBulkDensity()-A[t],x[t]+=h[t],o[t].set_SoilOrganicCarbon((x[t]+A[t])/o[t].vs_SoilBulkDensity()),o[t].set_SoilOrganicMatter((x[t]+A[t])/J.PO_SOM_TO_C/o[t].vs_SoilBulkDensity())}},fe=function(t,e){var a=0;if(t>=0&&e>=t)a=1-2*t;else{if(!(t>e&&1>=t))throw new Error("irregular clay content");a=1-2*e}return a},de=function(t){var e=0;if(0>=t&&t>-40)e=0;else if(t>0&&20>=t)e=.1*t;else{if(!(t>20&&70>=t))throw new Error("irregular soil temperature fo_TempOnDecompostion (d_SoilTemperature = "+t+")");e=g(.47-.027*t+.00193*t*t)}return e},ve=function(t){var e=0;if(p(t)<=1e-7)e=.6;else if(t>0&&1.5>=t)e=.6+.4*(t/1.5);
else if(t>1.5&&2.5>=t)e=1;else if(t>2.5&&6.5>=t)e=1-(t-2.5)/4;else{if(!(t>6.5))throw new Error("fo_MoistOnDecompostion ( d_SoilMoisture_pF ) : irregular soil water content");e=0}return e},ge=function(t){var e=0;if(t>0&&1.1>=t)e=.72;else if(t>1.1&&2.4>=t)e=.2207*t+.4672;else if(t>2.4&&3.4>=t)e=1;else if(t>3.4&&4.6>=t)e=-.8659*t+3.9849;else if(t>4.6)e=0;else{if(t!==-1/0)throw new Error("fo_MoistOnHydrolysis ( d_SoilMoisture_pF: "+t+" ) irregular soil water content");e=0}return e},me=function(t){var e=0;if(2>=t&&t>-40)e=0;else if(t>2&&6>=t)e=.15*(t-2);else if(t>6&&20>=t)e=.1*t;else{if(!(t>20&&70>=t))throw new Error("irregular soil temperature");e=g(.47-.027*t+.00193*t*t)}return e},Se=function(t){var e=0;if(p(t)<=1e-7)e=.6;else if(t>0&&1.5>=t)e=.6+.4*(t/1.5);else if(t>1.5&&2.5>=t)e=1;else if(t>2.5&&5>=t)e=1-(t-2.5)/2.5;else{if(!(t>5))throw new Error("irregular soil water content");e=0}return e},ye=function(t,e){var a=_.userSoilOrganicParameters.po_Denit1,i=_.userSoilOrganicParameters.po_Denit2,r=_.userSoilOrganicParameters.po_Denit3,o=0;if(.8>=t/e)o=0;else if(t/e>.8&&.9>=t/e)o=a*(t/e-i)/(r-i);else{if(!(t/e>.9&&1>=t/e))throw new Error("irregular soil water content");o=a+(1-a)*(t/e-r)/(1-r)}return o},he=function(t,e){var a=_.userSoilOrganicParameters.po_Inhibitor_NH3,i=0;return i=a+t*(1-1/(1+C(10,e-J.PO_PKANH3)))/a},Me=function(t,e){var a=0;return a=t-1e4*e},Oe=function(t,e){var a=0;return a=-t+1e4*e},Ce=function(t){return x[t]/o[t].vs_SoilBulkDensity()},Ae=function(t){return v[t]},Ne=function(t){return y[t]},De=function(t){return o[t].vs_SMB_Fast},we=function(t){return o[t].vs_SMB_Slow},Pe=function(t){return o[t].vs_SOM_Fast},Re=function(t){return o[t].vs_SOM_Slow},Fe=function(t){return h[t]},Te=function(t){return H[t]},He=function(t){return u[t]},Ie=function(t){return 1e4*R[t]},be=function(){return 1e4*P},xe=function(){return 1e4*U},Le=function(){return 1e4*G},Be=function(){return 1e4*Y},Ee=function(){return 1e4*F},Ge=function(){return 1e4*V},Ue=function(){return 1e4*N},ke=function(){return 1e4*k},Ve=function(){return 1e4*M},Ye=function(){return w},We=function(){return D},qe=function(t){q=t},Ke=function(){q=null};return{step:ie,addOrganicMatter:re,addIrrigationWater:oe,setIncorporation:function(t){W=t},put_Crop:qe,remove_Crop:Ke,get_SoilOrganicC:Ce,get_AOM_FastSum:Ae,get_AOM_SlowSum:Ne,get_SMB_Fast:De,get_SMB_Slow:we,get_SOM_Fast:Pe,get_SOM_Slow:Re,get_CBalance:Fe,get_SMB_CO2EvolutionRate:Te,get_ActDenitrificationRate:He,get_NetNMineralisationRate:Ie,get_NH3_Volatilised:Ee,get_SumNH3_Volatilised:Ge,get_N2O_Produced:Ue,get_SumN2O_Produced:ke,get_NetNMineralisation:be,get_SumNetNMineralisation:xe,get_SumDenitrification:Le,get_Denitrification:Be,get_DecomposerRespiration:Ve,get_NetEcosystemProduction:Ye,get_NetEcosystemExchange:We}},Te=function(t,e){for(var a=t,i=e,r=0,o=0,n=0,_=0,c=0,s=new Float64Array(t.vs_NumberOfLayers()+1),p=i.userEnvironmentParameters.p_timeStep,l=i.userSoilMoistureParameters.pm_HydraulicConductivityRedux,u=0,f=s.length;f>u;u++)s[u]=1;var d=function(t,e){var a=y(),i=v(),n=h(a),c=M(i,n),s=O(i,a),p=D(t,e);if(r=N(a,c,p),isNaN(r))throw r;o+=r,_=A(p,s,a),P()},v=function(){for(var t=a.vs_NumberOfLayers(),e=0,i=0;t>i;i++)e+=a[i].vs_SoilBulkDensity();return e/t/1e3},y=function(){for(var t=a.vs_NumberOfLayers(),e=0,i=0;t>i;i++)e+=a[i].get_FieldCapacity();return e/t},h=function(t){var e=13.05,a=1.06,i=100*(t+(1+e*C(t,a)*t));return i},M=function(t,e){var a=.001*(3*t-1.7)/(1+(11.5-5*t)*g(-50*C(e/t,1.5)))*86400*p*4.184/1e6*100;return a},O=function(t,e){var a=.001*(3*t-1.7)/(1+(11.5-5*t)*g(-50*C(100*e/t,1.5)))*p*4.184*100;return a},A=function(t,e,a){var i=0,o=0,n=0,c=0,s=0;return i=0>t?-1*t:t,o=0==r?0:w(2*e*i/(79e5*a/100)),n=0>t?-1*o:o,c=_+n,s=0>c?0:c},N=function(t,e,a){var i=0,o=1e5*t/100*.335;r>0&&c++;var _=.3*c/o;return 0>a&&(n-=a),i=.01>n?0:w(_/2*(_/2)+2*e*n/o)-_/2,isNaN(i)?0:i},D=function(t,e){var a=0;return a=.01>e/100?t:.01>r?t:t/(1+10*e/100/r)},P=function(){for(var t=a.vs_NumberOfLayers(),e=0;t>e;e++)if(e<S(m(r/a[e].vs_LayerThickness+.5))&&(a[e].vs_SoilFrozen=!0,s[e]=0,0==e&&(l=0)),e<S(m(_/a[e].vs_LayerThickness+.5))&&(_<(e+1)*a[e].vs_LayerThickness&&r>_?(a[e].vs_SoilFrozen=!0,s[e]=0,0==e&&(l=0)):(a[e].vs_SoilFrozen=!1,s[e]=1,0==e&&(l=.1))),_>=r){_=0,r=0,n=0,c=0,l=i.userSoilMoistureParameters.pm_HydraulicConductivityRedux;for(var e=0;t>e;e++)a[e].vs_SoilFrozen=!1,s[e]=1}},R=function(t){return s[t]};return{calcSoilFrost:d,getFrostDepth:function(){return r},getThawDepth:function(){return _},getLambdaRedux:R,getAccumulatedFrostDepth:function(){return o}}},He=function(t){var e=0,a=0,i=0,r=0,o=0,n=0,_=t,c=_.userSoilMoistureParameters,s=0,p=c.pm_SnowMeltTemperature,l=c.pm_SnowAccumulationTresholdTemperature,u=c.pm_TemperatureLimitForLiquidWater,f=c.pm_CorrectionRain,d=c.pm_CorrectionSnow,v=c.pm_RefreezeTemperature,g=c.pm_RefreezeParameter1,m=c.pm_RefreezeParameter2,S=c.pm_NewSnowDensityMin,y=c.pm_SnowMaxAdditionalDensity,h=c.pm_SnowPacking,M=c.pm_SnowRetentionCapacityMin,O=c.pm_SnowRetentionCapacityMax,A=function(t,o){var n=0,_=0,c=D(t,o,_,n);o=c.net_precipitation,n=c.net_precipitation_snow,_=c.net_precipitation_water;var p=N(t),l=w(t),u=P(t,n);e=R(n,u),i=i+n-p+l,r=r+_+p-l;var f=i+r,d=F(i,f),v=0;l>0?v=0:d>=r?v=0:(v=r-d,r-=v,f=i+r),H(f),s=T(o,v,a)},N=function(t){var a=1.4*(e/.1),r=0;return a>4.7&&(a=4.7),0>=i?r=0:p>t?r=0:(r=a*(t-p),r>i&&(r=i)),r},D=function(t,e,a,i){var r=0;return r=t>=l?1:u>=t?0:(t-u)/(l-u),a=r*f*e,i=(1-r)*d*e,e=i+a,{net_precipitation:e,net_precipitation_snow:i,net_precipitation_water:a}},w=function(t){var e=0,a=0;return a=t>0?0:t,v>a?(r>0&&(e=g*C(v-a,m)),e>r&&(e=r)):e=0,e},P=function(t,e){var a=0,i=0;return 0>=e?a=0:(i=(t-u)/(l-u),i>1&&(i=1),0>i&&(i=0),a=S+y*i),a},R=function(t,i){var r=0;return 0>=a+t?r=0:(r=((1+h)*e*a+i*t)/(a+t),r>S+y&&(r=S+y)),r},F=function(t,a){var i,r;return 0>=t||0>=e?i=0:(i=O/10/e,M>i&&(i=M),i>O&&(i=O)),r=i*a},T=function(t,e,a){var i=t;return a>=.01&&(s=e),i},H=function(t){var _=1;0>=t?a=0:(a=t*_/e,a>o&&(o=a),.01>a&&(a=0)),0==a&&(e=0,i=0,r=0),n+=a};return{calcSnowLayer:A,getVm_SnowDepth:function(){return a},getWaterToInfiltrate:function(){return s},getMaxSnowDepth:function(){return o},accumulatedSnowDepth:function(){return n}}},Ie=function(t,e,a,i){for(var r=t,o=e,_=a,c=i,s=t.vs_NumberOfLayers()+1,f=t.vs_NumberOfLayers(),d=0,h=new Float64Array(s),A=0,N=(new Float64Array(s),new Float64Array(s)),P=new Float64Array(s),F=new Float64Array(s),T=new Float64Array(s),H=new Float64Array(s),I=0,b=new Float64Array(s),x=0,L=0,B=(new Float64Array(s),0),E=0,G=.6,U=new Float64Array(s),k=e.vs_Latitude,V=new Float64Array(s),Y=0,W=0,q=new Float64Array(s),K=0,z=new Float64Array(s),J=6,j=(new Float64Array(s),new Float64Array(s)),Z=0,Q=new Float64Array(s),$=0,te=0,ee=0,ae=0,ie=new Float64Array(s),re=0,oe=new Float64Array(s),ne=0,_e=null,B=0,E=0,te=0,A=0,x=0,ce=0,se=0,pe=0;s>pe;pe++)j[pe]=.2,V[pe]=.01;X(n.INFO,"Constructor: SoilMoisture");for(var le=new He(c),ue=new Te(r,c),fe=c.userSoilMoistureParameters,de=c.userEnvironmentParameters,ve=fe.pm_HydraulicConductivityRedux,ge=(c.userEnvironmentParameters.p_timeStep,fe.pm_SurfaceRoughness),me=fe.pm_GroundwaterDischarge,Se=fe.pm_MaxPercolationRate,ye=de.p_LeachingDepth,he=de.p_LayerThickness,Me=S(m(.5+ye/he))-1,Oe=new Array(s),pe=0;s>pe;pe++)Oe[pe]=fe.pm_SaturatedHydraulicConductivity;var Ce=function(t,e,a,i,n,p,l,u,d,v){for(var g=0;f>g;g++)j[g]=r[g].get_Vs_SoilMoisture_m3(),oe[g]=0,H[g]=r[g].get_FieldCapacity(),Q[g]=r[g].get_Saturation(),q[g]=r[g].get_PermanentWiltingPoint(),V[g]=r[g].vs_LayerThickness,U[g]=r[g].vs_Lambda;j[s-1]=r[s-2].get_Vs_SoilMoisture_m3(),oe[s-1]=0,H[s-1]=r[s-2].get_FieldCapacity(),Q[s-1]=r[s-2].get_Saturation(),V[s-1]=r[s-2].vs_LayerThickness,U[s-1]=r[s-2].vs_Lambda,ae=r.vs_SurfaceWaterStorage;var m=!1,y=0,h=0,M=null;_.cropGrowth()?(M=_.cropGrowth(),m=!0,K=M.soilCoverage(),G=M.kcFactor(),y=M.height(),h=M.developmentalStage(),Y=h>0?M.netPrecipitation():e):(m=!1,G=c.userSoilMoistureParameters.pm_KcFactor,Y=e,K=0),L=f+2;for(var O=f-1,g=f-1;g>=0;g--)j[g]==Q[g]&&O==g&&(O--,L=g);L>S(t/r[0].vs_LayerThickness)&&f+2>L?L=S(t/r[0].vs_LayerThickness):L>=f+2&&(L=S(t/r[0].vs_LayerThickness)),r.vm_GroundwaterTable=L,le.calcSnowLayer(p,Y);var C=le.getWaterToInfiltrate();ue.calcSoilFrost(p,le.getVm_SnowDepth()),Ae(C,K,L),10>=t&&t>0?(Re(t),Fe()):(Ie(),be()),xe(K,G,o.vs_HeightNN,a,i,n,p,l,u,d,h,v,k),Pe();for(var g=0;f>g;g++)r[g].set_Vs_SoilMoisture_m3(j[g]),r[g].vs_SoilWaterFlux=oe[g],r[g].calc_vs_SoilMoisture_pF();r.vs_SurfaceWaterStorage=ae,r.vs_FluxAtLowerBoundary=I},Ae=function(t,e,a){var i,_,c,s,l;B=0,E=0,te=0,A=0,x=0,ce=0,s=0,l=0;var u=ae;if(ae+=t,Z=(Q[0]-j[0])/Q[0],c=Oe[0]*ve,c>0?(_=.2*c*Z*Z,B=O(ae,_),B=O(B,1e3*(Q[0]-j[0])*r[0].vs_LayerThickness),B=M(0,B)):B=0,B>0&&(ae-=B),ae>10*ge/(o.vs_Slope+.001)&&(i=.02+ge/4+e/15,o.vs_Slope<0||o.vs_Slope>1?X(n.WARN,"Slope value out ouf boundary"):0==o.vs_Slope?te=0:te+=o.vs_Slope>i?ae:o.vs_Slope*i/(i*i)*ae,ae-=te),j[0]+=B/1e3/V[0],oe[0]=B,j[0]>H[0]){if(b[0]=1e3*(j[0]-H[0])*V[0],l=U[0]*ue.getLambdaRedux(0),s=1+l*b[0],z[0]=b[0]*b[0]*l/s,z[0]>Se&&(z[0]=Se),b[0]=b[0]-z[0],b[0]=M(0,b[0]),j[0]=H[0]+b[0]/1e3/V[0],1>=a&&(z[0]=0),0==a&&(z[0]=0,j[0]>Q[0]))return te+=1e3*(j[0]-Q[0])*V[0],void(j[0]=Q[0])}else j[0]<=H[0]&&(z[0]=0,b[0]=0);p(u+t-(te+B+ae))>.01&&X(n.WARN,"water balance wrong!"),oe[1]=z[0],ee+=te},Ne=function(t){return r[t].get_Vs_SoilMoisture_m3()},De=function(t){return N[t]},we=function(t){return z[t]},Pe=function(){var t,e,a;if(t=_e?_e.rootingDepth():0,e=L-t,1>e&&(e=1),e*V[0]<=2.7){for(var i=0;f>i;i++)N[i]=H[i]-q[i],h[i]=j[i]-q[i],h[i]<0&&(h[i]=0),P[i]=.7*N[i];for(var o=.01,n=.01,_=O(L,f-1),i=_;i>=0;i--){var s=r[i].vs_SoilTexture;if(n=c.capillaryRiseRates.getRate(s,e),o>n&&(o=n),h[i]<P[i]){a=o,j[i]+=a;for(var p=_;p>=i;p--)oe[p]-=a;break}}}},Re=function(t){var e,a;x=0;for(var i=0;s-1>i;i++)L-1>i&&(j[i+1]+=z[i]/1e3/V[i],oe[i+1]=z[i],j[i+1]>H[i+1]?(b[i+1]=1e3*(j[i+1]-H[i+1])*V[i+1],a=U[i+1]*ue.getLambdaRedux(i+1),e=1+a*b[i+1],z[i+1]=b[i+1]*b[i+1]*a/e,b[i+1]=b[i+1]-z[i+1],b[i+1]<0&&(b[i+1]=0),j[i+1]=H[i+1]+b[i+1]/1e3/V[i+1],j[i+1]>Q[i+1]&&(b[i+1]=1e3*(j[i+1]-Q[i+1])*V[i+1],j[i+1]=Q[i+1],z[i+1]+=b[i+1])):(z[i+1]=0,b[i+1]=0)),i==L-1&&(L>=S(t/V[i])?(j[i+1]+=z[i]/1e3/V[i],z[i+1]=me,oe[i+1]=z[i]):(j[i+1]+=(z[i]-me)/1e3/V[i],z[i+1]=me,oe[i+1]=me),j[i+1]>=Q[i+1]&&(x=1e3*(j[i+1]-Q[i+1])*V[i+1],j[i+1]=Q[i+1],0>=x&&(x=0))),i>L-1&&(j[i+1]=Q[i+1],L>=S(t/V[i])?(z[i+1]=z[i],oe[i]=z[i+1]):(z[i+1]=me,oe[i]=me));I=oe[Me]},Fe=function(){var t;if(!(L>f)){t=L,t>s-2&&(t=s-2);for(var e=t;e>=0;e--)j[e]+=x/1e3/V[e+1],e==t?z[e]=me:(z[e]-=x,oe[e+1]=z[e]),j[e]>Q[e]?(x=1e3*(j[e]-Q[e])*V[e+1],j[e]=Q[e],L--,0==e&&0==L&&(ae+=x,x=0)):x=0}},Ie=function(){for(var t,e,a=0;s-1>a;a++)j[a+1]+=z[a]/1e3/V[a],j[a+1]>H[a+1]?(b[a+1]=1e3*(j[a+1]-H[a+1])*V[0],e=U[a+1]*ue.getLambdaRedux(a+1),t=1+e*b[a+1],z[a+1]=b[a+1]*b[a+1]*e/t,z[a+1]>Se&&(z[a+1]=Se),b[a+1]=b[a+1]-z[a+1],b[a+1]<0&&(b[a+1]=0),j[a+1]=H[a+1]+b[a+1]/1e3/V[a+1]):(z[a+1]=0,b[a+1]=0),oe[a+1]=z[a],x=z[a+1];I=Me>0&&s-1>Me?oe[Me]:oe[s-2]},be=function(){for(var t=s-1,e=s-1,a=0,i=0;s-1>i;i++)j[i]>Q[i]&&(t=i,e=i);if(0!=e)for(var i=t;i>=0;i--)j[i]+=a/1e3/V[i],i>0&&(oe[i-1]-=a),j[i]>Q[i]?(a=1e3*(j[i]-Q[i])*V[i],j[i]=Q[i],e--,0==i&&0==e&&(ae+=a,a=0)):a=0},xe=function(t,e,a,i,r,o,n,s,p,l,u,v,g){var m=0,S=0,y=0,h=0,M=0,O=0,C=0,A=0,N=0,D=!1,w=_.cropGrowth(),P=le.getVm_SnowDepth(),R=c.userSoilMoistureParameters;if(h=R.pm_EvaporationZeta,ne=R.pm_XSACriticalSoilMoisture,M=R.pm_MaximumEvaporationImpactDepth,u>0?(J=w.referenceEvapotranspiration(),C=w.remainingEvapotranspiration(),A=w.evaporatedFromIntercept()):(J=Le(a,i,r,o,n,s,p,l,v,g),C=J*e),se=0,ce=0,C>6.5&&(C=6.5),C>0&&(ae>0&&(D=!0,C*=1.1/e,P>0?N=0:C>ae?(C-=ae,N=ae,ae=0):(ae-=C,N=C,C=0),C*=e/1.1),C>0))for(var H=0;f>H;H++)m=Be(H,t,C),S=H>=M?0:Ee(H+1,M,h,V[H]),y=H>0&&j[H]<j[H-1]?.1:1,O=m*S*y,u>0?(t>=0&&1>t?F[H]=(1-t)*O*C:t>=1&&(F[H]=0),P>0&&(F[H]=0),ie[H]=w.transpiration(H),D&&(ie[H]=t*O*C)):(F[H]=P>0?0:C*O,ie[H]=0),T[H]=F[H]+ie[H],j[H]-=T[H]/1e3/V[H],j[H]<.01&&(j[H]=.01),ce+=ie[H],se+=F[H];d=ce+se+A+N,_e&&_e.accumulateEvapotranspiration(d)},Le=function(t,e,a,i,r,o,n,_,s,p){var f,d,m,S,h,M,O,A,N,P,F,T,H,I,b,x,L,B,E,G,U,k,V=c.userCropParameters.pc_ReferenceAlbedo,Y=3.141592653589793;f=-23.4*v(2*Y*((s+10)/365)),d=D(f*Y/180)*D(p*Y/180),m=v(f*Y/180)*v(p*Y/180),S=12*(Y+2*u(d/m))/Y,h=12*(Y+2*u((-D(8*Y/180)+d)/m))/Y,M=12*(Y+2*u((-D(-6*Y/180)+d)/m))/Y,O=3600*(d*S+24/Y*m*w(1-d/m*(d/m))),A=650*O*g(-.14/(O/(3600*S))),N=.2*A;var q=1440/Y*8.2*(1+.033*v(2*Y*s/365)),K=l(-R(p*Y/180)*R(f*Y/180));U=q*(K*d+m*D(K))/100,P=101.3*C((293-.0065*t)/293,5.26),F=665e-6*P,T=.6108*g(17.27*e/(237.3+e)),H=.6108*g(17.27*a/(237.3+a)),I=(T+H)/2,b=0>=i?H:i*I,x=I-b,L=2503.0584*g(17.27*r/(r+237.3))/((r+237.3)*(r+237.3)),B=o*(4.87/y(67.8*n-5.42)),E=208/B,$=100,G=$/1.44;var z=(.75+2e-5*t)*U,J=_/z;J>1&&(J=1);var j=4.9e-9,X=(1-V)*_,Z=j*((C(a+273.16,4)+C(e+273.16,4))/2)*(1.35*J-.35)*(.34-.14*w(b));return W=X-Z,k=(.408*L*W+F*(900/(r+273))*B*x)/(L+F*(1+G/208*B)),0>k&&(k=0),k},Be=function(t,e,a){var i,o,n,_,c,s=1,p=r[t].get_Vs_SoilMoisture_m3(),l=r[t].get_PermanentWiltingPoint(),u=r[t].get_FieldCapacity();return.33*l>p&&(p=.33*l),o=(p-.33*l)/(u-.33*l),o>1&&(o=1),0==s?(n=.65*u,e>0&&(a>2.5?(_=(.65*u-l)*(u-l),c=_+(1-_)/17.5*(a-2.5)):c=ne/2.5*a,n=r[t].get_FieldCapacity()*c),i=p>n?1:p>.33*l?o:0):1==s&&(i=0,i=o>.33?1-.1*(1-o)/(1-.33):o>.22?.9-.625*(.33-o)/(.33-.22):o>.2?.275-.225*(.22-o)/(.22-.2):.05-.05*(.2-o)/.2),i},Ee=function(t,e,a,i){var r,o=e/(10*i);if(p(a)<3e-4)return r=2/o-1/(o*o)*(2*t-1);var n=0,_=0;return n=y((o+a*t)/(o+a*(t-1))),_=a/(o*(a+1)),r=(n-_)/(y(a+1)-a/(a+1))},Ge=function(t){if(1===arguments.length){for(var e=0,a=0,i=0,o=0;f>o;o++){i++;var n=r[o].get_Vs_SoilMoisture_m3(),_=r[o].get_FieldCapacity(),c=r[o].get_PermanentWiltingPoint();if(a+=n/(_-c),e+=r[o].vs_LayerThickness,e>=t)break}return a/i}var s=arguments[0],p=arguments[1],a=0,i=0;if(s+p>f)return-1;for(var o=s;s+p>o;o++){i++;var n=r[o].get_Vs_SoilMoisture_m3(),_=r[o].get_FieldCapacity(),c=r[o].get_PermanentWiltingPoint();a+=n/(_-c)}return a/i},Ue=function(){return le.getVm_SnowDepth()},ke=function(){return le.getMaxSnowDepth()},Ve=function(){return le.accumulatedSnowDepth()},Ye=function(){return ue.getAccumulatedFrostDepth()},We=function(t){_e=t},qe=function(){_e=null},Ke=function(){return B},ze=function(){return ae},Je=function(){return te},je=function(){return d},Xe=function(){return se},Ze=function(){return J},Qe=function(){return K},$e=function(){return $},ta=function(){return ue.getFrostDepth()},ea=function(){return ue.getThawDepth()},aa=function(){return I},ia=function(){return ee},ra=function(){return G},oa=function(){return re};return{step:Ce,get_SnowDepth:Ue,get_SoilMoisture:Ne,get_CapillaryRise:De,get_PercolationRate:we,get_Infiltration:Ke,get_SurfaceWaterStorage:ze,get_SurfaceRunOff:Je,get_Evapotranspiration:je,get_ActualEvaporation:Xe,get_ET0:Ze,get_PercentageSoilCoverage:Qe,get_StomataResistance:$e,get_FrostDepth:ta,get_ThawDepth:ea,get_GroundwaterRecharge:aa,get_SumSurfaceRunOff:ia,get_KcFactor:ra,get_TranspirationDeficit:oa,getMaxSnowDepth:ke,accumulatedSnowDepth:Ve,getAccumulatedFrostDepth:Ye,get_EReducer_1:Be,put_Crop:We,remove_Crop:qe,fm_Infiltration:Ae,get_DeprivationFactor:Ee,fm_CapillaryRise:Pe,fm_PercolationWithGroundwater:Re,fm_GroundwaterReplenishment:Fe,fm_PercolationWithoutGroundwater:Ie,fm_BackwaterReplenishment:be,fm_Evapotranspiration:xe,ReferenceEvapotranspiration:Le,meanWaterContent:Ge}},be=function(t,e,a){for(var i=t,r=a,o=t.vs_NumberOfLayers(),n=new Float64Array(o),_=new Float64Array(o),c=new Float64Array(o),s=new Float64Array(o),l=new Float64Array(o),u=new Float64Array(o),f=0,d=e.vq_NDeposition,v=new Float64Array(o),m=new Float64Array(o),S=new Float64Array(o),y=new Float64Array(o),h=new Float64Array(o),M=1,O=(new Float64Array(o),new Float64Array(o)),C=null,A=0;o>A;A++)s[A]=1,u[A]=.1,S[A]=.2;var N=r.userEnvironmentParameters.p_LeachingDepth,M=r.userEnvironmentParameters.p_timeStep,D=function(){for(var t=1,e=0;o>e;e++)l[e]=i[e].get_FieldCapacity(),S[e]=i[e].get_Vs_SoilMoisture_m3(),y[e]=i[e].vs_SoilNO3,u[e]=i[0].vs_LayerThickness,v[e]=C?C.nitrogenUptake(e):0,O[e]=e==o-1?i.vs_FluxAtLowerBoundary:i[e+1].vs_SoilWaterFlux,O[e]<=5&&t>=1?t=1:O[e]>5&&O[e]<=10&&t>=1?t=.5:O[e]>10&&O[e]<=15&&t>=.5?t=.25:O[e]>15&&t>=.25&&(t=.125);w(d),P();for(var a=0;1/t>a;a++)R(N,t);for(var e=0;o>e;e++)y[e]=h[e]*S[e],y[e]<0&&(y[e]=0),i[e].vs_SoilNO3=y[e]},w=function(t){var e=t/365;y[0]+=e/(1e4*i[0].vs_LayerThickness)},P=function(){for(var t=0,e=r.userCropParameters.pc_MinimumAvailableN,a=0;o>a;a++)v[a]>y[a]*u[a]-e&&(v[a]=y[a]*u[a]-e),v[a]<0&&(v[a]=0),t+=v[a],y[a]-=v[a]/u[a],h[a]=y[a]/S[a],h[a]<0;i.vq_CropNUptake=t},R=function(t,e){var a=r.userSoilTransportParameters,d=a.pq_DiffusionCoefficientStandard,v=a.pq_AD,y=a.pq_DispersionLength,C=0,A=0;f=0;for(var N=new Array(o),D=0;o>D;D++)C+=u[D],t>C-.001&&(A=D);for(var D=0;o>D;D++){var w=i[0].vs_SoilWaterFlux,P=i[D].vs_LayerThickness,R=h[D];if(0==D){var F=O[D]/1e3*e,T=h[D+1];F>=0&&w>=0?n[D]=R*F/P:F>=0&&0>w?n[D]=R*F/P:0>F&&0>w?n[D]=T*F/P:0>F&&w>=0&&(n[D]=T*F/P)}else if(o-1>D){var H=O[D-1]/1e3*e,F=O[D]/1e3*e,T=h[D+1];if(F>=0&&H>=0){var I=h[D-1];n[D]=(R*F-I*H)/P}else if(F>=0&&0>H)n[D]=(R*F-R*H)/P;else if(0>F&&0>H)n[D]=(T*F-R*H)/P;else if(0>F&&H>=0){var I=h[D-1];n[D]=(T*F-I*H)/P}}else{var H=O[D-1]/1e3*e,F=i.vs_FluxAtLowerBoundary/1e3*e;if(F>=0&&H>=0){var I=h[D-1];n[D]=(R*F-I*H)/P}else if(F>=0&&0>H)n[D]=(R*F-R*H)/P;else if(0>F&&0>H)n[D]=-(R*H)/P;else if(0>F&&H>=0){var I=h[D-1];n[D]=-(I*H)/P}}}for(var D=0;o>D;D++){var F=O[D]/1e3*e,b=i[0].vs_SoilWaterFlux/1e3*e,P=i[D].vs_LayerThickness,R=h[D];if(D==o-1?(m[D]=p(F/l[D]),N[D]=S[D]):(m[D]=p(F/(.5*(l[D]+l[D+1]))),N[D]=.5*(S[D]+S[D+1])),_[D]=d*(v*g(2*N[D]*5)/N[D])*e,0==D)s[D]=N[D]*(_[D]+y*m[D])-.5*P*p(F)+.5*M*e*p((F+b)/2)*m[D];else{var H=O[D-1]/1e3*e;s[D]=N[D]*(_[D]+y*m[D])-.5*P*p(F)+.5*M*e*p((F+H)/2)*m[D]}if(0==D){var T=h[D+1];c[D]=-s[D]*(R-T)/(P*P)}else if(o-1>D){var I=h[D-1],T=h[D+1];c[D]=s[D-1]*(I-R)/(P*P)-s[D]*(R-T)/(P*P)}else{var I=h[D-1];c[D]=s[D-1]*(I-R)/(P*P)}}for(var D=0;o>D;D++)h[D]+=(c[D]-n[D])/S[D];if(O[A]>0){var P=i[A].vs_LayerThickness,R=h[A];if(o-1>A){var x=O[A+1]/1e3*e,T=h[A+1];f+=x*R/P*1e4*P+s[A]*(R-T)/(P*P)*1e4*P}else{var x=i.vs_FluxAtLowerBoundary/1e3*e;f+=x*R/P*1e4*P}}else{var x=O[A]/1e3*e,P=i[A].vs_LayerThickness,R=h[A];if(o-1>A){var T=h[A+1];f+=x*T/(1e4*P*P)+s[A]*(R-T)/(P*P*1e4*P)}}},F=function(t){return y[t]},T=function(){return f},H=function(t){C=t},I=function(){C=null};return{step:D,fq_NDeposition:w,fq_NUptake:P,fq_NTransport:R,put_Crop:H,remove_Crop:I,get_SoilNO3:F,get_NLeaching:T}},xe=function(t,e,a){for(var i=e,r=a,o=new Pe,_=new Pe,c={sc:t,gl:o,bl:_,vs_nols:t.vs_NumberOfLayers(),at:function(t){return t<this.vs_nols?this[t]:t<this.vs_nols+1?this.gl:this.bl}},s=0;s<t.vs_NumberOfLayers();s++)c[s]=t[s];c[t.vs_NumberOfLayers()]=c.gl,c[t.vs_NumberOfLayers()+1]=c.bl;for(var p=t.vs_NumberOfLayers()+2,l=t.vs_NumberOfLayers(),u=new Array(p),f=new Array(p),d=new Array(p),v=new Array(p),m=new Array(p),S=new Array(p),y=new Array(p),h=new Array(p+1),M=new Array(p),O=new Array(p),A=new Array(p),N=.8,D=0,s=0;p>s;s++)u[s]=0,f[s]=0,d[s]=0,v[s]=0,m[s]=0,S[s]=0,y[s]=0,h[s]=0,M[s]=0,O[s]=0,A[s]=0;y[s+1]=0,X(n.INFO,"Constructor: SoilTemperature");for(var w=a.userSoilTemperatureParameters,P=w.pt_BaseTemperature,R=w.pt_InitialSurfaceTemperature,F=w.pt_NTau,T=r.userEnvironmentParameters.p_timeStep,H=w.pt_QuartzRawDensity,I=w.pt_SpecificHeatCapacityWater,b=w.pt_SpecificHeatCapacityQuartz,x=w.pt_SpecificHeatCapacityAir,L=w.pt_SpecificHeatCapacityHumus,B=w.pt_DensityWater,E=w.pt_DensityAir,G=w.pt_DensityHumus,U=w.pt_SoilMoisture,k=0;l>k;k++)f[k]=(1-k/l)*R+k/l*P,u[k]=U;d[0]=c[0].vs_LayerThickness,S[0]=2/c[0].vs_LayerThickness;var V=p-2,Y=p-1;c[V].vs_LayerThickness=2*c[V-1].vs_LayerThickness,c[Y].vs_LayerThickness=1,f[V]=.5*(f[V-1]+P),f[Y]=P;for(var W=c[0].vs_LayerThickness,k=1;p>k;k++){var q=c[k].vs_LayerThickness;S[k]=2/(q+W),d[k]=q*F,W=q}for(var k=0;l>k;k++){var K=c.at(k).vs_SoilBulkDensity(),z=u[k];M[k]=.001*(3*(K/1e3)-1.7)/(1+(11.5-5*(K/1e3))*g(-50*C(z/(K/1e3),1.5)))*86400*T*100*4.184;var J=I,j=b,Z=x,Q=L,$=B,te=H,ee=E,ae=G,ie=c[k].get_Saturation(),re=c.at(k).vs_SoilOrganicMatter()/ee*K;A[k]=z*$*J+(ie-z)*ee*Z+re*ae*Q+(1-ie-re)*te*j}A[V]=A[V-1],A[Y]=A[V],M[V]=M[V-1],M[Y]=M[V];var oe=R;O[0]=M[0];for(var k=1;p>k;k++){var ne=c.at(k-1).vs_LayerThickness,_e=c.at(k).vs_LayerThickness,ce=M[k-1],se=M[k];O[k]=(ne*ce+_e*se)/(_e+ne)}for(var k=0;p>k;k++)v[k]=d[k]*A[k],m[k]=v[k],h[k]=-S[k]*O[k];h[Y+1]=0;for(var k=0;p>k;k++)y[k]=v[k]-h[k]-h[k+1];var pe=function(t,e,a){for(var i=p-2,r=p-1,o=new Array(p),n=new Array(p),_=new Array(p),s=0;p>s;s++)o[s]=0,n[s]=0,_[s]=0;D=le(t,e,a)*S[0]*O[0],o[0]=(m[0]+(v[0]-m[0])/c[0].vs_LayerThickness)*f[0]+D;for(var u=1;p>u;u++)o[u]=(m[u]+(v[u]-m[u])/c[u].vs_LayerThickness)*f[u];n[0]=y[0];for(var u=1;p>u;u++)_[u]=h[u]/n[u-1],n[u]=y[u]-_[u]*h[u];for(var u=1;p>u;u++)o[u]=o[u]-_[u]*o[u-1];o[r]=o[r]/n[r];for(var u=0;r>u;u++){var d=r-1-u,g=d+1;o[d]=o[d]/n[d]-_[g]*o[g]}for(var u=0;p>u;u++)f[u]=o[u];for(var u=0;l>u;u++)m[u]=v[u],c[u].set_Vs_SoilTemperature(f[u]);m[i]=v[i],m[r]=v[r]},le=function(t,e,a){var r=N,o=0;i.cropGrowth()&&(o=i.cropGrowth().soilCoverage()),r=.1+(o*N+(1-o)*(1-N));var n=oe;return 8.33>a&&(a=8.33),oe=(1-r)*(t+(e-t)*C(.03*a,.5))+r*n,0>oe&&(oe=.5*oe),oe},ue=function(){return oe},fe=function(t){return c[t].get_Vs_SoilTemperature()},de=function(t){return M[t]},ve=function(t){0===arguments.length&&(t=.3);for(var e=0,a=0,i=0,r=0;l>r&&(i++,a+=c[r].get_Vs_SoilTemperature(),e+=c[r].vs_LayerThickness,!(e>=t));r++);return 1>i?0:a/i};return{step:pe,f_SoilSurfaceTemperature:le,get_SoilSurfaceTemperature:ue,get_SoilTemperature:fe,get_HeatConductivity:de,get_AvgTopSoilTemperature:ve,getDampingFactor:function(){return N},setDampingFactor:function(t){N=t}}},Le=function(t,e,a,_){function c(t,e,a){return t.hasOwnProperty(e)&&null!=t[e]?t[e]:a}function s(t,e,a,i){var r=!0,o=e.length,_=0;X(n.INFO,"Fetching "+o+" horizons.");for(var s=0;o>s;++s){var p=e[s],l=100*p.thickness,u=S(A(l/a));s==o-1&&S(t.length)+u<i&&(u+=i-t.length-u);for(var f=0;u>f;f++){if(_===i*a){X(n.WARN,"Maximum soil layer depth ("+i*a+" cm) reached. Remaining layers in horizon "+s+" ignored.");break}_+=a;var d=new oe;if(d.set_vs_SoilOrganicMatter(p.organicMatter),d.vs_SoilSandContent=p.sand,d.vs_SoilClayContent=p.clay,d.vs_SoilStoneContent=p.sceleton,d.vs_SoilpH=p.pH,d.vs_SoilTexture=te.texture2KA5(p.sand,p.clay),d.vs_Lambda=te.texture2lambda(d.vs_SoilSandContent,d.vs_SoilClayContent),d.vs_SoilpH=c(p,"pH",6.9),p.hasOwnProperty("poreVolume")&&null!=p.poreVolume&&p.hasOwnProperty("fieldCapacity")&&null!=p.fieldCapacity&&p.hasOwnProperty("permanentWiltingPoint")&&null!=p.permanentWiltingPoint&&p.hasOwnProperty("bulkDensity")&&null!=p.bulkDensity)d.set_vs_SoilBulkDensity(p.bulkDensity),d.vs_FieldCapacity=p.fieldCapacity,d.vs_Saturation=p.poreVolume-p.fieldCapacity,d.vs_PermanentWiltingPoint=p.permanentWiltingPoint;else{var v=te.saxton(p.sand,p.clay,p.organicMatter,p.sceleton).saxton_86;d.set_vs_SoilBulkDensity(N(2,v.BD)),d.vs_FieldCapacity=N(2,v.FC),d.vs_Saturation=N(2,v.SAT),d.vs_PermanentWiltingPoint=N(2,v.PWP)}d.isValid()||(r=!1,X(n.ERROR,"Error in soil parameters.")),t.push(d),X(n.INFO,"Fetched layer "+t.length+" in horizon "+s+".")}X(n.INFO,"Fetched horizon "+s+".")}return r}function p(t,e,a){var i=!0,r=e.crops,o=r.length,_="grassland"===e.model;X(n.INFO,"Fetching "+o+" crops.");for(var s=0;o>s;s++){var p=r[s];if(_){var d=new Date(a.toISOString());d.setDate(d.getDate()+2);var v=c(p,"sowingDate",d),g=c(p,"harvestDates",[])}else{var v=new Date(Date.parse(p.sowingDate)),m=new Date(Date.parse(p.finalHarvestDate));v.isValid()&&m.isValid()||(i=!1,X(n.ERROR,"Invalid sowing or harvest date in "+p.name))}if(_){var S=new Ce(v,g,p.species);t[s]=new ye("grassland",S)}else{var y=new Me(p.species[0].name);y.setSeedAndHarvestDate(v,m),t[s]=new ye(p.name,y)}var h=p.tillageOperations;h&&(l(t[s],h)||(i=!1,X(n.ERROR,"Error adding tillages.")));var M=p.mineralFertilisers;M&&(u(t[s],M,!1)||(i=!1,X(n.ERROR,"Error adding mineral fertilisers.")));var O=p.organicFertilisers;O&&(u(t[s],O,!0)||(i=!1,X(n.ERROR,"Error adding organic fertilisers.")));var C=p.irrigations;C&&(f(t[s],C)||(i=!1,X(n.ERROR,"Error adding irrigations.")));var A=p.cuttings;A&&(addCuttings(t[s],A)||(i=!1,X(n.ERROR,"Error adding cuttings."))),X(n.INFO,"Fetched crop "+s+": "+p.name)}return i}function l(t,e){var a=!0,i=e.length;X(n.INFO,"Fetching "+i+" tillages.");for(var r=0;i>r;++r){var o=e[r];if(null!==o.date&&null!==o.depth&&null!==o.method){{var _=new Date(Date.parse(o.date)),c=o.depth/100;o.method}_.isValid()||(a=!1,X(n.ERROR,"Invalid tillage date in tillage no. "+r+".")),t.addApplication(new me(_,c)),X(n.INFO,"Fetched tillage "+r+".")}else X(n.WARN,"At least one tillage parameter null: tillage "+r+" ignored.")}return a}function u(t,e,a){var i=!0,r=e.length;X(n.INFO,"Fetching "+r+" "+(a?"organic":"mineral")+" fertilisers.");for(var o=0;r>o;++o){var _=e[o];if(null!==_.date&&null!==_.method&&null!==_.amount){var c=new Date(Date.parse(_.date)),s=(_.method,_.name),p=_.amount,l=_.carbamid,u=_.no3,f=_.nh4,d=_.dm;c.isValid()||(i=!1,X(n.ERROR,"Invalid fertilization date in "+o+".")),t.addApplication(a?new ge(c,new pe(s,l,u,f,d),p,!0):new ve(c,new se(s,l,u,f),p)),X(n.INFO,"Fetched "+(a?"organic":"mineral")+" fertiliser "+o+".")}else X(n.WARN,"At least one fertiliser parameter null: "+(a?"organic":"mineral")+" fertiliser "+o+"ignored.")}return i}function f(t,e){var a=!0,i=e.length;X(n.INFO,"Fetching "+i+" irrigations.");for(var r=0;i>r;++r){var o=e[r];if(null!==o.date&&null!==o.method&&null!==o.eventType&&null!==o.threshold&&null!==o.amount&&null!==o.NConc){var _=(o.method,o.eventType,o.threshold,o.area,o.amount),c=o.NConc,s=new Date(Date.parse(o.date));s.isValid()||(a=!1,X(n.ERROR,"Invalid irrigation date in "+r+".")),t.addApplication(new Se(s,_,new ee(c,0))),X(n.INFO,"Fetched irrigation "+r+".")}else X(n.WARN,"At least one irrigation parameter null: irrigation "+r+" ignored.")}return a}function d(t,e){var a=!0,i=[];i[j.TMIN]=new Float64Array(e.tmin),i[j.TMAX]=new Float64Array(e.tmax),i[j.TAVG]=new Float64Array(e.tavg),i[j.GLOBRAD]=new Float64Array(e.globrad),i[j.WIND]=new Float64Array(e.wind),i[j.PRECIP]=new Float64Array(e.precip),i[j.DAYLENGTH]=new Float64Array(e.daylength),i[j.F_DIRECTRAD]=new Float64Array(e.f_directrad),i[j.EXRAD]=new Float64Array(e.exrad),i[j.SUNHOURS]=new Float64Array(e.sunhours),i[j.RELHUMID]=new Float64Array(e.relhumid),i[j.DOY]=e.doy,i[j.ISODATESTRING]=e.date;var r=i[j.TMIN].length;for(var o in j)i[j[o]].length!=r&&(a=!1);return a&&t.setData(i),a}function v(t,e,a,r){var o=[];if(!r)for(var _=0;m>_;_++)o.push({date:{value:e,unit:"[date]"}});i?postMessage({progress:o}):console.log(JSON.stringify(o,null,2)),r&&X(n.INFO,"done")}r=e===!0?!0:!1,o=a===!0?!0:!1,"function"==typeof _?_=[_]:Array.isArray(_)&&0!==_.length||(_=[v]);var g=null,m=0,y=function(e,a){var i=new Date(e.time.startDate),r=new Date(e.time.endDate),o=new he(i,r);if(!d(o,t,Date.parse(e.time.startDate),Date.parse(e.time.endDate)))return void X(n.ERROR,"Error fetching weather data.");X(n.INFO,"Fetched weather data."),g=new De(o),Array.isArray(a)||(a=[a]),m=a.length;for(var l=0,u=a.length;u>l;l++){X(n.INFO,"Fetching parameter for site + "+l);{var f=a[l].site,v=a[l].production,y=new ne,h=new re,M=new ie;i.getFullYear(),r.getFullYear()}y.userInitValues.p_initPercentageFC=c(e.init,"percentageFC",y.userInitValues.p_initPercentageFC),y.userInitValues.p_initSoilNitrate=c(e.init,"soilNitrate",y.userInitValues.p_initSoilNitrate),y.userInitValues.p_initSoilAmmonium=c(e.init,"soilAmmonium",y.userInitValues.p_initSoilAmmonium),y.userEnvironmentParameters.p_UseSecondaryYields=c(e.switches,"useSecondaryYieldOn",y.userEnvironmentParameters.p_UseSecondaryYields),M.pc_NitrogenResponseOn=c(e.switches,"nitrogenResponseOn",M.pc_NitrogenResponseOn),M.pc_WaterDeficitResponseOn=c(e.switches,"waterDeficitResponseOn",M.pc_WaterDeficitResponseOn),M.pc_WaterDeficitResponseOn=c(e.switches,"lowTemperatureStressResponseOn",M.pc_LowTemperatureStressResponseOn),M.pc_WaterDeficitResponseOn=c(e.switches,"highTemperatureStressResponseOn",M.pc_HighTemperatureStressResponseOn),M.pc_EmergenceMoistureControlOn=c(e.switches,"emergenceMoistureControlOn",M.pc_EmergenceMoistureControlOn),M.pc_EmergenceFloodingControlOn=c(e.switches,"emergenceFloodingControlOn",M.pc_EmergenceFloodingControlOn),X(n.INFO,"Fetched simulation data."),h.vs_Latitude=f.latitude,h.vs_Slope=f.slope,h.vs_HeightNN=f.heightNN,h.vq_NDeposition=c(f,"NDeposition",h.vq_NDeposition),y.userEnvironmentParameters.p_AthmosphericCO2=c(f,"atmosphericCO2",y.userEnvironmentParameters.p_AthmosphericCO2),y.userEnvironmentParameters.p_MinGroundwaterDepth=c(f,"groundwaterDepthMin",y.userEnvironmentParameters.p_MinGroundwaterDepth),y.userEnvironmentParameters.p_MaxGroundwaterDepth=c(f,"groundwaterDepthMax",y.userEnvironmentParameters.p_MaxGroundwaterDepth),y.userEnvironmentParameters.p_MinGroundwaterDepthMonth=c(f,"groundwaterDepthMinMonth",y.userEnvironmentParameters.p_MinGroundwaterDepthMonth),y.userEnvironmentParameters.p_WindSpeedHeight=c(f,"windSpeedHeight",y.userEnvironmentParameters.p_WindSpeedHeight),y.userEnvironmentParameters.p_LeachingDepth=c(f,"leachingDepth",y.userEnvironmentParameters.p_LeachingDepth),X(n.INFO,"Fetched site data.");var O=100*y.userEnvironmentParameters.p_LayerThickness,C=200,A=S(C/O),N=[];if(!s(N,f.horizons,O,A))return void X(n.ERROR,"Error fetching soil data.");X(n.INFO,"Fetched soil data.");var D=[];if(!p(D,v,i))return void X(n.ERROR,"Error fetching crop data.");X(n.INFO,"Fetched crop data.");var w=new Ne(N,y);w.general=M,w.site=h,w.cropRotation=D,g.push(new we(w))}return X(n.INFO,"Start model run."),g.run(_)};return{run:y}};if(a){var Be=require("fs");exports.Configuration=Le,exports.config=e}else if(i){crop.Configuration=Le,crop.config=e;var Be=null;onmessage=function(t){if(t.data.hasOwnProperty("run")){var e=t.data.run,a=new Le(null,e.weather,e.debug,callbacks);postMessage(a.run(e.sim,e.siteAndProd))}else postMessage(null)}}else{crop.Configuration=Le,crop.config=e;var Be=null}}();