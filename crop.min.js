var crop=crop||{};!function(){var t={simulation:{time:{startDate:"1991-01-01",endDate:"1992-12-31"},switches:{useSecondaryYieldOn:!1,nitrogenResponseOn:!0,waterDeficitResponseOn:!0},init:{percentageFC:1}},site:{latitude:52.2,slope:0,heightNN:1,horizons:[{thickness:.2,organicMatter:.05,sand:.6,clay:.05,sceleton:.02},{thickness:.5,organicMatter:.05,sand:.6,clay:.05,sceleton:.02},{thickness:2,organicMatter:.05,sand:.6,clay:.05,sceleton:.02}]},production:{crops:[{name:"winter rye",sowingDate:"1991-10-01",plantDryWeight:225,percNTRansplant:.07,finalHarvestDate:"1992-08-01",residuesRemoval:.85,tillageOperations:[{date:"1991-09-01",method:"Plough",depth:30}],irrigations:[{date:"1992-06-01",method:"Sprinkler",eventType:"Fixed",threshold:.2,area:1,amount:5,NConc:0}],organicFertilisers:[{name:"cattle slurry",date:"1992-05-01",method:"Fixed",amount:30}],mineralFertilisers:[{name:"Ammonium Nitrate",date:"1992-04-01",method:"Fixed",amount:40}]}]}},e="object"==typeof process&&"function"==typeof require,a=("object"==typeof window,"function"==typeof importScripts),i=!1,r=!0,o={INFO:0,WARN:1,ERROR:2,DEBUG:3},_=0,n=1,c=2,s=Math.abs,p=Math.acos,l=Math.asin,u=Math.atan,f=Math.ceil,d=Math.cos,v=Math.exp,g=Math.floor,m=function(t){return 0|t},S=Math.log,y=function(t){return Math.log(t)/Math.LN10},h=Math.max,M=Math.min,O=Math.pow,C=Math.round,A=function(t,e){return parseFloat(e.toFixed(t))},N=Math.sin,D=Math.sqrt,w=function(t){return t.reduce(function(t,e){return t+e})},P=Math.tan,R=Math.PI,F=864e5,T=3600,H=1e4,I=5e5/.218,b=.85,x=.95,L=.55,B=.44,E=.4,G=.44,U=.42,k=.53,V=.67,Y=.6*B+.2*E+.2*V,W=.7*G+.3*U,q=k,K=.16,z={PO_UREAMOLECULARWEIGHT:.06006,PO_UREA_TO_N:.46667,PO_NH3MOLECULARWEIGHT:.01401,PO_NH4MOLECULARWEIGHT:.01401,PO_H2OIONCONCENTRATION:1,PO_PKAHNO2:3.29,PO_PKANH3:6.5,PO_SOM_TO_C:.57,PO_AOM_TO_C:.45},j={TMIN:0,TMAX:1,TAVG:2,GLOBRAD:3,WIND:4,PRECIP:5,SUNHOURS:6,RELHUMID:7,DAYLENGTH:8,F_DIRECTRAD:9,ISODATESTRING:10,DOY:11,EXRAD:12};Date.prototype.isValid=function(){return"Invalid Date"!==this.toDateString()},Date.prototype.isLeapYear=function(){return 366===f((new Date(this.getFullYear()+1,0,1)-new Date(this.getFullYear(),0,1))/F)};var J=function(t,e){if(a){if(t!==o.INFO||r)switch("object"==typeof e&&(e=JSON.stringify(e,null,2)),t){case o.INFO:postMessage({info:e});break;case o.WARN:postMessage({warn:e});break;case o.ERROR:postMessage({error:e});break;case o.DEBUG:postMessage({debug:e});break;default:postMessage({msg:e})}}else if(t!==o.INFO||r)switch("object"==typeof e&&(e=JSON.stringify(e,null,2)),t){case o.INFO:console.log("info: "+e);break;case o.WARN:console.log("warn: "+e);break;case o.ERROR:console.log("error: "+e);break;case o.DEBUG:console.log("debug: "+e);break;default:console.log(e)}},X=function(t,e){if(i)for(var a=Array.prototype.slice.call(t),e=e||"",r=function(t){return t instanceof Function?!1:"object"==typeof t?null===t||void 0===t:"string"==typeof t||"boolean"===t?null===t||void 0===t:isNaN(t)||null===t||void 0===t||1/0===t},_=function(t){J(o.DEBUG,e+" args: "+JSON.stringify(t,null,2))},n=0,c=a.length;c>n;n++){var s=a[n];if(s&&"object"==typeof s){if(Array.isArray(s))s.forEach(function(t){if(t&&"object"==typeof t){if(Z(t)){for(var e=0,a=s.length;a>e;e++)if(r(s[e]))throw _(s),new Error(s)}else if(Array.isArray(t))t.forEach(function(e){if(r(e))throw _(t),new Error(e)});else for(var i in t)if(t.hasOwnProperty(i)&&r(t[i]))throw _(t),new Error(i)}else if(r(t))throw _(s),new Error(t)});else if(Z(s)){for(var n=0,c=s.length;c>n;n++)if(r(s[n]))throw _(s),new Error(s)}else for(var p in s)if(s.hasOwnProperty(p)&&r(s[p]))throw _(s),new Error(s)}else if(r(s))throw _(a),new Error(s)}},Z=function(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float64Array||t instanceof Float64Array},Q=function(){return i?"object"!=typeof arguments[0]||void 0==arguments[0].length||Array.isArray(arguments[0])||Z(arguments[0])?void(2===arguments.length?("string"==typeof arguments[1]&&J(o.DEBUG,arguments[1]+" = "+("object"==typeof arguments[0]?JSON.stringify(arguments[0],null,1):arguments[0])),"string"==typeof arguments[0]&&J(o.DEBUG,arguments[0]+" = "+("object"==typeof arguments[1]?JSON.stringify(arguments[1],null,1):arguments[1]))):"string"==typeof arguments[0]?J(o.DEBUG,arguments[0]):J(o.DEBUG,arguments[0])):X(arguments[0],arguments[1]):void 0},$={texture2KA5:function(t,e){t=100*t,e=100*e;var a="",i=100-(t+e);if(t+e+i!=100)throw new Error("(sand + clay + silt) != 100: "+(t+e+i));return a=5>=e?10>=i?"Ss":25>=i?"Su2":40>=i?"Su3":50>=i?"Su4":80>=i?"Us":"Uu":8>=e?10>=i?"St2":25>=i?"Sl2":40>=i?"Su3":50>=i?"Su4":80>=i?"Us":"Uu":12>=e?10>=i?"St2":40>=i?"Sl3":50>=i?"Slu":65>=i?"Uls":"Ut2":17>=e?10>=i?"St2":40>=i?"Sl4":50>=i?"Slu":65>=i?"Uls":"Ut3":25>=e?15>=i?"St3":30>=i?"Ls4":40>=i?"Ls3":50>=i?"Ls2":65>=i?"Lu":"Ut4":30>=e?15>=i?"Ts4":30>=i?"Lts":50>=i?"Lt2":65>=i?"Lu":"Tu4":35>=e?15>=i?"Ts4":30>=i?"Lts":50>=i?"Lt2":65>=i?"Tu3":"Tu4":45>=e?15>=i?"Ts3":30>=i?"Lts":50>=i?"Lt3":"Tu3":65>=e?15>=i?"Ts2":30>=i?"Tl":"Tu2":"Tt"},KA52sand:function(t){var e=0;return e="fS"==t?.84:"fSms"==t?.86:"fSgs"==t?.88:"gS"==t?.93:"mSgs"==t?.96:"mSfs"==t?.93:"mS"==t?.96:"Ss"==t?.93:"Sl2"==t?.76:"Sl3"==t?.65:"Sl4"==t?.6:"Slu"==t?.43:"St2"==t?.84:"St3"==t?.71:"Su2"==t?.8:"Su3"==t?.63:"Su4"==t?.56:"Ls2"==t?.34:"Ls3"==t?.44:"Ls4"==t?.56:"Lt2"==t?.3:"Lt3"==t?.2:"LtS"==t?.42:"Lu"==t?.19:"Uu"==t?.1:"Uls"==t?.3:"Us"==t?.31:"Ut2"==t?.13:"Ut3"==t?.11:"Ut4"==t?.09:"Utl"==t?.19:"Tt"==t?.17:"Tl"==t?.17:"Tu2"==t?.12:"Tu3"==t?.1:"Ts3"==t?.52:"Ts2"==t?.37:"Ts4"==t?.62:"Tu4"==t?.05:"L"==t?.35:"S"==t?.93:"U"==t?.1:"T"==t?.17:"HZ1"==t?.3:"HZ2"==t?.3:"HZ3"==t?.3:"Hh"==t?.15:"Hn"==t?.15:.66},KA52clay:function(t){var e=0;return"fS"==t?e=.02:"fSms"==t?e=.02:"fSgs"==t?e=.02:"gS"==t?e=.02:"mSgs"==t?e=.02:"mSfs"==t?e=.02:"mS"==t?e=.02:"Ss"==t?e=.02:"Sl2"==t?e=.06:"Sl3"==t?e=.1:"Sl4"==t?e=.14:"Slu"==t?e=.12:"St2"==t?e=.11:"St3"==t?e=.21:"Su2"==t?e=.02:"Su3"==t?e=.04:"Su4"==t?e=.04:"Ls2"==t?e=.21:"Ls3"==t?e=.21:"Ls4"==t?e=.21:"Lt2"==t?e=.3:"Lt3"==t?e=.4:"Lts"==t?e=.35:"Lu"==t?e=.23:"Uu"==t?e=.04:"Uls"==t?e=.12:"Us"==t?e=.04:"Ut2"==t?e=.1:"Ut3"==t?e=.14:"Ut4"==t?e=.21:"Utl"==t?e=.23:"Tt"==t?e=.82:"Tl"==t?e=.55:"Tu2"==t?e=.55:"Tu3"==t?e=.37:"Ts3"==t?e=.4:"Ts2"==t?e=.55:"Ts4"==t?e=.3:"Tu4"==t?e=.3:"L"==t?e=.31:"S"==t?e=.02:"U"==t?e=.04:"T"==t?e=.82:"HZ1"==t?e=.15:"HZ2"==t?e=.15:"HZ3"==t?e=.15:"Hh"==t?e=.1:"Hn"==t&&(e=.1),e},ld_eff2trd:function(t,e){var a=0;switch(t){case 1:a=1.3;break;case 2:a=1.5;break;case 3:a=1.7;break;case 4:a=1.9;break;case 5:a=2.1;break;default:a=1.7}return a-.9*e},saxton:function(t,e,a,i){function r(t,e){var a=(S(1500)-S(33))/(S(t)-S(e));return 1/a}function o(t,e,a){return t+e-.097*a+.043}function _(t,e,a){var i=-.251*t+.195*e+.011*a+.006*t*a-.027*e*a+.452*t*e+.299;return i+(1.283*O(i,2)-.374*i-.015)}function n(t,e,a){var i=.278*t+.034*e+.022*a-.018*t*a-.027*e*a- -.584*t*e+.078;return i+(.636*i-.107)}function c(t,e,a){var i=-.024*t+.487*e+.006*a+.005*t*a-.013*e*a+.068*t*e+.031;return i+(.14*i-.02)}var s=_(t,e,0),p=n(t,e,0),l=o(s,p,t),u=c(t,e,0),f=2.65*(1-l),d=100*t,g=100*e,m=O(d,2),h=O(g,2),M=v(-4.396-.0715*g-488e-6*m-4285e-8*m*g),C=-3.14-.00222*h-3484e-8*m*g,A=.332-7251e-7*d+.1276*y(g),N=O(.3333/M,1/C),D=O(15/M,1/C),w=2.65*(1-A);return{saxton_06:{FC:s*(1-i),theta_S33:p,PWP:u*(1-i),S:l*(1-i),BD:1e3*f,lambda:r(s,u)},saxton_86:{FC:N*(1-i),SAT:A*(1-i),PWP:D*(1-i),BD:1e3*w}}},texture2lambda:function(t,e){return 2*t*t*.575+.1*e+.35*(1-t-e)},soilCharacteristicsKA5:function(t){J(o.INFO,"Read soil characteristics from KA5");var e=t.vs_SoilTexture,a=t.vs_SoilStoneContent,i=0,r=0,_=0;if(""!=e){var n=t.vs_SoilRawDensity()/1e3,c=100*t.vs_SoilOrganicMatter(),s=0,p=0;1.1>n?(s=1.1,p=1.1):n>=1.1&&1.3>n?(s=1.1,p=1.3):n>=1.3&&1.5>n?(s=1.3,p=1.5):n>=1.5&&1.7>n?(s=1.5,p=1.7):n>=1.7&&1.9>n?(s=1.7,p=1.9):n>=1.9&&(s=1.9,p=1.9),("Hh"==e||"Hn"==e)&&(s=-1,p=-1);var l=Tools.readPrincipalSoilCharacteristicData(e,s),u=l.sat,f=l.fc,d=l.pwp,v=Tools.readPrincipalSoilCharacteristicData(e,p),g=v.sat,m=v.fc,S=v.pwp;if(l.initialized&&v.initialized){var y=0,h=0;c>=0&&1>c?(y=0,h=0):c>=1&&1.5>c?(y=0,h=1.5):c>=1.5&&3>c?(y=1.5,h=3):c>=3&&6>c?(y=3,h=6):c>=6&&11.5>c?(y=6,h=11.5):c>=11.5&&(y=11.5,h=11.5),("Hh"==e||"Hn"==e)&&(y=0,h=0);var M=0,O=0,C=0;if(0!=y){var l=Tools.readSoilCharacteristicModifier(e,y);O=l.sat,M=l.fc,C=l.pwp}var A=0,N=0,D=0;if(0!=h){var v=Tools.readSoilCharacteristicModifier(e,h);N=v.sat,A=v.fc,D=v.pwp}var w=f;.5>m&&f>=1?w=f:.5>f&&m>=1?w=m:p!=s&&(w=(n-s)/(p-s)*(m-f)+f);var P=u;.5>g&&u>=1?P=u:.5>u&&g>=1?P=g:p!=s&&(P=(n-s)/(p-s)*(g-u)+u);var R=d;.5>S&&d>=1?R=d:.5>d&&S>=1?R=S:p!=s&&(R=(n-s)/(p-s)*(S-d)+d);var F=M,T=O,H=C;h!=y&&(F=(c-y)/(h-y)*(A-M)+M,T=(c-y)/(h-y)*(N-O)+O,H=(c-y)/(h-y)*(D-C)+C),i=(w+F)/100,r=(P+T)/100,_=(R+H)/100,i*=1-a,r*=1-a,_*=1-a}}t.vs_FieldCapacity=i,t.vs_Saturation=r,t.vs_PermanentWiltingPoint=_},readPrincipalSoilCharacteristicData:function(t,e){for(var a=function(t){this.sat=0,this.fc=0,this.pwp=0,this.initialized=void 0===t?!1:t},i=(_e.columns,_e.rows),r={},o=0,_=i.length;_>o;o++){var n=i[o];if(n.soil_type===t){var c=n.air_capacity,s=n.field_capacity,p=n.n_field_capacity,l=new a(!0);l.sat=c+s,l.fc=s,l.pwp=s-p,void 0===r[t]&&(r[t]={}),r[t][m(n["soil_raw_density*10"])]=l}}var u=m(10*e);if(r[t][u])return r[t][u];for(;!r[t][u]&&u>=11&&19>=u;)u+=15>u?1:-1;return r[t][u]?r[t][u]:new a},readSoilCharacteristicModifier:function(t,e){for(var a=function(t){this.sat=0,this.fc=0,this.pwp=0,this.initialized=void 0===t?!1:t},i=(ne.columns,ne.rows),r={},o=0,_=i.length;_>o;o++){var n=i[o];if(n.soil_type===t){var c=n.air_capacity,s=n.field_capacity,p=n.n_field_capacity,l=new a(!0);l.sat=c+s,l.fc=s,l.pwp=s-p,void 0===r[t]&&(r[t]={}),r[t][m(n.organic_matter)]=l}}var u=m(10*e);return r[t][u]?r[t][u]:new a},sunshine2globalRadiation:function(t,e,a,i){var r=4*u(1),o=-23.4*d(2*r*(t+10)/365),_=N(o*r/180)*N(a*r/180),n=d(o*r/180)*d(a*r/180),c=12*(r+2*l(_/n))/r,s=12*(r+2*l((-N(8*r/180)+_)/n))/r,p=3600*(_*c+24/r*n*D(1-_/n*(_/n))),f=1300*p*v(-.14/(p/(3600*c))),g=.2*f,m=e/s*f+(1-e/s)*g,S=m/1e4;return i?S/100:S}},te=function(t,e){this.nitrateConcentration=t||0,this.sulfateConcentration=e||0},ee=function(){this.vo_AOM_Slow=0,this.vo_AOM_Fast=0,this.vo_AOM_SlowDecRate=0,this.vo_AOM_FastDecRate=0,this.vo_AOM_SlowDecCoeff=0,this.vo_AOM_FastDecCoeff=0,this.vo_AOM_SlowDecCoeffStandard=1,this.vo_AOM_FastDecCoeffStandard=1,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=0,this.vo_CN_Ratio_AOM_Slow=1,this.vo_CN_Ratio_AOM_Fast=1,this.vo_DaysAfterApplication=0,this.vo_AOM_DryMatterContent=0,this.vo_AOM_NH4Content=0,this.vo_AOM_SlowDelta=0,this.vo_AOM_FastDelta=0,incorporation=!1},ae=function(){this._ps_LayerThickness=.1,this.ps_ProfileDepth=2,this.ps_LayerThickness=new Float64Array(20),this.ps_MaxMineralisationDepth=.4,this.pc_NitrogenResponseOn=!0,this.pc_WaterDeficitResponseOn=!0,this.pc_LowTemperatureStressResponseOn=!1,this.pc_HighTemperatureStressResponseOn=!0,this.pc_EmergenceFloodingControlOn=!1,this.pc_EmergenceMoistureControlOn=!1;for(var t=0;t<this.ps_LayerThickness.length;t++)this.ps_LayerThickness[t]=this._ps_LayerThickness;this.ps_NumberOfLayers=function(){return 20}},ie=function(){this.vs_Latitude=60,this.vs_Slope=.01,this.vs_HeightNN=50,this.vs_GroundwaterDepth=70,this.vs_Soil_CN_Ratio=10,this.vs_DrainageCoeff=1,this.vq_NDeposition=30,this.vs_MaxEffectiveRootingDepth=2},re=function(){this.vs_SoilSandContent=.4,this.vs_SoilClayContent=.05,this.vs_SoilpH=6.9,this.vs_SoilStoneContent=-1,this.vs_Lambda=-1,this.vs_FieldCapacity=-1,this.vs_Saturation=-1,this.vs_PermanentWiltingPoint=-1,this.vs_SoilTexture="",this.vs_SoilAmmonium=-1,this.vs_SoilNitrate=-1,this._vs_SoilRawDensity=-1,this._vs_SoilBulkDensity=-1,this._vs_SoilOrganicCarbon=-1,this._vs_SoilOrganicMatter=-1,this.isValid=function(){var t=!0;return this.vs_FieldCapacity<=0&&(J(o.WARN,"SoilParameters::Error: No field capacity defined in database for "+this.vs_SoilTexture+" , RawDensity: "+this._vs_SoilRawDensity),t=!1),this.vs_Saturation<=0&&(J(o.WARN,"SoilParameters::Error: No saturation defined in database for "+this.vs_SoilTexture+" , RawDensity: "+this._vs_SoilRawDensity),t=!1),this.vs_PermanentWiltingPoint<=0&&(J(o.WARN,"SoilParameters::Error: No saturation defined in database for "+this.vs_SoilTexture+" , RawDensity: "+this._vs_SoilRawDensity),t=!1),this.vs_SoilSandContent<0&&(J(o.WARN,"SoilParameters::Error: Invalid soil sand content: "+this.vs_SoilSandContent),t=!1),this.vs_SoilClayContent<0&&(J(o.WARN,"SoilParameters::Error: Invalid soil clay content: "+this.vs_SoilClayContent),t=!1),this.vs_SoilpH<0&&(J(o.WARN,"SoilParameters::Error: Invalid soil ph value: "+this.vs_SoilpH),t=!1),this.vs_SoilStoneContent<0&&(J(o.WARN,"SoilParameters::Error: Invalid soil stone content: "+this.vs_SoilStoneContent),t=!1),this.vs_Saturation<0&&(J(o.WARN,"SoilParameters::Error: Invalid value for saturation: "+this.vs_Saturation),t=!1),this.vs_PermanentWiltingPoint<0&&(J(o.WARN,"SoilParameters::Error: Invalid value for permanent wilting point: "+this.vs_PermanentWiltingPoint),t=!1),t},this.vs_SoilRawDensity=function(){return 1e3*this._vs_SoilRawDensity},this.set_vs_SoilRawDensity=function(t){this._vs_SoilRawDensity=t},this.vs_SoilOrganicCarbon=function(){return this._vs_SoilOrganicMatter<0?this._vs_SoilOrganicCarbon:this._vs_SoilOrganicMatter*z.PO_SOM_TO_C},this.set_vs_SoilOrganicCarbon=function(t){this._vs_SoilOrganicCarbon=t},this.vs_SoilOrganicMatter=function(){return this._vs_SoilOrganicCarbon<0?this._vs_SoilOrganicMatter:this._vs_SoilOrganicCarbon/z.PO_SOM_TO_C},this.set_vs_SoilOrganicMatter=function(t){this._vs_SoilOrganicMatter=t},this.vs_SoilSiltContent=function(){return this.vs_SoilSandContent-.001<0&&this.vs_SoilClayContent-.001<0?0:1-this.vs_SoilSandContent-this.s_SoilClayContent},this.vs_SoilBulkDensity=function(){return this._vs_SoilRawDensity<0?this._vs_SoilBulkDensity:1e3*(this._vs_SoilRawDensity+.009*100*this.vs_SoilClayContent)},this.set_vs_SoilBulkDensity=function(t){this._vs_SoilBulkDensity=t},this.texture2lambda=function(t,e){return $.texture2lambda(t,e)}},oe=function(){this.userCropParameters={pc_Tortuosity:.002,pc_CanopyReflectionCoefficient:.08,pc_ReferenceMaxAssimilationRate:30,pc_ReferenceLeafAreaIndex:1.44,pc_MaintenanceRespirationParameter2:44,pc_MaintenanceRespirationParameter1:.08,pc_MinimumNConcentrationRoot:.005,pc_MinimumAvailableN:75e-6,pc_ReferenceAlbedo:.23,pc_StomataConductanceAlpha:40,pc_SaturationBeta:2.5,pc_GrowthRespirationRedux:.7,pc_MaxCropNDemand:6,pc_GrowthRespirationParameter2:38,pc_GrowthRespirationParameter1:.1},this.userEnvironmentParameters={p_MaxGroundwaterDepth:18,p_MinGroundwaterDepth:20,p_UseAutomaticIrrigation:!1,p_UseNMinMineralFertilisingMethod:!1,p_LayerThickness:.1,p_NumberOfLayers:20,p_StartPVIndex:0,p_Albedo:.23,p_AthmosphericCO2:380,p_WindSpeedHeight:2,p_UseSecondaryYields:!0,p_JulianDayAutomaticFertilising:74,p_timeStep:1,p_LeachingDepth:1.6,p_MinGroundwaterDepthMonth:3},this.userSoilMoistureParameters={pm_CriticalMoistureDepth:.3,pm_SaturatedHydraulicConductivity:8640,pm_SurfaceRoughness:.02,pm_HydraulicConductivityRedux:.1,pm_SnowAccumulationTresholdTemperature:1.8,pm_KcFactor:.75,pm_TemperatureLimitForLiquidWater:-3,pm_CorrectionSnow:1.14,pm_CorrectionRain:1,pm_SnowMaxAdditionalDensity:.25,pm_NewSnowDensityMin:.1,pm_SnowRetentionCapacityMin:.05,pm_RefreezeParameter2:.36,pm_RefreezeParameter1:1.5,pm_RefreezeTemperature:-1.7,pm_SnowMeltTemperature:.31,pm_SnowPacking:.01,pm_SnowRetentionCapacityMax:.17,pm_EvaporationZeta:40,pm_XSACriticalSoilMoisture:.1,pm_MaximumEvaporationImpactDepth:5,pm_MaxPercolationRate:10,pm_GroundwaterDischarge:3},this.userSoilTemperatureParameters={pt_SoilMoisture:.25,pt_NTau:.65,pt_InitialSurfaceTemperature:10,pt_BaseTemperature:9.5,pt_QuartzRawDensity:2650,pt_DensityAir:1.25,pt_DensityWater:1e3,pt_SpecificHeatCapacityAir:1005,pt_SpecificHeatCapacityQuartz:750,pt_SpecificHeatCapacityWater:4192,pt_SoilAlbedo:.7,pt_DensityHumus:1300,pt_SpecificHeatCapacityHumus:1920},this.userSoilTransportParameters={pq_DispersionLength:.049,pq_AD:.002,pq_DiffusionCoefficientStandard:214e-6},this.userSoilOrganicParameters={po_SOM_SlowDecCoeffStandard:43e-6,po_SOM_FastDecCoeffStandard:14e-5,po_SMB_SlowMaintRateStandard:.001,po_SMB_FastMaintRateStandard:.01,po_SMB_SlowDeathRateStandard:.001,po_SMB_FastDeathRateStandard:.01,po_SMB_UtilizationEfficiency:0,po_SOM_SlowUtilizationEfficiency:.4,po_SOM_FastUtilizationEfficiency:.5,po_AOM_SlowUtilizationEfficiency:.4,po_AOM_FastUtilizationEfficiency:.1,po_AOM_FastMaxC_to_N:1e3,po_PartSOM_Fast_to_SOM_Slow:.3,po_PartSMB_Slow_to_SOM_Fast:.6,po_PartSMB_Fast_to_SOM_Fast:.6,po_PartSOM_to_SMB_Slow:.015,po_PartSOM_to_SMB_Fast:2e-4,po_CN_Ratio_SMB:6.7,po_LimitClayEffect:.25,po_AmmoniaOxidationRateCoeffStandard:.1,po_NitriteOxidationRateCoeffStandard:.2,po_TransportRateCoeff:.1,po_SpecAnaerobDenitrification:.1,po_ImmobilisationRateCoeffNO3:.5,po_ImmobilisationRateCoeffNH4:.5,po_Denit1:.2,po_Denit2:.8,po_Denit3:.9,po_HydrolysisKM:.00334,po_ActivationEnergy:41e3,po_HydrolysisP1:4.259e-12,po_HydrolysisP2:1.408e-12,po_AtmosphericResistance:.0025,po_N2OProductionRate:.015,po_Inhibitor_NH3:1},this.capillaryRiseRates={map:{Su3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.005,7:.0035,8:.0028,9:.0022,10:.0017,11:.0014,12:.0012,13:9e-4,14:8e-4,15:7e-4,16:7e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:0,27:0},Sl3:{1:.0055,2:.0055,3:.0055,4:.005,5:.0025,6:.0016,7:.0011,8:7e-4,9:5e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Sl2:{1:.0055,2:.0055,3:.005,4:.0026,5:.0013,6:8e-4,7:5e-4,8:3e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Su4:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.005,8:.0039,9:.0029,10:.0023,11:.0018,12:.0015,13:.0012,14:9e-4,15:8e-4,16:8e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:0,27:0},Su2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.003,7:.0022,8:.0017,9:.0012,10:.001,11:8e-4,12:6e-4,13:5e-4,14:4e-4,15:3e-4,16:3e-4,17:2e-4,18:2e-4,19:2e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Sl4:{1:.0055,2:.0055,3:.0055,4:.005,5:.0036,6:.0024,7:.0016,8:.0012,9:8e-4,10:6e-4,11:4e-4,12:3e-4,13:2e-4,14:1e-4,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Slu:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0036,7:.0026,8:.0019,9:.0015,10:.0011,11:9e-4,12:7e-4,13:5e-4,14:4e-4,15:3e-4,16:3e-4,17:2e-4,18:2e-4,19:2e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},St2:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},St3:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},fS:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0033,7:.0022,8:.0014,9:9e-4,10:5e-4,11:3e-4,12:2e-4,13:1e-4,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},gS:{1:.0055,2:.005,3:.0014,4:5e-4,5:2e-4,6:1e-4,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},mS:{1:.0055,2:.0055,3:.005,4:.0016,5:9e-4,6:5e-4,7:3e-4,8:2e-4,9:1e-4,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ss:{1:.0055,2:.0055,3:.005,4:.0016,5:9e-4,6:5e-4,7:3e-4,8:2e-4,9:1e-4,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Us:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.005,8:.0041,9:.0033,10:.0027,11:.0022,12:.0018,13:.0015,14:.0012,15:.001,16:.001,17:7e-4,18:7e-4,19:7e-4,20:4e-4,21:4e-4,22:4e-4,23:4e-4,24:4e-4,25:1e-4,26:1e-4,27:0},Uu:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.0055,9:.0055,10:.005,11:.004,12:.0033,13:.0028,14:.0024,15:.002,16:.002,17:.0015,18:.0015,19:.0015,20:.001,21:.001,22:.001,23:.001,24:.001,25:5e-4,26:3e-4,27:1e-4},Uls:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.0055,9:.005,10:.0044,11:.0036,12:.003,13:.0026,14:.0022,15:.0019,16:.0019,17:.0014,18:.0014,19:.0014,20:9e-4,21:9e-4,22:9e-4,23:9e-4,24:9e-4,25:5e-4,26:3e-4,27:1e-4},Ut2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.005,9:.0035,10:.0028,11:.0023,12:.0019,13:.0015,14:.0013,15:.0011,16:.0011,17:7e-4,18:7e-4,19:7e-4,20:4e-4,21:4e-4,22:4e-4,23:4e-4,24:4e-4,25:1e-4,26:1e-4,27:0},Ut3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.005,9:.0035,10:.0028,11:.0022,12:.0018,13:.0015,14:.0013,15:.0011,16:.0011,17:7e-4,18:7e-4,19:7e-4,20:4e-4,21:4e-4,22:4e-4,23:4e-4,24:4e-4,25:1e-4,26:1e-4,27:0},Ut4:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.005,8:.0036,9:.0028,10:.0022,11:.0018,12:.0015,13:.0012,14:.001,15:8e-4,16:8e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:1e-4,27:0},Ls2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.004,8:.003,9:.0022,10:.0017,11:.0013,12:9e-4,13:7e-4,14:5e-4,15:4e-4,16:4e-4,17:2e-4,18:2e-4,19:2e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ls3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.005,7:.0033,8:.0025,9:.002,10:.0015,11:.0012,12:.001,13:8e-4,14:7e-4,15:5e-4,16:5e-4,17:3e-4,18:3e-4,19:3e-4,20:2e-4,21:2e-4,22:2e-4,23:2e-4,24:2e-4,25:1e-4,26:0,27:0},Ls4:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0036,7:.0026,8:.002,9:.0015,10:.0012,11:9e-4,12:7e-4,13:6e-4,14:5e-4,15:4e-4,16:4e-4,17:3e-4,18:3e-4,19:3e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Lt2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0038,7:.0028,8:.0022,9:.0017,10:.0013,11:.0011,12:9e-4,13:7e-4,14:5e-4,15:4e-4,16:4e-4,17:3e-4,18:3e-4,19:3e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Lt3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0034,7:.0026,8:.0019,9:.0015,10:.0012,11:.001,12:8e-4,13:7e-4,14:6e-4,15:5e-4,16:5e-4,17:3e-4,18:3e-4,19:3e-4,20:2e-4,21:2e-4,22:2e-4,23:2e-4,24:2e-4,25:1e-4,26:0,27:0},Lu:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.005,7:.004,8:.0031,9:.0024,10:.0019,11:.0015,12:.0012,13:.001,14:8e-4,15:7e-4,16:7e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:1e-4,27:0},Lts:{1:.0055,2:.0055,3:.0055,4:.0055,5:5e-4,6:.0032,7:.0022,8:.0016,9:.0012,10:9e-4,11:7e-4,12:5e-4,13:4e-4,14:3e-4,15:2e-4,16:2e-4,17:1e-4,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tt:{1:.0055,2:.005,3:.002,4:.001,5:6e-4,6:4e-4,7:3e-4,8:2e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tl:{1:.0055,2:.005,3:.0026,4:.0013,5:8e-4,6:5e-4,7:4e-4,8:3e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tu2:{1:.0055,2:.005,3:.0026,4:.0013,5:8e-4,6:5e-4,7:4e-4,8:3e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tu3:{1:.0055,2:.0055,3:.005,4:.0024,5:.0014,6:9e-4,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:3e-4,12:2e-4,13:2e-4,14:1e-4,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tu4:{1:.0055,2:.0055,3:.0055,4:.005,5:.0024,6:.0016,7:.0012,8:8e-4,9:6e-4,10:5e-4,11:4e-4,12:3e-4,13:3e-4,14:2e-4,15:2e-4,16:2e-4,17:1e-4,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ts2:{1:.0055,2:.0055,3:.005,4:.002,5:.0012,6:8e-4,7:5e-4,8:4e-4,9:3e-4,10:2e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ts3:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ts4:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Hh:{1:.005,2:.005,3:.003,4:.002,5:.0013,6:8e-4,7:4e-4,8:3e-4,9:2e-4,10:2e-4,11:5e-5,12:5e-5,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Hn:{1:.004,2:.004,3:.0022,4:.0011,5:6e-4,6:3e-4,7:2e-4,8:1e-4,9:5e-5,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0}},addRate:function(t,e,a){void 0===this.map[t]&&(this.map[t]={}),this.map[t][e]=a},getRate:function(t,e){e=m(e);var a=this.getMap(t);return void 0===a[e]?0:a[e]},getMap:function(t){return void 0===this.map[t]&&(J(o.WARN,"No capillary rise rates for texture '"+texture+"' available: using default (Sl4)"),t="Sl4"),this.map[t]},size:function(){var t=0;for(var e in this.map)this.map.hasOwnProperty(e)&&t++;return t}},this.userInitValues={p_initPercentageFC:.8,p_initSoilNitrate:1e-4,p_initSoilAmmonium:1e-4}},_e={columns:["soil_type","soil_raw_density*10","air_capacity","field_capacity","n_field_capacity"],rows:[{soil_type:"Hh","soil_raw_density*10":-10,air_capacity:10,field_capacity:82,n_field_capacity:65},{soil_type:"Hn","soil_raw_density*10":-10,air_capacity:18,field_capacity:59,n_field_capacity:29},{soil_type:"Ls2","soil_raw_density*10":11,air_capacity:24,field_capacity:34,n_field_capacity:18},{soil_type:"Ls2","soil_raw_density*10":13,air_capacity:20,field_capacity:31,n_field_capacity:15},{soil_type:"Ls2","soil_raw_density*10":15,air_capacity:13,field_capacity:30,n_field_capacity:14},{soil_type:"Ls2","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:12},{soil_type:"Ls2","soil_raw_density*10":19,air_capacity:3,field_capacity:26,n_field_capacity:10},{soil_type:"Ls3","soil_raw_density*10":11,air_capacity:24,field_capacity:34,n_field_capacity:18},{soil_type:"Ls3","soil_raw_density*10":13,air_capacity:21,field_capacity:30,n_field_capacity:14},{soil_type:"Ls3","soil_raw_density*10":15,air_capacity:15,field_capacity:28,n_field_capacity:12},{soil_type:"Ls3","soil_raw_density*10":17,air_capacity:9,field_capacity:27,n_field_capacity:11},{soil_type:"Ls3","soil_raw_density*10":19,air_capacity:4,field_capacity:25,n_field_capacity:9},{soil_type:"Ls4","soil_raw_density*10":11,air_capacity:25,field_capacity:33,n_field_capacity:18},{soil_type:"Ls4","soil_raw_density*10":13,air_capacity:22,field_capacity:29,n_field_capacity:14},{soil_type:"Ls4","soil_raw_density*10":15,air_capacity:16,field_capacity:27,n_field_capacity:12},{soil_type:"Ls4","soil_raw_density*10":17,air_capacity:10,field_capacity:26,n_field_capacity:11},{soil_type:"Ls4","soil_raw_density*10":19,air_capacity:5,field_capacity:24,n_field_capacity:9},{soil_type:"Lt2","soil_raw_density*10":11,air_capacity:23,field_capacity:35,n_field_capacity:15},{soil_type:"Lt2","soil_raw_density*10":13,air_capacity:19,field_capacity:32,n_field_capacity:12},{soil_type:"Lt2","soil_raw_density*10":15,air_capacity:13,field_capacity:30,n_field_capacity:10},{soil_type:"Lt2","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:8},{soil_type:"Lt3","soil_raw_density*10":11,air_capacity:20,field_capacity:38,n_field_capacity:14},{soil_type:"Lt3","soil_raw_density*10":13,air_capacity:16,field_capacity:35,n_field_capacity:11},{soil_type:"Lt3","soil_raw_density*10":15,air_capacity:10,field_capacity:33,n_field_capacity:9},{soil_type:"Lt3","soil_raw_density*10":17,air_capacity:5,field_capacity:31,n_field_capacity:7},{soil_type:"Lts","soil_raw_density*10":11,air_capacity:21,field_capacity:37,n_field_capacity:16},{soil_type:"Lts","soil_raw_density*10":13,air_capacity:17,field_capacity:34,n_field_capacity:13},{soil_type:"Lts","soil_raw_density*10":15,air_capacity:11,field_capacity:32,n_field_capacity:11},{soil_type:"Lts","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:9},{soil_type:"Lu","soil_raw_density*10":11,air_capacity:21,field_capacity:37,n_field_capacity:18},{soil_type:"Lu","soil_raw_density*10":13,air_capacity:18,field_capacity:34,n_field_capacity:15},{soil_type:"Lu","soil_raw_density*10":15,air_capacity:11,field_capacity:32,n_field_capacity:13},{soil_type:"Lu","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:11},{soil_type:"Sl2","soil_raw_density*10":13,air_capacity:28,field_capacity:23,n_field_capacity:15},{soil_type:"Sl2","soil_raw_density*10":15,air_capacity:22,field_capacity:21,n_field_capacity:13},{soil_type:"Sl2","soil_raw_density*10":17,air_capacity:17,field_capacity:19,n_field_capacity:11},{soil_type:"Sl2","soil_raw_density*10":19,air_capacity:11,field_capacity:18,n_field_capacity:10},{soil_type:"Sl3","soil_raw_density*10":13,air_capacity:26,field_capacity:25,n_field_capacity:15},{soil_type:"Sl3","soil_raw_density*10":15,air_capacity:20,field_capacity:23,n_field_capacity:13},{soil_type:"Sl3","soil_raw_density*10":17,air_capacity:14,field_capacity:22,n_field_capacity:12},{soil_type:"Sl3","soil_raw_density*10":19,air_capacity:9,field_capacity:20,n_field_capacity:10},{soil_type:"Sl4","soil_raw_density*10":13,air_capacity:23,field_capacity:28,n_field_capacity:15},{soil_type:"Sl4","soil_raw_density*10":15,air_capacity:18,field_capacity:25,n_field_capacity:12},{soil_type:"Sl4","soil_raw_density*10":17,air_capacity:12,field_capacity:24,n_field_capacity:11},{soil_type:"Sl4","soil_raw_density*10":19,air_capacity:4,field_capacity:22,n_field_capacity:9},{soil_type:"Slu","soil_raw_density*10":13,air_capacity:22,field_capacity:29,n_field_capacity:18},{soil_type:"Slu","soil_raw_density*10":15,air_capacity:16,field_capacity:27,n_field_capacity:15},{soil_type:"Slu","soil_raw_density*10":17,air_capacity:10,field_capacity:26,n_field_capacity:14},{soil_type:"Slu","soil_raw_density*10":19,air_capacity:4,field_capacity:25,n_field_capacity:13},{soil_type:"Ss","soil_raw_density*10":13,air_capacity:39,field_capacity:12,n_field_capacity:9},{soil_type:"Ss","soil_raw_density*10":15,air_capacity:31,field_capacity:12,n_field_capacity:9},{soil_type:"Ss","soil_raw_density*10":17,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"St2","soil_raw_density*10":13,air_capacity:30,field_capacity:21,n_field_capacity:13},{soil_type:"St2","soil_raw_density*10":15,air_capacity:25,field_capacity:18,n_field_capacity:10},{soil_type:"St2","soil_raw_density*10":17,air_capacity:20,field_capacity:16,n_field_capacity:8},{soil_type:"St2","soil_raw_density*10":19,air_capacity:14,field_capacity:15,n_field_capacity:7},{soil_type:"St3","soil_raw_density*10":13,air_capacity:22,field_capacity:29,n_field_capacity:15},{soil_type:"St3","soil_raw_density*10":15,air_capacity:17,field_capacity:26,n_field_capacity:12},{soil_type:"St3","soil_raw_density*10":17,air_capacity:13,field_capacity:23,n_field_capacity:9},{soil_type:"St3","soil_raw_density*10":19,air_capacity:8,field_capacity:21,n_field_capacity:7},{soil_type:"Su2","soil_raw_density*10":13,air_capacity:30,field_capacity:21,n_field_capacity:16},{soil_type:"Su2","soil_raw_density*10":15,air_capacity:23,field_capacity:20,n_field_capacity:15},{soil_type:"Su2","soil_raw_density*10":17,air_capacity:18,field_capacity:18,n_field_capacity:13},{soil_type:"Su2","soil_raw_density*10":19,air_capacity:12,field_capacity:17,n_field_capacity:12},{soil_type:"Su3","soil_raw_density*10":13,air_capacity:25,field_capacity:26,n_field_capacity:19},{soil_type:"Su3","soil_raw_density*10":15,air_capacity:19,field_capacity:24,n_field_capacity:17},{soil_type:"Su3","soil_raw_density*10":17,air_capacity:14,field_capacity:22,n_field_capacity:15},{soil_type:"Su3","soil_raw_density*10":19,air_capacity:9,field_capacity:20,n_field_capacity:13},{soil_type:"Su4","soil_raw_density*10":13,air_capacity:24,field_capacity:27,n_field_capacity:20},{soil_type:"Su4","soil_raw_density*10":15,air_capacity:18,field_capacity:25,n_field_capacity:18},{soil_type:"Su4","soil_raw_density*10":17,air_capacity:12,field_capacity:24,n_field_capacity:17},{soil_type:"Su4","soil_raw_density*10":19,air_capacity:7,field_capacity:22,n_field_capacity:15},{soil_type:"Tl","soil_raw_density*10":11,air_capacity:12,field_capacity:46,n_field_capacity:14},{soil_type:"Tl","soil_raw_density*10":13,air_capacity:8,field_capacity:43,n_field_capacity:12},{soil_type:"Tl","soil_raw_density*10":15,air_capacity:4,field_capacity:39,n_field_capacity:8},{soil_type:"Tl","soil_raw_density*10":17,air_capacity:2,field_capacity:35,n_field_capacity:6},{soil_type:"Ts2","soil_raw_density*10":11,air_capacity:15,field_capacity:43,n_field_capacity:15},{soil_type:"Ts2","soil_raw_density*10":13,air_capacity:11,field_capacity:40,n_field_capacity:13},{soil_type:"Ts2","soil_raw_density*10":15,air_capacity:6,field_capacity:37,n_field_capacity:10},{soil_type:"Ts2","soil_raw_density*10":17,air_capacity:2,field_capacity:34,n_field_capacity:8},{soil_type:"Ts3","soil_raw_density*10":11,air_capacity:19,field_capacity:39,n_field_capacity:17},{soil_type:"Ts3","soil_raw_density*10":13,air_capacity:15,field_capacity:35,n_field_capacity:14},{soil_type:"Ts3","soil_raw_density*10":15,air_capacity:12,field_capacity:31,n_field_capacity:10},{soil_type:"Ts3","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:9},{soil_type:"Ts4","soil_raw_density*10":11,air_capacity:22,field_capacity:36,n_field_capacity:17},{soil_type:"Ts4","soil_raw_density*10":13,air_capacity:18,field_capacity:33,n_field_capacity:14},{soil_type:"Ts4","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:11},{soil_type:"Ts4","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:10},{soil_type:"Tt","soil_raw_density*10":11,air_capacity:9,field_capacity:49,n_field_capacity:13},{soil_type:"Tt","soil_raw_density*10":13,air_capacity:6,field_capacity:45,n_field_capacity:11},{soil_type:"Tt","soil_raw_density*10":15,air_capacity:3,field_capacity:41,n_field_capacity:7},{soil_type:"Tt","soil_raw_density*10":17,air_capacity:2,field_capacity:37,n_field_capacity:6},{soil_type:"Tu2","soil_raw_density*10":11,air_capacity:12,field_capacity:46,n_field_capacity:15},{soil_type:"Tu2","soil_raw_density*10":13,air_capacity:8,field_capacity:43,n_field_capacity:13},{soil_type:"Tu2","soil_raw_density*10":15,air_capacity:4,field_capacity:39,n_field_capacity:9},{soil_type:"Tu2","soil_raw_density*10":17,air_capacity:2,field_capacity:35,n_field_capacity:6},{soil_type:"Tu3","soil_raw_density*10":11,air_capacity:15,field_capacity:43,n_field_capacity:17},{soil_type:"Tu3","soil_raw_density*10":13,air_capacity:11,field_capacity:39,n_field_capacity:14},{soil_type:"Tu3","soil_raw_density*10":15,air_capacity:7,field_capacity:36,n_field_capacity:12},{soil_type:"Tu3","soil_raw_density*10":17,air_capacity:3,field_capacity:33,n_field_capacity:10},{soil_type:"Tu4","soil_raw_density*10":11,air_capacity:18,field_capacity:40,n_field_capacity:18},{soil_type:"Tu4","soil_raw_density*10":13,air_capacity:13,field_capacity:37,n_field_capacity:15},{soil_type:"Tu4","soil_raw_density*10":15,air_capacity:9,field_capacity:33,n_field_capacity:13},{soil_type:"Tu4","soil_raw_density*10":17,air_capacity:4,field_capacity:31,n_field_capacity:11},{soil_type:"Uls","soil_raw_density*10":11,air_capacity:27,field_capacity:31,n_field_capacity:20},{soil_type:"Uls","soil_raw_density*10":13,air_capacity:21,field_capacity:30,n_field_capacity:19},{soil_type:"Uls","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:18},{soil_type:"Uls","soil_raw_density*10":17,air_capacity:9,field_capacity:27,n_field_capacity:16},{soil_type:"Us","soil_raw_density*10":11,air_capacity:26,field_capacity:32,n_field_capacity:22},{soil_type:"Us","soil_raw_density*10":13,air_capacity:20,field_capacity:31,n_field_capacity:21},{soil_type:"Us","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:19},{soil_type:"Us","soil_raw_density*10":17,air_capacity:9,field_capacity:27,n_field_capacity:17},{soil_type:"Ut2","soil_raw_density*10":11,air_capacity:26,field_capacity:32,n_field_capacity:21},{soil_type:"Ut2","soil_raw_density*10":13,air_capacity:20,field_capacity:31,n_field_capacity:20},{soil_type:"Ut2","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:18},{soil_type:"Ut2","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:17},{soil_type:"Ut3","soil_raw_density*10":11,air_capacity:24,field_capacity:34,n_field_capacity:20},{soil_type:"Ut3","soil_raw_density*10":13,air_capacity:19,field_capacity:33,n_field_capacity:19},{soil_type:"Ut3","soil_raw_density*10":15,air_capacity:12,field_capacity:31,n_field_capacity:17},{soil_type:"Ut3","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:16},{soil_type:"Ut4","soil_raw_density*10":11,air_capacity:23,field_capacity:35,n_field_capacity:18},{soil_type:"Ut4","soil_raw_density*10":13,air_capacity:17,field_capacity:34,n_field_capacity:17},{soil_type:"Ut4","soil_raw_density*10":15,air_capacity:12,field_capacity:33,n_field_capacity:16},{soil_type:"Ut4","soil_raw_density*10":17,air_capacity:4,field_capacity:31,n_field_capacity:14},{soil_type:"Uu","soil_raw_density*10":11,air_capacity:22,field_capacity:36,n_field_capacity:25},{soil_type:"Uu","soil_raw_density*10":13,air_capacity:17,field_capacity:34,n_field_capacity:23},{soil_type:"Uu","soil_raw_density*10":15,air_capacity:11,field_capacity:32,n_field_capacity:21},{soil_type:"Uu","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:19},{soil_type:"fS","soil_raw_density*10":13,air_capacity:35,field_capacity:15,n_field_capacity:11},{soil_type:"fS","soil_raw_density*10":15,air_capacity:28,field_capacity:15,n_field_capacity:11},{soil_type:"fS","soil_raw_density*10":17,air_capacity:21,field_capacity:15,n_field_capacity:11},{soil_type:"fSgs","soil_raw_density*10":13,air_capacity:35,field_capacity:15,n_field_capacity:11},{soil_type:"fSgs","soil_raw_density*10":15,air_capacity:28,field_capacity:15,n_field_capacity:11},{soil_type:"fSgs","soil_raw_density*10":17,air_capacity:21,field_capacity:15,n_field_capacity:11},{soil_type:"fSms","soil_raw_density*10":13,air_capacity:35,field_capacity:15,n_field_capacity:11},{soil_type:"fSms","soil_raw_density*10":15,air_capacity:28,field_capacity:15,n_field_capacity:11},{soil_type:"fSms","soil_raw_density*10":17,air_capacity:21,field_capacity:15,n_field_capacity:11},{soil_type:"gS","soil_raw_density*10":13,air_capacity:43,field_capacity:8,n_field_capacity:5},{soil_type:"gS","soil_raw_density*10":15,air_capacity:35,field_capacity:8,n_field_capacity:5},{soil_type:"gS","soil_raw_density*10":17,air_capacity:28,field_capacity:8,n_field_capacity:5},{soil_type:"mS","soil_raw_density*10":13,air_capacity:38,field_capacity:12,n_field_capacity:9},{soil_type:"mS","soil_raw_density*10":15,air_capacity:31,field_capacity:12,n_field_capacity:9},{soil_type:"mS","soil_raw_density*10":17,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"mSfs","soil_raw_density*10":13,air_capacity:38,field_capacity:12,n_field_capacity:9},{soil_type:"mSfs","soil_raw_density*10":15,air_capacity:31,field_capacity:12,n_field_capacity:9},{soil_type:"mSfs","soil_raw_density*10":17,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"mSgs","soil_raw_density*10":13,air_capacity:38,field_capacity:12,n_field_capacity:9},{soil_type:"mSgs","soil_raw_density*10":15,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"mSgs","soil_raw_density*10":17,air_capacity:31,field_capacity:12,n_field_capacity:9}]},ne={columns:["soil_type","organic_matter*10","air_capacity","field_capacity","n_field_capacity"],rows:[{soil_type:"Ls2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Ls2","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:3},{soil_type:"Ls2","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:5},{soil_type:"Ls2","organic_matter*10":115,air_capacity:2,field_capacity:13,n_field_capacity:9},{soil_type:"Ls3","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:2},{soil_type:"Ls3","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:4},{soil_type:"Ls3","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:6},{soil_type:"Ls3","organic_matter*10":115,air_capacity:2,field_capacity:13,n_field_capacity:9},{soil_type:"Ls4","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Ls4","organic_matter*10":30,air_capacity:0,field_capacity:5,n_field_capacity:4},{soil_type:"Ls4","organic_matter*10":60,air_capacity:1,field_capacity:8,n_field_capacity:7},{soil_type:"Ls4","organic_matter*10":115,air_capacity:2,field_capacity:13,n_field_capacity:10},{soil_type:"Lt2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Lt2","organic_matter*10":30,air_capacity:1,field_capacity:4,n_field_capacity:3},{soil_type:"Lt2","organic_matter*10":60,air_capacity:2,field_capacity:6,n_field_capacity:4},{soil_type:"Lt2","organic_matter*10":115,air_capacity:3,field_capacity:10,n_field_capacity:7},{soil_type:"Lt3","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Lt3","organic_matter*10":30,air_capacity:2,field_capacity:3,n_field_capacity:2},{soil_type:"Lt3","organic_matter*10":60,air_capacity:3,field_capacity:5,n_field_capacity:3},{soil_type:"Lt3","organic_matter*10":115,air_capacity:4,field_capacity:10,n_field_capacity:6},{soil_type:"Lts","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Lts","organic_matter*10":30,air_capacity:2,field_capacity:3,n_field_capacity:2},{soil_type:"Lts","organic_matter*10":60,air_capacity:3,field_capacity:6,n_field_capacity:4},{soil_type:"Lts","organic_matter*10":115,air_capacity:4,field_capacity:10,n_field_capacity:7},{soil_type:"Lu","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Lu","organic_matter*10":30,air_capacity:2,field_capacity:4,n_field_capacity:2},{soil_type:"Lu","organic_matter*10":60,air_capacity:3,field_capacity:7,n_field_capacity:5},{soil_type:"Lu","organic_matter*10":115,air_capacity:4,field_capacity:12,n_field_capacity:8},{soil_type:"Sl2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Sl2","organic_matter*10":30,air_capacity:-1,field_capacity:5,n_field_capacity:3},{soil_type:"Sl2","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Sl2","organic_matter*10":115,air_capacity:-3,field_capacity:16,n_field_capacity:10},{soil_type:"Sl3","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Sl3","organic_matter*10":30,air_capacity:-1,field_capacity:4,n_field_capacity:3},{soil_type:"Sl3","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Sl3","organic_matter*10":115,air_capacity:-3,field_capacity:15,n_field_capacity:10},{soil_type:"Sl4","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Sl4","organic_matter*10":30,air_capacity:-1,field_capacity:4,n_field_capacity:3},{soil_type:"Sl4","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Sl4","organic_matter*10":115,air_capacity:-3,field_capacity:14,n_field_capacity:10},{soil_type:"Slu","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Slu","organic_matter*10":30,air_capacity:-1,field_capacity:4,n_field_capacity:3},{soil_type:"Slu","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Slu","organic_matter*10":115,air_capacity:-3,field_capacity:4,n_field_capacity:10},{soil_type:"Ss","organic_matter*10":15,air_capacity:0,field_capacity:4,n_field_capacity:2},{soil_type:"Ss","organic_matter*10":30,air_capacity:-1,field_capacity:8,n_field_capacity:4},{soil_type:"Ss","organic_matter*10":60,air_capacity:-3,field_capacity:12,n_field_capacity:7},{soil_type:"Ss","organic_matter*10":115,air_capacity:-5,field_capacity:21,n_field_capacity:13},{soil_type:"St2","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"St2","organic_matter*10":30,air_capacity:0,field_capacity:6,n_field_capacity:4},{soil_type:"St2","organic_matter*10":60,air_capacity:-1,field_capacity:9,n_field_capacity:5},{soil_type:"St2","organic_matter*10":115,air_capacity:-2,field_capacity:15,n_field_capacity:7},{soil_type:"St3","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"St3","organic_matter*10":30,air_capacity:0,field_capacity:6,n_field_capacity:4},{soil_type:"St3","organic_matter*10":60,air_capacity:0,field_capacity:8,n_field_capacity:6},{soil_type:"St3","organic_matter*10":115,air_capacity:1,field_capacity:14,n_field_capacity:8},{soil_type:"Su2","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Su2","organic_matter*10":30,air_capacity:-1,field_capacity:6,n_field_capacity:4},{soil_type:"Su2","organic_matter*10":60,air_capacity:-2,field_capacity:10,n_field_capacity:7},{soil_type:"Su2","organic_matter*10":115,air_capacity:-3,field_capacity:16,n_field_capacity:10},{soil_type:"Su3","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Su3","organic_matter*10":30,air_capacity:-1,field_capacity:6,n_field_capacity:4},{soil_type:"Su3","organic_matter*10":60,air_capacity:-2,field_capacity:10,n_field_capacity:6},{soil_type:"Su3","organic_matter*10":115,air_capacity:-3,field_capacity:15,n_field_capacity:9},{soil_type:"Su4","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Su4","organic_matter*10":30,air_capacity:0,field_capacity:6,n_field_capacity:4},{soil_type:"Su4","organic_matter*10":60,air_capacity:-1,field_capacity:9,n_field_capacity:6},{soil_type:"Su4","organic_matter*10":115,air_capacity:-2,field_capacity:14,n_field_capacity:9},{soil_type:"Tl","organic_matter*10":15,air_capacity:2,field_capacity:1,n_field_capacity:1},{soil_type:"Tl","organic_matter*10":30,air_capacity:3,field_capacity:2,n_field_capacity:2},{soil_type:"Tl","organic_matter*10":60,air_capacity:4,field_capacity:4,n_field_capacity:3},{soil_type:"Tl","organic_matter*10":115,air_capacity:5,field_capacity:7,n_field_capacity:5},{soil_type:"Ts2","organic_matter*10":15,air_capacity:1,field_capacity:3,n_field_capacity:2},{soil_type:"Ts2","organic_matter*10":30,air_capacity:2,field_capacity:5,n_field_capacity:4},{soil_type:"Ts2","organic_matter*10":60,air_capacity:3,field_capacity:8,n_field_capacity:6},{soil_type:"Ts2","organic_matter*10":115,air_capacity:5,field_capacity:12,n_field_capacity:8},{soil_type:"Ts3","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Ts3","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:4},{soil_type:"Ts3","organic_matter*10":60,air_capacity:2,field_capacity:8,n_field_capacity:6},{soil_type:"Ts3","organic_matter*10":115,air_capacity:5,field_capacity:12,n_field_capacity:9},{soil_type:"Ts4","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Ts4","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:4},{soil_type:"Ts4","organic_matter*10":60,air_capacity:2,field_capacity:8,n_field_capacity:6},{soil_type:"Ts4","organic_matter*10":115,air_capacity:4,field_capacity:12,n_field_capacity:9},{soil_type:"Tt","organic_matter*10":15,air_capacity:3,field_capacity:1,n_field_capacity:1},{soil_type:"Tt","organic_matter*10":30,air_capacity:4,field_capacity:2,n_field_capacity:2},{soil_type:"Tt","organic_matter*10":60,air_capacity:5,field_capacity:3,n_field_capacity:3},{soil_type:"Tt","organic_matter*10":115,air_capacity:7,field_capacity:6,n_field_capacity:5},{soil_type:"Tu2","organic_matter*10":15,air_capacity:2,field_capacity:1,n_field_capacity:1},{soil_type:"Tu2","organic_matter*10":30,air_capacity:3,field_capacity:2,n_field_capacity:2},{soil_type:"Tu2","organic_matter*10":60,air_capacity:4,field_capacity:4,n_field_capacity:3},{soil_type:"Tu2","organic_matter*10":115,air_capacity:5,field_capacity:7,n_field_capacity:5},{soil_type:"Tu3","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Tu3","organic_matter*10":30,air_capacity:2,field_capacity:3,n_field_capacity:2},{soil_type:"Tu3","organic_matter*10":60,air_capacity:3,field_capacity:5,n_field_capacity:4},{soil_type:"Tu3","organic_matter*10":115,air_capacity:5,field_capacity:8,n_field_capacity:6},{soil_type:"Tu4","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Tu4","organic_matter*10":30,air_capacity:2,field_capacity:4,n_field_capacity:2},{soil_type:"Tu4","organic_matter*10":60,air_capacity:3,field_capacity:6,n_field_capacity:4},{soil_type:"Tu4","organic_matter*10":115,air_capacity:5,field_capacity:9,n_field_capacity:7},{soil_type:"Uls","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Uls","organic_matter*10":30,air_capacity:1,field_capacity:4,n_field_capacity:3},{soil_type:"Uls","organic_matter*10":60,air_capacity:2,field_capacity:7,n_field_capacity:5},{soil_type:"Uls","organic_matter*10":115,air_capacity:3,field_capacity:12,n_field_capacity:8},{soil_type:"Us","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Us","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:3},{soil_type:"Us","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:5},{soil_type:"Us","organic_matter*10":115,air_capacity:2,field_capacity:12,n_field_capacity:8},{soil_type:"Ut2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Ut2","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:3},{soil_type:"Ut2","organic_matter*10":60,air_capacity:2,field_capacity:9,n_field_capacity:6},{soil_type:"Ut2","organic_matter*10":115,air_capacity:3,field_capacity:13,n_field_capacity:8},{soil_type:"Ut3","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Ut3","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:3},{soil_type:"Ut3","organic_matter*10":60,air_capacity:2,field_capacity:9,n_field_capacity:6},{soil_type:"Ut3","organic_matter*10":115,air_capacity:3,field_capacity:13,n_field_capacity:8},{soil_type:"Ut4","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Ut4","organic_matter*10":30,air_capacity:2,field_capacity:5,n_field_capacity:3},{soil_type:"Ut4","organic_matter*10":60,air_capacity:3,field_capacity:9,n_field_capacity:6},{soil_type:"Ut4","organic_matter*10":115,air_capacity:4,field_capacity:13,n_field_capacity:8},{soil_type:"Uu","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Uu","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:2},{soil_type:"Uu","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:4},{soil_type:"Uu","organic_matter*10":115,air_capacity:2,field_capacity:12,n_field_capacity:7}]},ce=function(t,e,a,i){var r=void 0!==t&&null!==t?t.toLowerCase():"",_=e||0,n=a||0,c=i||0;
return"ammonium nitrate"===r?(n=.5,c=.5,_=0):"ammonium phosphate"===r?(n=0,c=1,_=0):"ammonium sulphate"===r?(n=0,c=1,_=0):"potassium nitrate"===r?(n=1,c=0,_=0):"compound fertiliser (0 no3, 100 nh4)"===r?(n=0,c=1,_=0):"compound fertiliser (35 no3, 65 nh4)"===r?(n=.35,c=.65,_=0):"compound fertiliser (43 no3, 57 nh4)"===r?(n=.435,c=.565,_=0):"compound fertiliser (50 no3, 50 nh4)"===r?(n=.5,c=.5,_=0):"urea"===r?(n=0,c=0,_=1):"urea ammonium nitrate"===r?(n=.25,c=.25,_=.5):"urea ammonium sulphate"===r?(n=0,c=.18,_=.82):void 0!==r&&J(o.INFO,"Custom mineral fertilzer."),{getName:function(){return r},getCarbamid:function(){return _},getNH4:function(){return c},getNO3:function(){return n}}},se=function(t,e,a,i,r){this.name=void 0!==t&&null!==t?t.toLowerCase():"",this.vo_AOM_DryMatterContent=r||0,this.vo_AOM_NH4Content=i||0,this.vo_AOM_NO3Content=a||0,this.vo_AOM_CarbamidContent=e||0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0,this.vo_DaysAfterApplication=0,"cattle deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.289,this.vo_AOM_NH4Content=.007,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=7.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"cattle manure"===this.name?(this.vo_AOM_DryMatterContent=.196,this.vo_AOM_NH4Content=.007,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"cattle slurry"===this.name?(this.vo_AOM_DryMatterContent=.103,this.vo_AOM_NH4Content=.032,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6.1,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"cattle urine"===this.name?(this.vo_AOM_DryMatterContent=.033,this.vo_AOM_NH4Content=.146,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=8.4,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"duck or goose deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.35,this.vo_AOM_NH4Content=.024,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=2.1,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"green-waste compost"===this.name?(this.vo_AOM_DryMatterContent=.5,this.vo_AOM_NH4Content=.002,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=8,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"horse deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.26,this.vo_AOM_NH4Content=.008,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=5.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"maize straw"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=50,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"mushroom compost"===this.name?(this.vo_AOM_DryMatterContent=.39,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"oilseed-rape cake fert. (5-1-10)"===this.name?(this.vo_AOM_DryMatterContent=.9,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=.012,this.vo_AOM_FastDecCoeffStandard=.05,this.vo_PartAOM_to_AOM_Slow=.38,this.vo_PartAOM_to_AOM_Fast=.62,this.vo_CN_Ratio_AOM_Slow=47.7,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.33,this.vo_AOM_NH4Content=.009,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=4.8,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig manue"===this.name?(this.vo_AOM_DryMatterContent=.039,this.vo_AOM_NH4Content=.014,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig slurry"===this.name?(this.vo_AOM_DryMatterContent=.054,this.vo_AOM_NH4Content=.068,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=5.7,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig slurry-dk"===this.name?(this.vo_AOM_DryMatterContent=.05,this.vo_AOM_NH4Content=.08,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=85,this.vo_CN_Ratio_AOM_Fast=5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig urine"===this.name?(this.vo_AOM_DryMatterContent=.02,this.vo_AOM_NH4Content=.162,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=7.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"potato liquid waste"===this.name?(this.vo_AOM_DryMatterContent=.02,this.vo_AOM_NH4Content=.028,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=4.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"poultry deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.633,this.vo_AOM_NH4Content=.037,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=1.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"poultry manure"===this.name?(this.vo_AOM_DryMatterContent=.4,this.vo_AOM_NH4Content=.019,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=3.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"sewage sludge"===this.name?(this.vo_AOM_DryMatterContent=.141,this.vo_AOM_NH4Content=.089,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"soybean straw"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=30,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"turkey deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.48,this.vo_AOM_NH4Content=.038,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=1.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"weeds"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=30,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"wheat straw"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=8,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"wood ashes"===this.name?(this.vo_AOM_DryMatterContent=1,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.9,this.vo_PartAOM_to_AOM_Fast=.1,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=10,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):void 0!==this.name&&J(o.INFO,"Custom organic fertilzer."),this.vo_NConcentration=this.vo_AOM_NO3Content+this.vo_AOM_NH4Content+this.vo_AOM_CarbamidContent},pe=function(t){this._date=t,this.date=function(){return this._date},this.setDate=function(t){this._date=t},this.apply=function(){},this.clone=function(){},this.toString=function(){return"date: "+this.date().toString()}},le=function(t,e){pe.call(this,t),this._date=t,this._crop=e,this.setDate=function(t){this._date=t,this._crop.setSeedAndHarvestDate(this.date(),this._crop.harvestDate())},this.apply=function(t){J(o.INFO,"seeding crop: "+this._crop.name()+" at: "+this.date().toISOString().split("T")[0]),t.seedCrop(this._crop)},this.clone=function(){return JSON.parse(JSON.stringify(this))},this.toString=function(){return"seeding at: "+this.date().toString()+" crop: "+this._crop.toString()}};le.prototype=Object.create(pe),le.prototype.constructor=le;var ue=function(t,e,a){pe.call(this,t),this._date=t,this._crop=e,this._cropResult=a,this.setDate=function(t){this._date=t,this._crop.setSeedAndHarvestDate(this._crop.seedDate(),this.date())},this.apply=function(t){t.cropGrowth()&&(J(o.INFO,"harvesting crop: "+this._crop.name()+" at: "+this.date().toString()),t.currentCrop()==this._crop?(t.cropGrowth()&&(this._crop.setHarvestYields(t.cropGrowth().get_FreshPrimaryCropYield()/100,t.cropGrowth().get_FreshSecondaryCropYield()/100),this._crop.setHarvestYieldsTM(t.cropGrowth().get_PrimaryCropYield()/100,t.cropGrowth().get_SecondaryCropYield()/100),this._crop.setYieldNContent(t.cropGrowth().get_PrimaryYieldNContent(),t.cropGrowth().get_SecondaryYieldNContent()),this._crop.setSumTotalNUptake(t.cropGrowth().get_SumTotalNUptake()),this._crop.setCropHeight(t.cropGrowth().get_CropHeight()),this._crop.setAccumulatedETa(t.cropGrowth().get_AccumulatedETa())),this._cropResult.id=this._crop.id(),this._cropResult.name=this._crop.name(),this._cropResult.primaryYield=A(2,this._crop.primaryYield()),this._cropResult.secondaryYield=A(2,this._crop.secondaryYield()),this._cropResult.primaryYieldTM=A(2,this._crop.primaryYieldTM()),this._cropResult.secondaryYieldTM=A(2,this._crop.secondaryYieldTM()),this._cropResult.sumIrrigation=A(2,this._crop.appliedIrrigationWater()),this._cropResult.biomassNContent=A(2,this._crop.primaryYieldN()),this._cropResult.aboveBiomassNContent=A(2,this._crop.aboveGroundBiomasseN()),this._cropResult.daysWithCrop=A(2,t.daysWithCrop()),this._cropResult.sumTotalNUptake=A(2,this._crop.sumTotalNUptake()),this._cropResult.cropHeight=A(2,this._crop.cropHeight()),this._cropResult.sumETaPerCrop=A(2,this._crop.get_AccumulatedETa()),this._cropResult.NStress=A(2,t.getAccumulatedNStress()),this._cropResult.WaterStress=A(2,t.getAccumulatedWaterStress()),this._cropResult.HeatStress=A(2,t.getAccumulatedHeatStress()),this._cropResult.OxygenStress=A(2,t.getAccumulatedOxygenStress()),this._cropResult.sumFertiliser=A(2,t.sumFertiliser()),t.harvestCurrentCrop()):J(o.INFO,"Crop: "+t.currentCrop().toString()+" to be harvested isn't actual crop of this Harvesting action: "+this._crop.toString()))},this.clone=function(){return JSON.parse(JSON.stringify(this))},this.toString=function(){return"harvesting at: "+this.date().toString()+" crop: "+this._crop.toString()}};ue.prototype=Object.create(pe),ue.prototype.constructor=ue;var fe=function(t,e,a){pe.call(this,t),this._date=t,this._crop=e,this._cropResult=a,this.apply=function(t){if(J(o.INFO,"Cutting crop: "+this._crop.name()+" at: "+this.date().toString()),t.currentCrop()==this._crop){var e={id:this._crop.id(),name:this._crop.name(),date:this._date,primaryYieldTM:t.cropGrowth().get_PrimaryCropYield()/100};if(Le){var a="";a+=this._date.getFullYear()+";"+C(e.primaryYieldTM)+"\n",Le.appendFileSync("./out/cutting_yields.csv",a,{encoding:"utf8"})}this._cropResult.cuts||(this._cropResult.cuts=[]),this._cropResult.cuts.push(e),t.cropGrowth()&&t.cropGrowth().applyCutting()}},this.clone=function(){return JSON.parse(JSON.stringify(this))},this.toString=function(){return"Cutting at: "+this.date().toString()+" crop: "+this._crop.toString()}};fe.prototype=Object.create(pe),fe.prototype.constructor=fe;var de=function(t,e,a){pe.call(this,t),this._date=t,this._partition=e,this._amount=a,this.apply=function(t){t.applyMineralFertiliser(this._partition,this._amount)},this.partition=function(){return this._partition},this.amount=function(){return this._amount},this.toString=function(){return"applying mineral fertiliser at: "+this._date.toString()+" amount: "+this._amount+" partition: "+this.partition().toString()},this.clone=function(){return JSON.parse(JSON.stringify(this))}};de.prototype=Object.create(pe),de.prototype.constructor=de;var ve=function(t,e,a,i){pe.call(this,t),this._date=t,this._parameters=e,this._amount=a,this._incrop=void 0===i?!0:i,this.apply=function(t){t.applyOrganicFertiliser(this._parameters,this._amount,this._incrop)},this.parameters=function(){return this._parameters},this.amount=function(){return this._amount},this.incorporation=function(){return this._incorporation},this.toString=function(){return"applying organic fertiliser at: "+this.date().toString()+" amount: "+this.amount()+"	N percentage: "+this._parameters.vo_NConcentration+"	N amount: "+this.amount()*this._parameters.vo_NConcentration},this.clone=function(){return JSON.parse(JSON.stringify(this))}};ve.prototype=Object.create(pe),ve.prototype.constructor=ve;var ge=function(t,e){pe.call(this,t),this._date=t,this._depth=e,this.apply=function(t){t.applyTillage(this._depth)},this.toString=function(){return"applying tillage at: "+this.date().toString()+" depth: "+this._depth},this.clone=function(){return JSON.parse(JSON.stringify(this))}};ge.prototype=Object.create(pe),ge.prototype.constructor=ge;var me=function(t,e,a){pe.call(this,t),this._date=t,this._amount=e,this._parameters=a,this.apply=function(t){t.applyIrrigation(this.amount(),this.nitrateConcentration())},this.amount=function(){return this._amount},this.nitrateConcentration=function(){return this._parameters.nitrateConcentration},this.sulfateConcentration=function(){return this._parameters.sulfateConcentration},this.toString=function(){return"applying irrigation at: "+this.date().toString()+" amount: "+this.amount()+" nitrateConcentration: "+this.nitrateConcentration()+" sulfateConcentration: "+this.sulfateConcentration()},this.clone=function(){return JSON.parse(JSON.stringify(this))}};me.prototype=Object.create(pe),me.prototype.constructor=me;var Se=function(t,e){var a=t,i=e,r=[],o=[];r.equal_range=function(t){var e=[];return this.forEach(function(a){a.date().setHours(0,0,0,0)===t.setHours(0,0,0,0)&&e.push(a)}),e},r.upper_bound=function(t){for(var e=0,a=this.length;a>e;e++)if(this[e].date().setHours(0,0,0,0)>t.setHours(0,0,0,0))return this[e];return null};var _=function(t){r.push(t),r.sort(function(t,e){var a=t.date(),i=e.date();return i>a?-1:a>i?1:0})};e.seedDate().setHours(0,0,0,0)!=new Date(1951,0,1).setHours(0,0,0,0)&&e.seedDate().setHours(0,0,0,0)!=new Date(0,0,0).setHours(0,0,0,0)&&_(new le(e.seedDate(),e)),e.harvestDate().isValid()&&e.harvestDate().setHours(0,0,0,0)!=new Date(1951,0,1).setHours(0,0,0,0)&&e.harvestDate().setHours(0,0,0,0)!=new Date(0,0,0).setHours(0,0,0,0)&&_(new ue(e.harvestDate(),e,o));for(var n=e.getCuttingDates(),c=n.length,s=0;c>s;s++)_(new fe(Date(n.at(s)),e));var p=function(){},l=function(t,e){var a=r.equal_range(t);a.forEach(function(t){t.apply(e)})},u=function(t){var e=r.upper_bound(t);return e?e.date():new Date(1/0)},f=function(t){var e=null;return r.forEach(function(a){a.date().setHours(0,0,0,0)===t.setHours(0,0,0,0)&&(e=a)}),e},d=function(){return 0===r.length?new Date(1/0):r[0].date()},v=function(){return 0===r.length?new Date(1/0):r[r.length-1]},g=function(){var t="";return t+="name: "+a+" start: "+d().toString()+" end: "+v().toString()+"\n",t+="worksteps:\n",r.forEach(function(e){t+="at: "+e.date().toString()+" what: "+e.toString()+"\n"}),t};return{getWorkstep:f,deepCloneAndClearWorksteps:p,addApplication:_,apply:l,nextDate:u,name:function(){return a},crop:function(){return i},isFallow:function(){return!i.isValid()},start:d,end:v,getWorksteps:function(){return r},clearWorksteps:function(){r=[]},toString:g,setCustomId:function(t){_customId=t},cropResult:function(){return o}}},ye=function(t,e){this._startDate=t,this._endDate=e,this._data=[],this._numberOfSteps=0,this._offset=0,this._dates=[],this.setData=function(t){this._data=t,this._offset=t[j.ISODATESTRING].indexOf(this._startDate.toISOString().split("T")[0]);var e=t[j.ISODATESTRING].indexOf(this._endDate.toISOString().split("T")[0]);if(this._offset<0)throw this._numberOfSteps=0,J(o.ERROR,"Start date not valid: no. of steps is 0"),new Error("Start date not valid: no. of steps is 0");0>e&&(e=this._data[j.ISODATESTRING].length-1,this._endDate=new Date(Date.parse(this._data[j.ISODATESTRING][e])),J(o.WARN,"End date not found: end date adjusted to "+this._endDate.toISOString().split("T")[0]));for(var a=0;a<this._numberOfSteps;a++)this._dates[a]=new Date(Date.parse(this._data[j.ISODATESTRING][a]));this._numberOfSteps=e-this._offset},this.date=function(t){return this._dates[t+this._offset]},this.isValid=function(){return this._numberOfSteps>0},this.dataForTimestep=function(t,e){return this._data[t][e+this._offset]},this.noOfStepsPossible=function(){return this._numberOfSteps},this.startDate=function(){return this._startDate},this.endDate=function(){return this._endDate},this.julianDayForStep=function(t){if(this._data[j.DOY].length>0)return this._data[j.DOY][t+this._offset];var e=new Date(this._startDate.getFullYear(),this._startDate.getMonth(),this._startDate.getDate()+t);return f((e-new Date(e.getFullYear(),0,1))/864e5)+1},this.isAvailable=function(t){return this._data[t].length>0}},he=function(t){var e=-1,a=t.toLowerCase(),i=0,r=0,o=0,_=1,n=[],c=[],s=new Date(1/0),p=new Date(1/0),l=0,u=0,f=0,d=0,v=0,g=0,m=0,S=null,y=null;return"winter wheat"===a?(e=1,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.2,.6,0],[.13,.2,.67,0],[0,0,.03,.97],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.05,0,0],[0,.05,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.9,1,1,.9,.8],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[148,284,380,200,420,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter wheat",pc_MaxAssimilationRate:52,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.83,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:6,pc_CropHeightP2:.5,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:620,pc_EndSensitivePhaseHeatStress:740,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter wheat",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter barley"===a?(e=2,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.3,.2,.5,0],[.1,.2,.4,.3],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.05,0,0],[0,.05,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[.8,.8,.8,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0019,.0018,.0017,.0016,.0016],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[108,284,300,120,260,25],pc_VernalisationRequirement:[0,33,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.04,.04,.04,.04,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter barley",pc_MaxAssimilationRate:40,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.87,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.6,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:560,pc_HeatSumIrrigationEnd:1032,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter barley",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:180,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter rye"===a?(e=3,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.53,.47,0,0],[.2,.6,.2,0],[.13,.37,.5,0],[0,0,.25,.75],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[148,284,200,400,350,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter rye",pc_MaxAssimilationRate:38,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:1.5,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:406,pc_HeatSumIrrigationEnd:934,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter rye",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring barley"===a?(e=4,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.25,.23,.52,0],[.17,.23,.5,.1],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,.002,0],[0,.03,.002,0]],pc_BaseDaylength:[0,0,7,0,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,0,0,0],pc_DroughtStressThreshold:[.8,.8,.8,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0019,.0018,.0017,.0016,.0016],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.6,1,1,.8,.25],pc_StageTemperatureSum:[108,284,330,120,200,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.04,.04,.04,.04,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring barley",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.87,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.6,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:560,pc_HeatSumIrrigationEnd:1032,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:550,pc_EndSensitivePhaseHeatStress:670,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"spring barley",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:180,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"grain maize"===a?(e=5,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.4,0,0],[.55,.25,.2,0],[.2,.2,.6,0],[.05,.05,.65,.25],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[.005,.001,0,0],[.1,.003,0,0],[.1,.005,.013,0],[0,.02,.02,0]],pc_BaseDaylength:[0,0,0,0,0,0,0],pc_BaseTemperature:[7,6,6,6,9,9,9],pc_OptimumTemperature:[30,30,30,30,30,30,30],pc_DaylengthRequirement:[0,0,0,0,0,0,0],pc_DroughtStressThreshold:[.5,.5,.5,.5,.6,.6,.2],pc_OrganMaintenanceRespiration:[.01,.03,.01,.007],pc_OrganGrowthRespiration:[.01,.03,.01,.007],pc_SpecificLeafArea:[.0028,.002,.002,.0019,.0018,.0018,.0018],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01,.01],pc_StageKcFactor:[.4,1,1,1.2,1.25,1.25,1],pc_StageTemperatureSum:[68,284,190,250,200,400,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[12,12,0,0],pc_CriticalOxygenContent:[.04,.02,.02,.02,.02,.02,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.78,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"grain maize",pc_MaxAssimilationRate:96,pc_CarboxylationPathway:2,pc_MinimumTemperatureForAssimilation:6,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.004,pc_NConcentrationPN:1,pc_NConcentrationB0:5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1,pc_MaxCropHeight:2,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:60,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.025,pc_StageAtMaxDiameter:4,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:993,pc_MaxNUptakeParam:7.4,pc_RootDistributionParam:.0035,pc_PlantDensity:10,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:9,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0014,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:.5,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"grain maize",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.61,vo_PartAOM_to_AOM_Fast:.39,vo_CN_Ratio_AOM_Slow:225,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"silage maize"===a?(e=7,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.65,.35,0,0],[.6,.2,.2,0],[.2,.2,.6,0],[.05,.05,.65,.25],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[.005,.001,0,0],[.1,.003,0,0],[.1,.005,.013,0],[0,.02,.02,0]],pc_BaseDaylength:[0,0,0,0,0,0,0],pc_BaseTemperature:[7,6,6,6,9,9,9],pc_OptimumTemperature:[30,30,30,30,30,30,30],pc_DaylengthRequirement:[0,0,0,0,0,0,0],pc_DroughtStressThreshold:[.5,.5,.5,.5,.6,.6,.2],pc_OrganMaintenanceRespiration:[.01,.03,.01,.007],pc_OrganGrowthRespiration:[.01,.03,.01,.007],pc_SpecificLeafArea:[.0025,.0017,.0015,.0014,.0012,.0012,.0012],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01,.01],pc_StageKcFactor:[.4,1,1,1.2,1.25,1.25,1],pc_StageTemperatureSum:[68,284,190,250,200,400,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[12,12,0,0],pc_CriticalOxygenContent:[.04,.02,.02,.02,.02,.02,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:2,yieldPercentage:.9,yieldDryMatter:.32},{organId:3,yieldPercentage:.9,yieldDryMatter:.32},{organId:4,yieldPercentage:1,yieldDryMatter:.32}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"silage maize",pc_MaxAssimilationRate:96,pc_CarboxylationPathway:2,pc_MinimumTemperatureForAssimilation:6,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.004,pc_NConcentrationPN:1,pc_NConcentrationB0:5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1,pc_MaxCropHeight:2,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:60,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.025,pc_StageAtMaxDiameter:4,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:993,pc_MaxNUptakeParam:7.4,pc_RootDistributionParam:.0035,pc_PlantDensity:10,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:9,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0014,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:.5,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"silage maize",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.61,vo_PartAOM_to_AOM_Fast:.39,vo_CN_Ratio_AOM_Slow:225,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter rape"===a?(e=9,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.4,.4,0],[.13,.17,.7,0],[0,0,.1,.9],[0,0,0,0],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.01,0,0],[0,.01,0,0],[0,.01,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.8,.8,.8,.8,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.6,1.1,1.3,1.1,.8,.6],pc_StageTemperatureSum:[130,284,160,160,900,25],pc_VernalisationRequirement:[0,35,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.03],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.55,yieldDryMatter:.91}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.35},{organId:3,yieldPercentage:.85,yieldDryMatter:.35}],organIdsForCutting:[],pc_CropName:"winter rape",pc_MaxAssimilationRate:50,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.5,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.35,pc_NConcentrationB0:3.5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1.1,pc_MaxCropHeight:.8,pc_ResidueNRatio:.3,pc_SamplingDepth:.6,pc_TargetNSamplingDepth:340,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:450,pc_HeatSumIrrigationEnd:1e3,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:100,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.002,pc_RootFormFactor:1.5,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter rape",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.78,vo_PartAOM_to_AOM_Fast:.22,vo_CN_Ratio_AOM_Slow:227,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"sugar beet"===a?(e=10,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.54,.28,.18,0],[.15,.41,.41,.02],[0,.15,.27,.58],[0,.01,.01,.98],[0,0,.01,.99],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.001,0,0],[.08,.005,0,0],[.08,.01,0,0]],pc_BaseDaylength:[0,0,0,0,0,0],pc_BaseTemperature:[3,3,0,0,0,0],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,0,0,0,0,0],pc_DroughtStressThreshold:[1,.7,.8,.8,.8,.7],pc_OrganMaintenanceRespiration:[.015,.03,.003,.01],pc_OrganGrowthRespiration:[.015,.03,.003,.01],pc_SpecificLeafArea:[9e-4,.001,.001,9e-4,9e-4,9e-4],pc_StageMaxRootNConcentration:[.02,.015,.012,.01,.009,.009],pc_StageKcFactor:[.4,.8,1,1.35,.85,.4],pc_StageTemperatureSum:[100,300,565,608,1600,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[5,10,0,0],pc_CriticalOxygenContent:[.03,.03,.03,.03,.03,.03],pc_AbovegroundOrgan:[!1,!0,!0,!1],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:1,yieldDryMatter:.23}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.95,yieldDryMatter:.16}],organIdsForCutting:[],pc_CropName:"sugar beet",pc_MaxAssimilationRate:100,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:7,pc_CropSpecificMaxRootingDepth:1.6,pc_MinimumNConcentration:.004,pc_NConcentrationPN:1.35,pc_NConcentrationB0:3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1.65,pc_MaxCropHeight:.5,pc_ResidueNRatio:2,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:200,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:0,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:600,pc_HeatSumIrrigationEnd:1691,pc_MaxNUptakeParam:5.645,pc_RootDistributionParam:.0012,pc_PlantDensity:8,pc_RootGrowthLag:-60,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.06,pc_RootPenetrationRate:.0011,pc_RootFormFactor:2,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"sugar beet",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"mustard"===a?(e=11,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,.2,0],[.2,.6,.2,0],[.13,.33,.54,0],[0,0,.04,.96],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.8,.8,.8,.8,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,0],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.6,1.1,1.3,1.1,.8,.6],pc_StageTemperatureSum:[40,284,200,400,350,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.03],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:2,yieldPercentage:.01,yieldDryMatter:.15},{organId:3,yieldPercentage:.01,yieldDryMatter:.15},{organId:4,yieldPercentage:.01,yieldDryMatter:.15}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"mustard",pc_MaxAssimilationRate:65,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.5,pc_MinimumNConcentration:.005,pc_NConcentrationPN:2.5,pc_NConcentrationB0:2.5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:1,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:20,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.6,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:450,pc_HeatSumIrrigationEnd:1e3,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:600,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:8e-4,pc_RootFormFactor:2,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"mustard",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:0,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.005,vo_AOM_FastDecCoeffStandard:.025,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"oil raddich"===a?(e=17,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.6,.2,0],[.13,.33,.54,0],[0,0,.04,.96],[0,0,0,0],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.8,.8,.8,.8,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.3,.7,.9,.99,.6,.6],pc_StageTemperatureSum:[148,150,200,200,325,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.03],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.3},{organId:3,yieldPercentage:.85,yieldDryMatter:.3},{organId:4,yieldPercentage:.85,yieldDryMatter:.91}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"oil raddich",pc_MaxAssimilationRate:60.08,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.5,pc_MinimumNConcentration:.005,pc_NConcentrationPN:2,pc_NConcentrationB0:9.492,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.1,pc_MaxCropHeight:.8,pc_ResidueNRatio:.3,pc_SamplingDepth:.6,pc_TargetNSamplingDepth:340,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:8.77,pc_CropHeightP2:.428,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:450,pc_HeatSumIrrigationEnd:1e3,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:100,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.002,pc_RootFormFactor:1.5,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"oil raddich",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.78,vo_PartAOM_to_AOM_Fast:.22,vo_CN_Ratio_AOM_Slow:227,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter triticale"===a?(e=19,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.3,.5,0],[.13,.3,.57,0],[0,0,.06,.94],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.04,0,0],[0,.04,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,0,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.04,.7,1,1.1,.8,.25],pc_StageTemperatureSum:[300,650,200,250,300,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter triticale",pc_MaxAssimilationRate:48,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:1.1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:6.84,pc_CropHeightP2:.53,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter triticale",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring rye"===a?(e=20,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.53,.47,0,0],[.2,.6,.2,0],[.13,.37,.5,0],[0,0,.25,.75],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.3,.3,.3,.3,.3],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[148,284,200,400,350,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring rye",pc_MaxAssimilationRate:38,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:1.3,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:406,pc_HeatSumIrrigationEnd:934,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"spring rye",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"oat compound"===a?(e=22,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.53,.47,0,0],[.2,.6,.2,0],[.13,.37,.5,0],[0,0,.25,.75],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4244,.7,.9,.9,.61,.25],pc_StageTemperatureSum:[100,299.9,419.2,200,200,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"oat compound",pc_MaxAssimilationRate:38.32,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:2,pc_NConcentrationB0:1.963,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.2,pc_MaxCropHeight:1,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:3.74,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:406,pc_HeatSumIrrigationEnd:934,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"oat compound",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring triticale"===a?(e=23,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.3,.5,0],[.13,.3,.57,0],[0,0,.06,.94],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.04,0,0],[0,.04,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,0,0,0],pc_DroughtStressThreshold:[0,0,0,0,0,0],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.1,.3,.6,.7,.7,.25],pc_StageTemperatureSum:[150,200,400,350,300,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring triticale",pc_MaxAssimilationRate:45,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.9,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"spring triticale",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"field pea"===a?(e=24,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.5,.3,0],[.13,.33,.54,0],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[25,160,210,180,480,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.8,.8,.8,.8,.8,.8],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.8,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.9,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"field pea",pc_MaxAssimilationRate:60,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:.7,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.35,pc_NConcentrationB0:3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.74,pc_LuxuryNCoeff:1,pc_MaxCropHeight:.5,pc_ResidueNRatio:.8,pc_SamplingDepth:.6,pc_TargetNSamplingDepth:110,pc_TargetN30:40,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:4,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:993,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.06,pc_RootPenetrationRate:7e-4,pc_RootFormFactor:1,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"field pea",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring wheat"===a?(e=25,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.2,.6,0],[.13,.2,.67,0],[0,0,.03,.97],[0,0,0,1],[0,0,0,.8]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.05,0,0],[0,.05,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.9,1,1,.9,.8],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.6,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[120,284,380,180,435,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring wheat",pc_MaxAssimilationRate:52,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.83,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:6,pc_CropHeightP2:.5,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:780,pc_EndSensitivePhaseHeatStress:900,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"spring wheat",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean 000"===a?(e=28,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-22.35,-22.35,-22.35,-22.35,-22.35,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,25,25,25,25,30],pc_DaylengthRequirement:[0,-14.6,-14.6,-14.6,-14.6,-14.6,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,457,323,500,770,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean 000",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1.2,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean 000",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean 00"===a?(e=29,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-21.1,-21.1,-21.1,-21.1,-21.1,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,25],pc_DaylengthRequirement:[0,-14.35,-14.35,-14.35,-14.35,-14.35,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,473,323,500,783,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean 00",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean 00",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean 0"===a?(e=30,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-19.95,-19.95,-19.95,-19.95,-19.95,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-14.1,-14.1,-14.1,-14.1,-14.1,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,500,350,500,804,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean 0",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean 0",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean i"===a?(e=31,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-18.75,-18.75,-18.75,-18.75,-18.75,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.84,-13.84,-13.84,-13.84,-13.84,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,506,350,500,825,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean i",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean i",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean ii"===a?(e=32,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-17.6,-17.6,-17.6,-17.6,-17.6,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.59,-13.59,-13.59,-13.59,-13.59,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,519,363,500,846,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean ii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean ii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean iii"===a?(e=33,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-16.9,-16.9,-16.9,-16.9,-16.9,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.4,-13.4,-13.4,-13.4,-13.4,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,571,377,500,867,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean iii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean iii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean iv"===a?(e=34,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-16.5,-16.5,-16.5,-16.5,-16.5,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.09,-13.09,-13.09,-13.09,-13.09,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,584,404,500,887,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean iv",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean iv",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean v"===a?(e=35,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-16.1,-16.1,-16.1,-16.1,-16.1,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.83,-12.83,-12.83,-12.83,-12.83,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,597,417,500,908,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean v",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean v",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean vi"===a?(e=36,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-15.8,-15.8,-15.8,-15.8,-15.8,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.58,-12.58,-12.58,-12.58,-12.58,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,611,430,500,929,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean vi",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean vi",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean vii"===a?(e=37,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-15.45,-15.45,-15.45,-15.45,-15.45,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.33,-12.33,-12.33,-12.33,-12.33,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.7,.9,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,630,430,500,950,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean vii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean vii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean viii"===a?(e=38,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-15.1,-15.1,-15.1,-15.1,-15.1,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.07,-12.07,-12.07,-12.07,-12.07,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,653,430,500,971,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean viii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean viii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean ix"===a?(e=39,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.82,-14.82,-14.82,-14.82,-14.82,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.88,-11.88,-11.88,-11.88,-11.88,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,702,430,500,976,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean ix",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean ix",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean x"===a?(e=40,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.65,-14.65,-14.65,-14.65,-14.65,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.78,-11.78,-11.78,-11.78,-11.78,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,718,430,500,976,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean x",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean x",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean xi"===a?(e=41,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.5,-14.5,-14.5,-14.5,-14.5,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.7,-11.7,-11.7,-11.7,-11.7,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,630,430,500,950,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean xi",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean xi",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean xii"===a&&(e=42,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.4,-14.4,-14.4,-14.4,-14.4,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.65,-11.65,-11.65,-11.65,-11.65,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,630,430,500,950,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean xii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean xii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}),{type:"fieldcrop",id:function(){return e
},name:function(){return a},isValid:function(){return e>-1},cropParameters:function(){return y},setCropParameters:function(t){y=t},residueParameters:function(){return S},setResidueParameters:function(t){S=t},seedDate:function(){return p},harvestDate:function(){return s},getCuttingDates:function(){return n},setSeedAndHarvestDate:function(t,e){p=t,s=e},addCuttingDate:function(t){n.push(t)},setHarvestYields:function(t,e){l+=t,d+=e},setHarvestYieldsTM:function(t,e){f+=t,g+=e},addCuttingYieldDM:function(t){c.push(t)},getCuttingYieldsDM:function(){return c},setYieldNContent:function(t,e){u+=t,v+=e},addAppliedIrrigationWater:function(t){r+=t},setSumTotalNUptake:function(t){m=t},setCropHeight:function(t){o=t},setAccumulatedETa:function(t){i=t},appliedIrrigationWater:function(){return r},sumTotalNUptake:function(){return m},primaryYield:function(){return l*_},secondaryYield:function(){return d*_},primaryYieldTM:function(){return f*_},secondaryYieldTM:function(){return g*_},primaryYieldN:function(){return u},aboveGroundBiomasseN:function(){return u+v},secondaryYieldN:function(){return v},cropHeight:function(){return o},reset:function(){l=d=r=0,u=v=i=0,f=d=0},get_AccumulatedETa:function(){return i}}},Me=function(t,e,a,i,r){for(var _=t,u=e,f=a,y=r,C=t.vs_NumberOfLayers(),A=i.vs_Latitude,w=0,F=0,T=f.pc_AbovegroundOrgan,H=0,I=f.pc_AssimilatePartitioningCoeff,b=0,x=0,L=0,B=f.pc_BaseDaylength,E=f.pc_BaseTemperature,G=f.pc_BeginSensitivePhaseHeatStress,U=0,k=0,V=3,Y=f.pc_CarboxylationPathway,W=0,q=0,K=f.pc_CriticalOxygenContent,z=f.pc_CriticalTemperatureHeatStress,j=0,X=1,Z=0,Q=f.pc_CropHeightP1,$=f.pc_CropHeightP2,te=0,ee=1,ae=f.pc_CropName,ie=f.pc_CropSpecificMaxRootingDepth,re=new Float64Array(f.pc_NumberOfDevelopmentalStages),oe=0,_e=0,ne=0,ce=f.pc_DaylengthRequirement,se=0,pe=0,le=f.pc_DefaultRadiationUseEfficiency,ue=f.pc_DevelopmentAccelerationByNitrogenStress,fe=0,de=1,ve=f.pc_DroughtImpactOnFertilityFactor,ge=f.pc_DroughtStressThreshold,me=0,Se=u.pc_EmergenceFloodingControlOn,ye=u.pc_EmergenceMoistureControlOn,he=f.pc_EndSensitivePhaseHeatStress,Me=0,Oe=0,Ce=0,Ae=0,Ne=f.pc_FixingN,De=new Float64Array(C),we=0,Pe=0,Re=0,Fe=0,Te=0,He=0,Ie=0,be=0,xe=i.vs_HeightNN,Le=f.pc_InitialKcFactor,Be=f.pc_InitialOrganBiomass,Ee=f.pc_InitialRootingDepth,Ge=0,Ue=.6,ke=0,Ve=f.pc_LimitingTemperatureHeatStress,Ye=f.pc_LuxuryNCoeff,We=0,qe=f.pc_MaxAssimilationRate,Ke=f.pc_MaxCropDiameter,ze=f.pc_MaxCropHeight,je=i.vs_MaxEffectiveRootingDepth,Je=0,Xe=f.pc_MaxNUptakeParam,Ze=0,Qe=f.pc_MinimumNConcentration,$e=f.pc_MinimumTemperatureForAssimilation,ta=f.pc_MinimumTemperatureRootGrowth,ea=f.pc_NConcentrationAbovegroundBiomass,aa=0,ia=0,ra=f.pc_NConcentrationB0,oa=f.pc_NConcentrationPN,_a=f.pc_NConcentrationRoot,na=0,ca=0,sa=new Float64Array(C),pa=0,la=0,ua=0,fa=0,da=u.pc_NitrogenResponseOn,va=f.pc_NumberOfDevelopmentalStages,ga=f.pc_NumberOfOrgans,ma=f.pc_OptimumTemperature,Sa=new Float64Array(f.pc_NumberOfOrgans),ya=new Float64Array(f.pc_NumberOfOrgans),ha=new Float64Array(f.pc_NumberOfOrgans),Ma=new Float64Array(f.pc_NumberOfOrgans),Oa=f.pc_OrganGrowthRespiration,Ca=f.pc_OrganMaintenanceRespiration,Aa=new Float64Array(f.pc_NumberOfOrgans),Na=f.pc_OrganSenescenceRate,Da=0,wa=0,Pa=0,Ra=0,Fa=f.pc_PlantDensity,Ta=0,Ha=0,Ia=0,ba=0,xa=0,La=f.pc_ResidueNRatio,Ba=0,Ea=0,Ga=0,Ua=new Float64Array(C),ka=new Float64Array(C),Va=(f.pc_RootDistributionParam,new Float64Array(C)),Ya=f.pc_RootFormFactor,Wa=f.pc_RootGrowthLag,qa=f.pc_RootPenetrationRate,Ka=0,za=0,ja=0,Ja=0,Xa=new Float64Array(C),Za=0,Qa=0,$a=f.pc_SpecificLeafArea,ti=f.pc_SpecificRootLength,ei=f.pc_StageAtMaxDiameter,ai=f.pc_StageAtMaxHeight,ii=f.pc_StageKcFactor,ri=f.pc_StageMaxRootNConcentration,oi=f.pc_StageTemperatureSum,_i=0,ni=f.pc_StorageOrgan,ci=4,si=0,pi=0,li=1,ui=0,fi=0,di=0,vi=0,gi=0,mi=0,Si=0,yi=0,hi=0,Mi=new Float64Array(C),Oi=1,Ci=new Float64Array(C),Ai=0,Ni=0,Di=f.pc_VernalisationRequirement,wi=u.pc_WaterDeficitResponseOn,Pi=0,Ri=0,Fi=!1,Ti=0;C>Ti;Ti++)Ci[Ti]=1;fi=y.userCropParameters.pc_Tortuosity;for(var Hi=1;va-1>Hi;Hi++)hi+=oi[Hi];Ce=va-1;for(var Ii=0;ga>Ii;Ii++)Sa[Ii]=Be[Ii],1==T[Ii]&&(w+=Be[Ii]),di+=Be[Ii],1==ni[Ii]&&(ci=Ii),1==ni[Ii]&&(ci=Ii);Ea=Be[0],ke=Sa[1]*$a[fe],0>=ke&&(ke=.001),Ea=Sa[0],yi=1e5*Ea*100/7/(225e-6*R),vi=w*ea+Ea*_a,aa=ea,na=_a;var bi=_[0].vs_SoilSandContent,xi=_[0].vs_SoilBulkDensity();.55>bi&&(bi=.55),Za=Qa>0?Qa:bi*((1.1-bi)/.275)*(1.4/(xi/1e3)+xi*xi/4e7),Ze=(Za+2*ie)/3;var Li=function(t,e,a,i,r,o,n,c,s,p,l){Ri>0&&Ri--,Bi(o,A,i,r),wa=Ui(K[fe]),ki(t,E,ma,oi,li,_[0].get_Vs_SoilMoisture_m3(),_[0].get_FieldCapacity(),_[0].get_PermanentWiltingPoint(),va,Ni,ne,ee),ne=Ei(ce[fe],me,Ra,B[fe]);var u=Gi(t,li,Di[fe],Ai);Ni=u[0],Ai=u[1],Ia=oe/hi,Ue=0==fe?.4:Vi(fe,oi[fe],re[fe],Le,ii[fe],ii[fe-1]),fe>0&&(Yi(ze,Ke,ai,ei,oi,oe,Q,$),Wi(Ma[1],Aa[1],Z,j,$a[fe-1],$a[fe],$a[1],oi[fe],re[fe],Fa,li),Ja=qi(ke),Ki(t,e,a,we,p,A,ke,le,qe,$e,L,pe,W,me,Da),zi(e,a,oe),ji(Oi),Ji(),Xi(C,_.vs_LayerThickness(),fe,b,t),Ha=Zi(xe,e,a,n,t,c,s,we,p,Te),Qi(C,_.vs_LayerThickness(),Ja,ja,_.vm_GroundwaterTable,Ha,l,oe,hi),$i(C,_.vs_LayerThickness(),ja,_.vm_GroundwaterTable,oe,hi),Ie=tr(Re),fa=er(Ie,Si))},Bi=function(t,e,a,i){var r=0,o=0;pe=-23.4*d(2*R*((t+10)/365)),r=N(pe*R/180)*N(e*R/180),o=d(pe*R/180)*d(e*R/180),L=12*(R+2*l(r/o))/R;var _=(-N(8*R/180)+r)/o;me=-1>_||_>1?.01:12*(R+2*l(_))/R,Ra=12*(R+2*l((-N(-6*R/180)+r)/o))/R,Pa=3600*(r*L+24/R*o*D(1-r/o*(r/o))),W=650*Pa*v(-.14/(Pa/(3600*L))),Da=.2*W;var n=.082,c=1440/R*n*(1+.033*d(2*R*t/365)),s=p(-P(e*R/180)*P(pe*R/180));Oe=c*(s*r+o*N(s)),we=a>0?a:Oe*(.19+.55*i/L)},Ei=function(t,e,a,i){if(t>0)ne=(Ra-i)/(t-i);else if(0>t){var r=-t,o=-i;ne=r>=me?1:(me-o)/(r-o)}else ne=1;return ne>1&&(ne=1),0>ne&&(ne=0),ne},Gi=function(t,e,a,i){var r;if(0==a)Ni=1;else{r=t>-4&&0>=t?(t+4)/4:t>0&&3>=t?1:t>3&&7>=t?1-.2*(t-3)/4:t>7&&9>=t?.8-.4*(t-7)/2:t>9&&18>=t?.4-.4*(t-9)/9:-4>=t||t>18?0:1,i+=r*e;var o=M(a,9)-1;o>=1?(Ni=(i-o)/(a-o),0>Ni&&(Ni=0)):Ni=1}return[Ni,i]},Ui=function(t,e,a){var e=e||0,a=a||0;return e=(_[0].get_Saturation()+_[1].get_Saturation()+_[2].get_Saturation()-(_[0].get_Vs_SoilMoisture_m3()+_[1].get_Vs_SoilMoisture_m3()+_[2].get_Vs_SoilMoisture_m3()))/3,t>e?(ui+=m(li),ui>4&&(ui=4),0>e&&(e=0),a=e/t,wa=1-m(ui/4)*(1-a)):(ui=0,wa=1),wa>1&&(wa=1),wa},ki=function(t,e,a,i,r,n,c,s,p,l,u,f){var d,v=0,g=0,m=0,S=_[0].get_Vs_SoilTemperature();0==fe?S>e[fe]&&(d=c-s,1==ye&&1==Se?n>.2*d+s&&_.vs_SurfaceWaterStorage<.001&&(re[fe]+=(S-e[fe])*r,re[fe]>=i[fe]&&fe++):1==ye&&0==Se?n>.2*d+s&&(re[fe]+=(S-e[fe])*r,re[fe]>=i[fe]&&fe++):0==ye&&1==Se?_.vs_SurfaceWaterStorage<.001&&(re[fe]+=(S-e[fe])*r,re[fe]>=i[fe]&&fe++):(re[fe]+=(S-e[fe])*r,re[fe]>=i[fe]&&fe++)):fe>0?(v=1==ue&&I[fe][ci]>.9?1+(1-f)*(1-f):1,g=Oi<ge[fe]&&I[fe][ci]>.9?1>wa?1:1+(1-Oi)*(1-Oi):1,m=h(v,g),t>e[fe]&&(t>a[fe]&&(t=a[fe]),re[fe]+=(t-e[fe])*l*u*m*r,oe+=(t-e[fe])*l*u*m*r),re[fe]>=i[fe]&&p-1>fe&&fe++):J(o.WARN,"irregular developmental stage")},Vi=function(t,e,a,i,r,o){var _,n=a/e;return n>1&&(n=1),_=0==t?i+(r-i)*n:o+(r-o)*n},Yi=function(t,e,a,i,r,o,_,n){for(var c=0,s=1;a+1>s;s++)c+=r[s];for(var p=0,s=1;i+1>s;s++)p+=r[s];var l=o/c;l>1&&(l=1);var u=o/p;u>1&&(u=1),Z=l>0?t/(1+v(-_*(l-n))):0,j=u>0?e*u:0},Wi=function(t,e,a,i,r,o,_,n,c,s,p){ke+=t*(r+c/n*(o-r))*p-e*_*p,0>=ke&&(ke=.001),Pe=ke+a*R*i*s},qi=function(t){return Ja=1-v(-.5*t)},Ki=function(t,e,a,i,r,o,_,n,c,s,p,l,u,d,g){var m=0,h=0,C=0,A=0,D=0,w=0,P=0,F=0,T=0,H=0,I=0,L=0,B=0,E=0,G=0,U=0,k=0,W=0,q=0,K=0,z=0,j=0,J=0,X=0,Z=0,Q=0,$=0,te=0,ee=0,ae=0,ie=0,re=0,oe=0,_e=0,ne=0,ce=0,se=0,pe=0,le=0,ue=0,de=0,ve=0,me=0,Se=0,ye=0,he=0,Me=0,Oe=0,Ce=0,Ae=0,Ne=0,De=0,we=0,Pe=0,Ie=0,xe=0,Le=0,Be=0,Ee=0,Ge=0,Ue=0,ke=y.userCropParameters,Ve=ke.pc_ReferenceLeafAreaIndex,Ye=ke.pc_ReferenceMaxAssimilationRate,qe=ke.pc_MaintenanceRespirationParameter1,Ke=ke.pc_MaintenanceRespirationParameter2,ze=ke.pc_GrowthRespirationParameter1,je=ke.pc_GrowthRespirationParameter2,Je=ke.pc_CanopyReflectionCoefficient;3==V?(D=v(68800*(t+273-298)/(298*(t+273)*8.314))*O((t+273)/298,.5),w=v(65800*(t+273-298)/(298*(t+273)*8.314))*O((t+273)/298,.5),P=v(1400*(t+273-298)/(298*(t+273)*8.314))*O((t+273)/298,.5),F=c/34.668,T=Ye/34.668,H=98*F*D,I=98*T*D,L=460*w,B=330*P,E=210+(.047-.0013087*t+25603e-9*t*t-2.1441e-7*t*t*t)/.026934,G=.7*r*(1.674-.061294*t+.0011688*t*t-88741e-10*t*t*t)/.73547,m=.105*H*E/(H*B),h=.105*I*E/(I*B),C=M(.77/2.1*(G-m)/(4.5*G+10.5*m)*8.3769,.5),A=M(.77/2.1*(G-h)/(4.5*G+10.5*h)*8.3769,.5)):(C=n,A=n),1==Y?2==V?(s>t?(x=0,U=0):10>t?(x=c*t/10*.4,U=Ye*t/10*.4):15>t?(x=c*(.4+(t-10)/5*.5),U=Ye*(.4+(t-10)/5*.5)):25>t?(x=c*(.9+(t-15)/10*.1),U=Ye*(.9+(t-15)/10*.1)):35>t?(x=c*(1-(t-25)/10),U=Ye*(1-(t-25)/10)):(x=0,U=0),k=220+.158*(86400*i/1e6),W=80-.036*(86400*i/1e6),q=(r-W)/(k+r-W)/((350-W)/(k+350-W)),x*=q,U*=q):3==V&&(x=(G-m)*H/(G+L*(1+E/B))*1.656,U=(G-h)*I/(G+L*(1+E/B))*1.656,s>t&&(x=0,U=0)):s>t?(x=0,U=0):9>t?(x=c*t/10*.08,U=Ye*t/10*.08):14>t?(x=c*(.071+.03*(t-9)),U=Ye*(.071+.03*(t-9))):20>t?(x=c*(.221+.09*(t-14)),U=Ye*(.221+.09*(t-14))):24>t?(x=c*(.761+.04*(t-20)),U=Ye*(.761+.04*(t-20))):32>t?(x=c*(.921+.01*(t-24)),U=Ye*(.921+.01*(t-24))):38>t?(x=c,U=Ye):42>t?(x=c*(1-.01*(t-38)),U=Ye*(1-.01*(t-38))):45>t?(x=c*(.96-.04*(t-42)),U=Ye*(.96-.04*(t-42))):54>t?(x=c*(.84-.09*(t-45)),U=Ye*(.84-.09*(t-45))):(x=0,U=0),Ri>0&&(x=0,U=0),.1>x&&(x=.1),.1>U&&(U=.1),K=(1-Je)*C,z=(1-Je)*A,j=N((90+l-o)*R/180),J=S(1+.45*u/(3600*d)*K/(j*x)),X=S(1+.45*u/(3600*d)*z/(j*U)),Z=j*x*d*J/(1+J),Q=j*U*d*X/(1+X),$=S(1+.55*u/(3600*d)*K/((5-j)*x)),te=S(1+.55*u/(3600*d)*K/((5-j)*U)),ee=(5-j)*x*d*$/(1+$),ae=(5-j)*U*d*te/(1+te),ie=.95*(Z+ee)+20.5,re=.95*(Q+ae)+20.5,oe=ie*(1-v(-.8*_)),_e=re*(1-v(-.8*Ve)),ne=p*_*x,ce=p*Ve*U,se=ne>oe?oe*(1-v(-ne/oe)):ne*(1-v(-oe/ne)),pe=ce>_e?_e*(1-v(-ce/_e)):ce*(1-v(-_e/ce)),le=g/(3600*d)*K/(5*x),ue=5*x*d*le/(1+le),de=.9935*ue+1.1,ve=de*(1-v(-.8*_)),me=de*(1-v(-.8*Ve)),Se=ne>ve?ve*(1-v(-ne/ve)):ne*(1-v(-ve/ne)),ye=ce>me?me*(1-v(-ce/me)):ce*(1-v(-me/ce)),5>_?(Oe=se,Ce=Se):(Oe=ie,Ce=de),he=pe,Me=ye,De=(u-1e6*i*.5)/(.8*u),De>1&&(De=1),0>De&&(De=0),Ae=De*Ce+(1-De)*Oe,Ne=De*Me+(1-De)*he,Ie=1>wa?0:ge[fe],Ie>Oi&&(Ae=Ae),Fe=30*Ae/44,He=22414*Ae/38016e3,Te=22414*Ne/38016e3,b=30*Ae/44,b*=f.pc_FieldConditionModifier,Ie>Oi&&(b*=Oi),Re=b,xe=e-(e-a)/4,Le=a+(e-a)/4;for(var Xe=0,Ze=0;ga>Ze;Ze++)Xe+=(Sa[Ze]-ya[Ze])*Ca[Ze];var Qe=2-Ra/12;Be=Xe*O(2,qe*(xe-Ke))*(2-Qe),Ee=Xe*O(2,qe*(Le-Ke))*Qe,We=Be+Ee,b-=Be+Ee;for(var $e=0,Ze=0;ga>Ze;Ze++)$e+=(Sa[Ze]-ya[Ze])*Oa[Ze];b>0&&(Ge=$e*O(2,ze*(xe-je))*(2-Qe),b>Ge?b-=Ge:(Ge=b,b=0)),b>0&&(Ue=$e*O(2,ze*(xe-je))*Qe,b>Ue?b-=Ue:(Ue=b,b=0)),be=Ge+Ue,Si=Re-b,we=O(2,.1*t-2.5),Pe=0;for(var Ze=0;ga>Ze;Ze++)Pe+=(Sa[Ze]-ya[Ze])*Ca[Ze];pa=Pe*we>Fe?Fe:Pe*we,s>t&&(Fe=pa)},zi=function(t,e,a){var i=t-(t-e)/4,r=0,o=0;if(0==G&&0==he&&(gi=1),a>=G&&he>a){var _=1-(i-z)/(Ve-z);_>1&&(_=1),0>_&&(_=0),r=1/(1+(1/.015-1)*v(-1.4*se)),o=se>0?1/(1+(1/.015-1)*v(-1.4*(se-1))):0;var n=r-o;gi+=_*n,se+=1}a>=he&&X>gi&&(X=gi)},ji=function(t){if(0>t&&(t=0),t<ve*ge[fe]&&I[fe][ci]>0){var e=t/(ve*ge[fe]);de=1>wa?1:1-(1-e)*(1-e)}else de=1},Ji=function(){var t=0,e=0,a=0;q=oa*(1+ra*v(-.26*(w+U)/1e3))/100,pi=q*Ye,ia=aa,ca=na,.01>na?.005>=na?t=0:(e=(na-.005)/.005,t=1-D(1-e*e)):t=1,0==Ne?q>aa?Qe>=aa?ee=0:(a=(aa-Qe)/(q-Qe),ee=1-v(Qe-5*a)):ee=1:1==Ne?q>aa&&(Ae=q-aa,aa=q,ee=1):ee=1,0==da&&(ee=1)},Xi=function(t,e,a,i,r){var p=0,l=0,u=0,f=0,d=0,S=y.userCropParameters,h=S.pc_MaxCropNDemand;la=i,xa=0,F=w,w=0,k=U,U=0,di=0,vi+=1e4*_.vq_CropNUptake;for(var M=.3,O=0;ga>O;O++){if(f=I[a-1][O],d=I[a][O],1==ni[O]&&(f=f*X*de,d=d*X*de),re[a]/oi[a]>1)Ma[O]=0,Aa[O]=0;else{if(0>la)if(Sa[O],O==n){var C=M*la;s(C)<=Sa[O]?(J(o.INFO,"LEAF - Reducing organ biomass - default case ("+(Sa[O]+Ma[O])+")"),Ma[O]=C):(J(o.INFO,"LEAF - Not enough biomass for reduction - Reducing only what is available "),Ma[O]=-1*Sa[O])}else if(O==c){var C=M*la;s(C)<=Sa[O]?(Ma[O]=C,J(o.INFO,"SHOOT - Reducing organ biomass - default case ("+(Sa[O]+Ma[O])+")")):(J(o.INFO,"SHOOT - Not enough biomass for reduction - Reducing only what is available"),Ma[O]=-1*Sa[O])}else Ma[O]=0;else Ma[O]=la*(f+(d-f)*(re[a]/oi[a]))*ee;Aa[O]=(Sa[O]-ya[O])*(Na[a-1][O]+(Na[a][O]-Na[a-1][O])*(re[a]/oi[a]))}O!=ci?(Sa[O]+=Ma[O]*li-Aa[O]*li,Sa[ci]+=.35*Aa[O]):Sa[O]+=va>a?Ma[O]*li-Aa[O]*li+.3*(Aa[O-1]*li+Aa[O-2]*li+Aa[O-3]*li):Ma[O]*li-Aa[O]*li,ya[O]+=Aa[O]*li,ha[O]=Sa[O]-ya[O],ha[O]<0&&(ya[O]=Sa[O],ha[O]=0),1==T[O]?w+=Sa[O]:0==T[O]&&O>0&&(U+=Sa[O]),di+=Sa[O]}xa=0,Ga=Ea,Ea=Sa[0],p=a>0?ri[a-1]-(ri[a-1]-ri[a])*re[a]/oi[a]:ri[a],te=(pi*w+Ea*p+pi*U/La-vi)*li,l=((pi-.15*(pi-q))*w+(pi-.15*(pi-q))*U/La+Ea*p-vi)*li,te>h*li&&(te=h*li),0>te&&(te=0),u=Ga>Ea?(Ga-Ea)*na:0,Oi<.95*ge[a]&&za>.95*Ze&&va-1>a&&(Ze+=.005),Ze>t*e&&(Ze=t*e);var A=ta+20,N=0;N=r>=A?A-ta:r-ta,0>N&&(N=0),_e+=N;var D=0;D=_[Ka].vs_SoilClayContent<=.02?.5*qa:_[Ka].vs_SoilClayContent<=.08?(1/3+.5/.06*_[Ka].vs_SoilClayContent)*qa:qa,Wa>=_e?za=Ee:za+=N*D,Ee>=za&&(za=Ee),za>Ze&&(za=Ze),za>je&&(za=je),Ka=m(g(.5+za/e)),Ka>t&&(Ka=t),ja=m(g(.5+1.3*za/e)),ja>t&&(ja=t),yi=Ea*ti;for(var P=new Array(t),R=0;t>R;R++)P[R]=Ka>R?v(-Ya*R*e):ja>R?v(-Ya*R*e)*(1-m((R-Ka)/(ja-Ka))):0;for(var H=0,R=0;ja>R;R++)H+=P[R];for(var R=0;ja>R;R++)Ua[R]=P[R]/H*yi;for(var R=0;ja>R;R++)ka[R]=0==T[3]?1e-4:2e-4-1e-5*(R+1),De[R]+=u*Ua[R]*10/yi;Je=Xe-oe/hi,te/1e4>yi*Je*li?te=yi*Je*li:te/=1e4},Zi=function(t,e,a,i,r,o,_,n,c,s){var p,l,u,f,d,g,m,h,M,C,A,N,w,P=y.userCropParameters,R=P.pc_SaturationBeta,F=P.pc_StomataConductanceAlpha,T=P.pc_ReferenceAlbedo;p=101.3*O((293-.0065*t)/293,5.26),l=665e-6*p,u=.6108*v(17.27*e/(237.3+e)),f=.6108*v(17.27*a/(237.3+a)),d=(u+f)/2,g=0>=i?f:i*d,m=d-g,h=2503.0584*v(17.27*r/(r+237.3))/((r+237.3)*(r+237.3)),M=o*(4.87/S(67.8*_-5.42)),C=208/M,_i=0>=s?999999.9:c*(1+m/R)/(F*s),A=_i/1.44;var H=(.75+2e-5*t)*Oe,I=n/H,b=(1-T)*n,x=4.9e-9;return w=b-x*(O(a+273.16,4)+O(e+273.16,4))/2*(1.35*I-.35)*(.34-.14*D(g)),N=(.408*h*w+l*(900/(r+273))*M*m)/(h+l*(1+A/C))},Qi=function(t,e,a,i,r,o,n){i=m(i),r=m(r);var c=0;Ta=0;var s=0,p=0;H=0;var l=0,u=0,f=0,d=0,v=0;ba=0;for(var g=0;t>g;g++)Mi[g]=0,Ci[g]=0,Va[g]=0;var S=Ge;if(v=2.5*Z*a-Ge,0>v&&(v=0),0>=n&&(v=0),v>=n?(v=n,ua=0):ua=n-v,Ge=S+v,s=o*Ue,s>6.5&&(s=6.5),ba=s,Ge>0?ba>=Ge?(ba-=Ge,Me=Ge,Ge=0):(Ge-=ba,Me=ba,ba=0):Me=0,Ce>fe){Ta=ba*a;for(var g=0;i>g;g++){var y=_[g].get_FieldCapacity()-_[g].get_PermanentWiltingPoint(),O=(_[g].get_Vs_SoilMoisture_m3()-_[g].get_PermanentWiltingPoint())/y;0>O&&(O=0),.15>O?(Ci[g]=3*O,Va[g]=.15+.45*O/.15):.3>O?(Ci[g]=.45+.25*(O-.15)/.15,Va[g]=.6+.2*(O-.15)/.15):.5>O?(Ci[g]=.7+.275*(O-.3)/.2,Va[g]=.8+.2*(O-.3)/.2):.75>O?(Ci[g]=.975+.025*(O-.5)/.25,Va[g]=1):(Ci[g]=1,Va[g]=1),Ci[g]<0&&(Ci[g]=0),Va[g]<0&&(Va[g]=0),g==r&&(Va[g]=.5),g>r&&(Va[g]=0),(g+1)*e>=je&&(Va[g]=0),f+=Va[g]*Ua[g],l=f}for(var g=0;t>g;g++)Mi[g]=g>M(i,r+1)?0:Ta*(Va[g]*Ua[g]/f)*wa;for(var g=0;g<M(i,r+1);g++){if(l-=Va[g]*Ua[g],0>=l&&(l=1e-5),Mi[g]/1e3/e>_[g].get_Vs_SoilMoisture_m3()-_[g].get_PermanentWiltingPoint()?(c=(Mi[g]/1e3/e-(_[g].get_Vs_SoilMoisture_m3()-_[g].get_PermanentWiltingPoint()))*e*1e3,0>c&&(c=0),c>Mi[g]&&(c=Mi[g])):c=0,p=Mi[g]*(1-Ci[g]),d=h(p,c),d>0&&g<M(i,r+1))for(var C=g+1;C<M(i,r+1);C++)Mi[C]+=d*(Va[C]*Ua[C]/l);Mi[g]=Mi[g]-d,Mi[g]<0&&(Mi[g]=0),H+=Mi[g],g==r&&(u=Mi[g]/1e3/e)}Oi=Ta>0?H/Ta:1;var A=m(r-Ka);1>=A&&(Oi=1),0==wi&&(Oi=1)}},$i=function(t,e,a,i){a=m(a),i=m(i);for(var r=0,o=0,n=[],c=[],s=[],p=0;t>p;p++)n[p]=0,c[p]=0,s[p]=0;var l=0,u=0,f=y.userCropParameters,d=f.pc_MinimumAvailableN,g=f.pc_MinimumNConcentrationRoot,S=f.pc_MaxCropNDemand;mi=0;for(var h=0;t>h;h++)sa[h]=0;if(Ce>fe){for(var h=0;h<M(a,i);h++)Xa[h]=_[h].vs_SoilNO3,n[h]=Mi[h]/1e3*(Xa[h]/_[h].get_Vs_SoilMoisture_m3())*li,r+=n[h],c[h]=214e-6*fi*v(10*_[h].get_Vs_SoilMoisture_m3())/_[h].get_Vs_SoilMoisture_m3(),s[h]=c[h]*_[h].get_Vs_SoilMoisture_m3()*2*R*ka[h]*(Xa[h]/1e3/_[h].get_Vs_SoilMoisture_m3()-14e-6)*D(R*Ua[h])*Ua[h]*1e3*li,s[h]<0&&(s[h]=0),o+=s[h];for(var h=0;h<M(a,i);h++)te>0?(sa[h]=r>=te?te*n[h]/r:o>te-r?n[h]+(te-r)*s[h]/o:n[h]+s[h],l+=n[h],u+=s[h],sa[h]>Xa[h]*e-d&&(sa[h]=Xa[h]*e-d),sa[h]>S/1e4*.75&&(sa[h]=S/1e4*.75),sa[h]<0&&(sa[h]=0)):sa[h]=0,mi+=1e4*sa[h]}si+=mi,Ea>Ga&&(na=(Ga*na+(Ea-Ga)/(w-F+U-k+Ea-Ga)*mi)/Ea,na=M(na,ri[fe]),g>na&&(na=g)),aa=(vi+mi-Ea*na)/(w+U/La),F*ia>aa*w&&(aa=F*ia/w,na=(vi+mi-w*aa-aa/La*U)/Ea)},tr=function(t){var e=0;return e=t/30*12},er=function(t,e){var a=0;return Ba=e/30*12,a=t-Ba},ar=function(t){return Ma[t]},ir=function(t){return Mi[t]},rr=function(t){return Sa[t]},or=function(t){return sa[t]},_r=function(){return w*aa},nr=function(t,e){for(var a=0,i=0,r=t.length;r>i;i++)a+=e[t[i].organId-1]*t[i].yieldPercentage;return a},cr=function(t,e){for(var a=0,i=0,r=t.length;r>i;i++)a+=e[t[i].organId-1]*t[i].yieldPercentage/t[i].yieldDryMatter;return a},sr=function(){return 0===f.organIdsForPrimaryYield.length?nr(f.organIdsForCutting,Sa):nr(f.organIdsForPrimaryYield,Sa)},pr=function(){return nr(f.organIdsForSecondaryYield,Sa)},lr=function(){return 0===f.organIdsForPrimaryYield.length?cr(f.organIdsForCutting,Sa):cr(f.organIdsForPrimaryYield,Sa)},ur=function(){return cr(f.organIdsForSecondaryYield,Sa)},fr=function(t){return di-rr(0)-sr()-(t?pr():0)},dr=function(){return(vi-rr(0)*Nr())/(sr()/La+(di-rr(0)-sr()))},vr=function(){return(vi-rr(0)*Nr())/(sr()+La*(di-rr(0)-sr()))},gr=function(t){return fr(t)*dr()},mr=function(){return sr()*vr()},Sr=function(){return 6.25*vr()},yr=function(){return pr()*dr()},hr=function(){return 1e4*te},Mr=function(){return Si/30*12},Or=function(t){var e=So(),a=rr(t)/e;return Mr()*a},Cr=function(t){var e=So(),a=rr(t)/e;return fo()*a},Ar=function(t){Pi+=t},Nr=function(){return na},Dr=function(){for(var t=0;C>t;t++)if(0==Va[t])return(t+1)/10;return(C+1)/10},wr=function(){return ae},Pr=function(){return He},Rr=function(){return Fe},Fr=function(){return x},Tr=function(){return b},Hr=function(){return pa},Ir=function(){return We},br=function(){return be},xr=function(){return Ni},Lr=function(){return ne},Br=function(){return la},Er=function(){return Ha},Gr=function(){return ba},Ur=function(){return Me},kr=function(){return ua},Vr=function(){return ke},Yr=function(){return Z},Wr=function(){return Ka},qr=function(){return Ja},Kr=function(){return Ue},zr=function(){return _i},jr=function(){return Ta},Jr=function(){return H},Xr=function(){return Oi},Zr=function(){return wa},Qr=function(){return ee},$r=function(){return X},to=function(){return oe},eo=function(){return fe},ao=function(){return Ia},io=function(){return w},ro=function(){return vi},oo=function(){return pi},_o=function(){return q},no=function(){return aa},co=function(){return f.pc_HeatSumIrrigationStart},so=function(){return f.pc_HeatSumIrrigationEnd},po=function(){return si},lo=function(){return mi},uo=function(){return Ie},fo=function(){return fa},vo=function(){return Pi},go=function(){return Fi},mo=function(){return ga},So=function(){return di},yo=function(){return 1};return{step:Li,accumulateEvapotranspiration:Ar,isDying:go,totalBiomass:So,getEffectiveRootingDepth:Dr,get_AbovegroundBiomass:io,get_AbovegroundBiomassNConcentration:no,get_AbovegroundBiomassNContent:_r,get_AccumulatedETa:vo,get_ActNUptake:lo,get_ActualTranspiration:Jr,get_Assimilates:Tr,get_AssimilationRate:Fr,get_AutotrophicRespiration:Mr,get_CriticalNConcentration:_o,get_CropHeight:Yr,get_CropNRedux:Qr,get_CropName:wr,get_CurrentTemperatureSum:to,get_DaylengthFactor:Lr,get_DevelopmentalStage:eo,get_EvaporatedFromIntercept:Ur,get_FreshPrimaryCropYield:lr,get_FreshSecondaryCropYield:ur,get_GrossPhotosynthesisHaRate:Rr,get_GrossPhotosynthesisRate:Pr,get_GrossPrimaryProduction:uo,get_GrowthRespirationAS:br,get_HeatStressRedux:$r,get_HeatSumIrrigationEnd:so,get_HeatSumIrrigationStart:co,get_KcFactor:Kr,get_LeafAreaIndex:Vr,get_MaintenanceRespirationAS:Ir,get_NUptakeFromLayer:or,get_NetMaintenanceRespiration:Hr,get_NetPhotosynthesis:Br,get_NetPrecipitation:kr,get_NetPrimaryProduction:fo,get_NumberOfOrgans:mo,get_OrganBiomass:rr,get_OrganGrowthIncrement:ar,get_OrganSpecificNPP:Cr,get_OrganSpecificTotalRespired:Or,get_OxygenDeficit:Zr,get_PotNUptake:hr,get_PotentialTranspiration:jr,get_PrimaryCropYield:sr,get_PrimaryYieldNConcentration:vr,get_PrimaryYieldNContent:mr,get_RawProteinConcentration:Sr,get_ReferenceEvapotranspiration:Er,get_RelativeTotalDevelopment:ao,get_RemainingEvapotranspiration:Gr,get_ResidueBiomass:fr,get_ResiduesNConcentration:dr,get_ResiduesNContent:gr,get_RootNConcentration:Nr,get_RootingDepth:Wr,get_SecondaryCropYield:pr,get_SecondaryYieldNContent:yr,get_SoilCoverage:qr,get_StomataResistance:zr,get_SumTotalNUptake:po,get_TargetNConcentration:oo,get_TotalBiomassNContent:ro,get_Transpiration:ir,get_TranspirationDeficit:Xr,get_VernalisationFactor:xr,get_numberOfSpecies:yo}},Oe=function(t,e,a){this.mixture=null,this._seedDate=t,this._harvestDates=e;for(var i=(new Date(1/0),new Date(1/0),function(t){var e=this;if(this.isLegume=!1,this.isC4=!1,this.type="generic grass",this.cons={index:0,f_cover:1,h_m:.5,L_half:2,"σ":20,d_r_h:.15,d_r_mx:.4,"δ_ndf_live_l_1":.8,"δ_ndf_live_l_2":.5,"δ_ndf_live_l_3":.3,"δ_ndf_dead_l":.2,"δ_ndf_live_s_1":.7,"δ_ndf_live_s_2":.4,"δ_ndf_live_s_3":.3,"δ_ndf_dead_s":.2,"δ_nfc":1,T_mn_high:5,T_mn_low:0,T_mx_high:35,T_mx_low:30,T_sum_low:100,T_sum_high:100,photo:{T_ref:20,T_mn:3,T_opt_Pm_amb:23,"ξ":.8,"α_amb_15":.05,k:.5,P_m_ref:16,"λ":1.2,f_C_m:1.49,"γ_Pm":10,"λ_α":.02,"γ_α":6},resp:{m_ref:.025,T_ref:20,T_m_mn:3,"λ_N_up":.6,"λ_N_fix":6},part:{"ρ_shoot_ref":.75,"ρ_l_max":.7,GDD_flower:500},N_leaf:{opt:.04/.45,max:.045/.45,ref:.04/.45},"τ_veg":200,fAsh_dm_l_ref:.09,fAsh_dm_s_ref:.04,fAsh_dm_r_ref:.04,fH2O_fm_l_ref:.8,fH2O_fm_s_ref:.7},this.vars={GDD:0,"Ω_N":1,"Ω_water":1,"τ_T_low":1,"τ_T_high":1,"ζ_T_low":0,"ζ_T_high":0,R_m:0,R_N:0,G:0,G_leaf:0,G_stem:0,G_root:0,Y:.75,Y_leaf:.75,Y_stem:.75,Y_root:.75,d_r:1,"τ":0,k_sum:0,N_up:0,N_fix:0,N_avail:0,N_assim:0,N_req:0,N_remob:0,N_add:0,"ρ_shoot":.7,"ρ_root":.3,"ρ_l":.7,G_l_fC_om:{sc:0,nc:0,pn:0},G_s_fC_om:{sc:0,nc:0,pn:0},G_r_fC_om:{sc:0,nc:0,pn:0},SC:{live_l_1:0,live_l_2:0,live_l_3:0,dead_l:0,live_s_1:0,live_s_2:0,live_s_3:0,dead_s:0,r:0},dSC:{live_l_1:0,live_l_2:0,live_l_3:0,dead_l:0,live_s_1:0,live_s_2:0,live_s_3:0,dead_s:0,r:0},NC:{l:0,dead_l:0,s:0,dead_s:0,r:0},dNC:{l:0,dead_l:0,s:0,dead_s:0,r:0},PN:{l:0,dead_l:0,s:0,dead_s:0,r:0},dPN:{l:0,dead_l:0,s:0,dead_s:0,r:0},AH:{l:0,dead_l:0,s:0,dead_s:0,r:0},dAH:{l:0,dead_l:0,s:0,dead_s:0,r:0},"Λ_litter":{sc:0,pn:0,nc:0},"Λ_r":{sc:0,pn:0,nc:0}},t&&t.type)switch(t.type){case"white clover":this.isLegume=!0,this.type="white clover",this.cons.h_m=.5,this.cons.L_half=2,this.cons.σ=36.8,this.cons.photo.T_ref=20,this.cons.photo.T_mn=3,this.cons.photo.T_opt_Pm_amb=23,this.cons.photo.ξ=.8,this.cons.photo.k=.8,this.cons.photo.m=0,this.cons.photo.α_amb_15=.05,this.cons.photo.P_m_ref=16,this.cons.photo.λ=1.2,this.cons.photo.f_C_m=1.49,this.cons.photo.γ_Pm=10,this.cons.photo.λ_α=.02,this.cons.photo.γ_α=6,this.cons.part.ρ_shoot_ref=.71,this.cons.part.ρ_l=.33;break;case"red clover":this.isLegume=!0,this.type="red clover",this.cons.h_m=.3,this.cons.L_half=2,this.cons.σ=24,this.cons.photo.T_ref=25,this.cons.photo.T_mn=3,this.cons.photo.T_opt_Pm_amb=25,this.cons.photo.ξ=.8,this.cons.photo.k=1,this.cons.photo.m=0,this.cons.photo.α_amb_15=.05,this.cons.photo.P_m_ref=12.9,this.cons.photo.λ=1.2,this.cons.photo.f_C_m=1.49,this.cons.photo.γ_Pm=10,this.cons.photo.λ_α=.02,this.cons.photo.γ_α=6,this.cons.part.ρ_shoot_ref=.71,this.cons.part.ρ_l=.55;break;case"ryegrass":this.isLegume=!1,this.type="ryegrass",this.cons.h_m=.5,this.cons.L_half=2,this.cons.σ=25.8,this.cons.photo.T_ref=20,this.cons.photo.T_mn=3,this.cons.photo.T_opt_Pm_amb=23,this.cons.photo.ξ=.8,this.cons.photo.k=.5,this.cons.photo.m=0,this.cons.photo.α_amb_15=.05,this.cons.photo.P_m_ref=16,this.cons.photo.λ=1.2,this.cons.photo.f_C_m=1.49,this.cons.photo.γ_Pm=10,this.cons.photo.λ_α=.02,this.cons.photo.γ_α=6,this.cons.part.ρ_shoot_ref=.8,this.cons.part.ρ_l=.7}if(t&&(this.isLegume=t.isLegume||!1,this.isC4=t.isC4||!1,t.hasOwnProperty("constants"))){var a=t.constants;for(var i in a)a.hasOwnProperty(i)&&this.cons.hasOwnProperty(i)&&null!==a[i]&&(this.cons[i]=a[i])}this.fOM_pn=function(){var t=e.vars.PN;return(t.l+t.s+t.dead_l+t.dead_s)/q/e.DM_shoot()},this.δ_pn=function(t){return.956-34.3/t},this.OMD_shoot=function(){var t=e.cons,a=e.vars,i=e.vars.SC,r=e.vars.NC,o=e.vars.PN,_=e.δ_pn(1e3*this.fOM_pn()),n=i.live_l_1/Y,c=i.live_l_2/Y,s=i.live_l_3/Y,p=i.dead_l/Y,l=i.live_s_1/Y,u=i.live_s_2/Y,f=i.live_s_3/Y,d=i.dead_s/Y,v=(r.l+r.s+a.NC.dead_l+a.NC.dead_s)/W,g=(o.l+o.s+a.PN.dead_l+a.PN.dead_s)/q,m=t.δ_ndf_live_l_1*n+t.δ_ndf_live_l_2*c+t.δ_ndf_live_l_3*s+t.δ_ndf_dead_l*p+t.δ_ndf_live_s_1*l+t.δ_ndf_live_s_2*u+t.δ_ndf_live_s_3*f+t.δ_ndf_dead_s*d,S=t.δ_nfc*v,y=_*g;return(m+S+y)/(n+c+s+p+l+u+f+d+v+g)},this.NDFD_leaf=function(){var t=e.cons,a=e.vars.SC,i=a.live_l_1/Y,r=a.live_l_2/Y,o=a.live_l_3/Y,_=a.dead_l/Y,n=t.δ_ndf_live_l_1*i+t.δ_ndf_live_l_2*r+t.δ_ndf_live_l_3*o+t.δ_ndf_dead_l*_;return n/(i+r+o+_)},this.NDFD_stem=function(){var t=e.cons,a=e.vars.SC,i=a.live_s_1/Y,r=a.live_s_2/Y,o=a.live_s_3/Y,_=a.dead_s/Y,n=t.δ_ndf_live_s_1*i+t.δ_ndf_live_s_2*r+t.δ_ndf_live_s_3*o+t.δ_ndf_dead_s*_;return n/(i+r+o+_)},this.NDF_leaf=function(){var t=e.vars.SC;return 1e3*((t.live_l_1+t.live_l_2+t.live_l_3+t.dead_l)/Y)/e.DM_leaf()},this.NDF_stem=function(){var t=e.vars.SC;return 1e3*((t.live_s_1+t.live_s_2+t.live_s_3+t.dead_s)/Y)/e.DM_stem()},this.NFC_leaf=function(){var t=e.vars;return 1e3*((t.NC.l+t.NC.dead_l)/W)/e.DM_leaf()},this.NFC_stem=function(){var t=e.vars;return 1e3*((t.NC.s+t.NC.dead_s)/W)/e.DM_stem()},this.CP_leaf=function(){var t=e.vars;return 1e3*((t.PN.l+t.PN.dead_l)/q)/e.DM_leaf()},this.CP_stem=function(){var t=e.vars;return 1e3*((t.PN.s+t.PN.dead_s)/q)/e.DM_stem()},this.CP_shoot=function(){var t=e.vars;return 1e3*((t.PN.l+t.PN.dead_l+t.PN.s+t.PN.dead_s)/q)/(e.DM_leaf()+e.DM_stem())},this.ASH_leaf=function(){var t=e.vars;return 1e3*t.AH.l/(e.DM_leaf()+t.AH.l)},this.ASH_stem=function(){var t=e.vars;return 1e3*t.AH.s/(e.DM_stem()+t.AH.s)},this.ASH_shoot=function(){var t=e.vars;return 1e3*(t.AH.l+t.AH.s)/(e.DM_leaf()+t.AH.l+e.DM_stem()+t.AH.s)},this.CF_shoot=function(){var t=e.vars.SC,a=1e3*((t.live_l_1+t.live_l_2+t.live_l_3+t.dead_l+t.live_s_1+t.live_s_2+t.live_s_3+t.dead_s)/Y/e.DM_shoot());return e.isLegume?69.58+.453*a:14.15+.512*a},this.C_root=function(){var t=e.vars;return t.SC.r+t.NC.r+t.PN.r},this.C_live_shoot=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return a.live_l_1+a.live_l_2+a.live_l_3+a.live_s_1+a.live_s_2+a.live_s_3+i.l+i.s+r.l+r.s},this.C_live_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return a.live_l_1+a.live_l_2+a.live_l_3+i.l+r.l},this.C_live_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return a.live_s_1+a.live_s_2+a.live_s_3+i.s+r.s},this.N_root=function(){return e.vars.PN.r*K/q},this.N_live_shoot=function(){var t=e.vars.PN;return(t.l+t.s)*K/q},this.N_live_leaf=function(){return e.vars.PN.l*K/q},this.N_live_stem=function(){return e.vars.PN.s*K/q},this.dDM_leaf=function(){var t=e.vars,a=t.dSC,i=t.dNC,r=t.dPN,o=t.dAH;return(a.live_l_1+a.live_l_2+a.live_l_3+a.dead_l)/Y+(i.l+i.dead_l)/W+(r.l+r.dead_l)/q+o.l},this.dDM_stem=function(){var t=e.vars,a=t.dSC,i=t.dNC,r=t.dPN,o=t.dAH;return(a.live_s_1+a.live_s_2+a.live_s_3+a.dead_s)/Y+(i.s+i.dead_s)/W+(r.s+r.dead_s)/q+o.s},this.dDM_root=function(){var t=e.vars,a=t.dSC,i=t.dNC,r=t.dPN,o=t.dAH;return a.r/Y+i.r/W+r.r/q+o.r},this.dDM_shoot=function(){return e.dDM_leaf()+e.dDM_stem()},this.DM_shoot=function(){return e.DM_leaf()+e.DM_stem()},this.DM_live_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_l_1+a.live_l_2+a.live_l_3)/Y+i.l/W+r.l/q+o.l},this.DM_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_l_1+a.live_l_2+a.live_l_3+a.dead_l)/Y+(i.l+i.dead_l)/W+(r.l+r.dead_l)/q+o.l+o.dead_l},this.DM_dead_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return a.dead_l/Y+i.dead_l/W+r.dead_l/q+o.dead_l},this.DM_live_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_s_1+a.live_s_2+a.live_s_3)/Y+i.s/W+r.s/q+o.s},this.DM_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_s_1+a.live_s_2+a.live_s_3+a.dead_s)/Y+(i.s+i.dead_s)/W+(r.s+r.dead_s)/q+o.s+o.dead_s},this.DM_dead_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return a.dead_s/Y+i.dead_s/W+r.dead_s/q+o.dead_s},this.DM_root=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return a.r/Y+i.r/W+r.r/q+o.r},this.L=function(){return e.cons.σ*e.DM_leaf()},this.h_=function(){var t=0,a=e.cons,i=1*e.L()/a.f_cover,r=a.h_m,o=a.L_half,_=.9,n=r*(2-_)/(2*o);return t=1/(2*_)*(n*i+r-D(O(n*i+r,2)-4*n*_*r*i))},this.h=function(){var t=0,a=e.cons,i=1*e.L()/a.f_cover,r=a.h_m,o=1,_=S((100*r-1)/(20*r-1))/o;return t=.01*r/(.01+(r-.01)*v(-_*i))},this.f_N_live_leaf=function(){return e.N_live_leaf()/e.C_live_leaf()},this.f_N_live_shoot=function(){return e.N_live_shoot()/e.C_live_shoot()},this.f_N_live=function(){return(e.N_live_shoot()+e.N_root())/(e.C_live_shoot()+e.C_root())}}),r=function(t,e){var a=Array.isArray(t)?t:[t],i=4,r=.7,o=1-r,_=.1,n=.1,c=[];if(e&&e.DM)c=e.DM;else for(var s=0,p=t.length;p>s;s++)c[s]=1/p;a.homogeneity=a.length>1?e.hasOwnProperty("homogeneity")?e.homogeneity:.75:1,e&&e.DM_shoot&&(n=1e-4*e.DM_shoot),e&&e.DM_root&&(_=.1);for(var s=0,p=t.length;p>s;s++){var t=a[s],l=t.vars.SC,u=t.vars.NC,d=t.vars.PN,v=t.vars.AH;t.cons.f_cover=c[s],l.live_l_1=r*(n*c[s]/i)*.5*Y,u.l+=r*(n*c[s]/i)*.25*W,d.l+=r*(n*c[s]/i)*.25*W,l.live_l_2=r*(n*c[s]/i)*.6*Y,u.l+=r*(n*c[s]/i)*.2*W,d.l+=r*(n*c[s]/i)*.2*q,l.live_l_3=r*(n*c[s]/i)*.7*Y,u.l+=r*(n*c[s]/i)*.15*W,d.l+=r*(n*c[s]/i)*.15*q,l.dead_l=r*(n*c[s]/i)*1*Y,u.l+=r*(n*c[s]/i)*0*Y,d.l+=r*(n*c[s]/i)*0*Y,v.l=r*n*c[s]*t.cons.fAsh_dm_l_ref,l.live_s_1=o*(n*c[s]/i)*.7*Y,u.s+=o*(n*c[s]/i)*.15*W,d.s+=o*(n*c[s]/i)*.15*W,l.live_s_2=o*(n*c[s]/i)*.8*Y,u.s+=o*(n*c[s]/i)*.1*W,d.s+=o*(n*c[s]/i)*.1*q,l.live_s_3=o*(n*c[s]/i)*.9*Y,u.s+=o*(n*c[s]/i)*.05*W,d.s+=o*(n*c[s]/i)*.05*q,l.dead_s=o*(n*c[s]/i)*1*Y,u.s+=o*(n*c[s]/i)*0*Y,d.s+=o*(n*c[s]/i)*0*Y,v.s=o*n*c[s]*t.cons.fAsh_dm_s_ref,l.r=_*c[s]*.8*Y,u.r+=_*c[s]*.1*Y,d.r+=_*c[s]*.1*Y,v.r=_*c[s]*t.cons.fAsh_dm_r_ref}return a.DM_dead_shoot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_dead_leaf()+this[e].DM_dead_stem();return t},a.DM_live_shoot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_live_leaf()+this[e].DM_live_stem();return t},a.DM_shoot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_leaf()+this[e].DM_stem();return t},a.DM_leaf=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_leaf();return t},a.DM_stem=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_stem();return t},a.DM_root=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_root();return t},a.dDM_leaf=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].dDM_leaf();return t},a.dDM_stem=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].dDM_stem();return t},a.dDM_root=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].dDM_root();return t},a.C_root=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].C_root();return t},a.f_N_live_leaf=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)t+=this[a].N_live_leaf(),e+=this[a].C_live_leaf();return t/e},a.f_N_live_leaf_DM=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)t+=this[a].N_live_leaf(),e+=this[a].DM_live_leaf();return t/e},a.f_N_live_stem_DM=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)t+=this[a].N_live_stem(),e+=this[a].DM_live_stem();return t/e},a.f_N_root_DM=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)t+=this[a].N_root(),e+=this[a].DM_root();return t/e},a.L_tot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].L();return t},a.h_mx=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)e=this[a].h(),t=e>t?e:t;return t},a.d_r_mx=function(){for(var t=0,e=0,a=this.length;a>e;e++)this[e].vars.d_r>t&&(t=this[e].vars.d_r);return t},a.δL=.1,a.n_L=function(){return g(this.L_tot()/this.δL)},a.n_start_p=function(t){for(var e=[],a=(this.L_tot(),this.h_mx()),i=0,r=this.length;r>i;i++)e[i]=1+f((1-this[i].h()/a)*t);return e},a.δL_p=function(t,e){for(var a=[],i=0,r=this.length;r>i;i++)a[i]=this[i].L()/(e-t[i]===0?t[i]:e-t[i]);return a
},a.δL_i=function(t,e,a){for(var i=[0],r=0,o=1;e>=o;o++){r=0;for(var _=0,n=this.length;n>_;_++)t[_]<=o&&(r+=a[_]);i[o]=r}return i},a.k_e_i=function(t,e,a){for(var i=[0],r=0,o=0,_=1;t>=_;_++){r=o=0;for(var n=0,c=this.length;c>n;n++)e[n]<=_&&(r+=this[n].cons.photo.k*a[n],o+=a[n]);i[_]=r/o}return i},a.Ω_water=function(){return this.avg("Ω_water")},a.Ω_N=function(){return this.avg("Ω_N")},a.τ_T_low=function(){return this.avg("τ_T_low")},a.τ_T_high=function(){return this.avg("τ_T_high")},a.avg=function(t,e){return this.reduce(function(a,i){return a+(void 0===e?i.vars[t]:i.vars[e][t])},0)/this.length},a.sum=function(t,e){return this.reduce(function(a,i){return a+(void 0===e?i.vars[t]:i.vars[e][t])},0)},a.f_r=[],a.f_r_sum=[],a.W_r=[],a.W_r_sum=[],a.N_up=[],a.N_up_sum=[],a.E_T=[],a.E_T_sum=[],a.f_g=0,a.isRegrowth=!1,a},o=[],_=[],n=0;n<a.length;n++)o.push(new i({type:a[n].type,constants:a[n].constants})),_.push(a[n].dryMatter),o[n].cons.index=n;this.mixture=new r(o,{DM:_}),this.seedDate=function(){return this._seedDate},this.harvestDate=function(){return new Date(1/0)},this.getCuttingDates=function(){return[]},this.name=function(){return"grassland"},this.isValid=function(){return!0},this.type="grassland"},Ce=function(t,e,a,r,s){"use strict";function p(t,e,i){for(var r=0;F>r;r++){var o=a[r],_=o.vars,n=o.cons,c=n.T_mn_high,s=n.T_mn_low,p=n.T_mx_high,l=n.T_mx_low,u=1,f=1;j&&(c>e?(u=s>=e?0:(e-s)/(c-s),_.τ_T_low*=u):(_.ζ_T_low+=t/n.T_sum_low,_.τ_T_low=M(1,_.τ_T_low+_.ζ_T_low),1===_.τ_T_low&&(_.ζ_T_low=0))),X&&(i>l?(f=i>=p?0:(i-l)/(p-l),_.τ_T_high*=f):(_.ζ_T_high+=h(0,25-t)/n.T_sum_high,_.τ_T_high=M(1,_.τ_T_high+_.ζ_T_high),1===_.τ_T_high&&(_.ζ_T_high=0)))}}function l(t,e,i,r,_,n,c){function s(t,e,a){a>=e/(2-e)&&(a=e/(2-e)-1e-10,J(o.WARN,"Adjusted f_C_m to "+a+" since f_C_m >= λ / (2 - λ)"));var i=1,r=380,_=a*(e*(a-1)-2*(a-e))/(O(e,2)*(a-1)-2*(a-e)),n=e*(a-_*e)/(2*r*(a-e));return i=1/(2*_)*(n*t+a-D(O(n*t+a,2)-4*_*n*a*t))}function p(t,e){return M(1,t/e)}function l(t,e,a,i,r,o,_,n,c){var p=0,l=2,u=o+a*(s(e,n,c)-1),f=((1+l)*u-i)/l;return r>u&&(r=u),t=_&&t>u?u:t,p=i>=t||t>=f?0:O((t-i)/(r-i),l)*(((1+l)*u-i-l*t)/((1+l)*u-i-l*r))}function u(t,e,a,i,r,o){var _=0,n=380,c=15+i*(s(e,r,o)-1);return _=c>t?1:1-a*(n/e)*(t-c)}function f(t,e){var a=0;return a=t>e?1:.5+.5*(t/e)}function d(t,e,a,i){var r=0;return r=1/(2*i)*(e*t+a-D(O(e*t+a,2)-4*i*e*t*a))}function g(t,e,i,r,o,_){for(var n=[],c=(a.δL,a.n_L()),v=a.n_start_p(c),g=a.δL_p(v,c),m=a.δL_i(v,c,g),S=a.k_e_i(c,v,g),y=[],h=[],M=[],O=[],C=[],A=[],N=t*o,D=e*o,w=t*(1-o),P=e*(1-o),R=0;F>R;R++){n[R]=0;var T=a[R],H=T.cons,I=H.photo,b=I.α_amb_15,x=I.P_m_ref,L=T.isC4,B=I.λ_α,E=I.γ_α,G=I.γ_Pm,U=I.T_mn,k=I.T_ref,V=I.T_opt_Pm_amb,Y=I.λ,W=I.f_C_m,q=T.N_live_leaf()/T.C_live_leaf(),K=H.N_leaf.ref;A[R]=I.k,C[R]=I.ξ,L?y[R]=a_mn[R]=b*s(_,Y,W)*f(q,K):(y[R]=b*s(_,Y,W)*u(i,_,B,E,Y,W)*f(q,K),h[R]=b*s(_,Y,W)*u(r,_,B,E,Y,W)*f(q,K)),M[R]=x*s(_,Y,W)*l(i,_,G,U,k,V,L,Y,W)*p(q,K),O[R]=x*s(_,Y,W)*l(r,_,G,U,k,V,L,Y,W)*p(q,K)}for(var z=0,j=0,J=0,X=0,Z=1,Q=0,$=1;c>=$;$++){for(var R=0;F>R;R++)v[R]<=$&&(z=A[R]*(N+w),j=A[R]*(D+P),J=A[R]*w,X=A[R]*P,n[R]+=d(z,y[R],M[R],C[R])*Z*g[R],n[R]+=d(j,h[R],O[R],C[R])*Z*g[R],n[R]+=d(J,y[R],M[R],C[R])*Q*g[R],n[R]+=d(X,h[R],O[R],C[R])*Q*g[R]);w*=1-S[$]*m[$],P*=1-S[$]*m[$],Z*=1-S[$]*m[$],Q=1-Z}return n}function m(t,e,i,r,o,_,n){for(var c=[],g=0;F>g;g++){c[g]=0;var m=a[g],S=m.cons,y=S.photo,h=y.α_amb_15,M=y.P_m_ref,O=y.k,C=m.isC4,A=y.ξ,N=y.λ_α,D=y.γ_α,w=y.γ_Pm,P=y.T_mn,R=y.T_ref,T=y.T_opt_Pm_amb,H=y.λ,I=y.f_C_m,b=m.f_N_live_leaf(),x=S.N_leaf.ref,L=m.L()*n,B=h*s(_,H,I)*f(b,x),E=h*s(_,H,I)*f(b,x);C||(B*=u(i,_,N,D,H,I),E=B*u(r,_,N,D,H,I));for(var G=M*s(_,H,I)*l(i,_,w,P,R,T,C,H,I)*p(b,x),U=M*s(_,H,I)*l(r,_,w,P,R,T,C,H,I)*p(b,x),k=.1,V=L/k,Y=1;V>=Y;Y++){var W=(2*Y-1)*k/2,q=O*t*(o+(1-o)*v(-O*W)),K=O*t*(1-o)*v(-O*W),z=O*e*(o+(1-o)*v(-O*W)),j=O*e*(1-o)*v(-O*W);c[g]+=d(q,B,G,A)*v(-O*W)*k,c[g]+=d(K,B,G,A)*(1-v(-O*W))*k,c[g]+=d(z,E,U,A)*v(-O*W)*k,c[g]+=d(j,E,U,A)*(1-v(-O*W))*k}}return c}var S=[],y=[],h=1===F?1:(1-a.homogeneity)/((1-a.homogeneity)/F),C=4/3*(r/_),A=.5*C,N=(i+t)/2,w=t;if(F>1){S=g(C,A,N,w,c,n),a.homogeneity<1&&(y=m(C,A,N,w,c,n,h));for(var P=0;F>P;P++){var R=a[P].vars,T=R.Ω_water*D(R.Ω_N)*R.τ_T_low*R.τ_T_high;a[P].vars.P_g_day=1.2e-8*(_/2)*S[P]*T*a.homogeneity,a.homogeneity<1&&(a[P].vars.P_g_day+=1.2e-8*(_/2)*y[P]*T/h*(1-a.homogeneity))}}else{y=m(C,A,N,w,c,n,h);var R=a[0].vars,T=R.Ω_water*D(R.Ω_N)*R.τ_T_low*R.τ_T_high;a[0].vars.P_g_day=1.2e-8*(_/2)*y[0]*T}}function u(t){function e(t,e,a,i){var o=0,_=f.resp.m_ref;return o=_*r(t)*(e/a)*i}function r(t){var e=1,a=f.resp.T_m_mn,i=f.resp.T_ref;return e=a>=t?0:(t-a)/(i-a)}function o(t,e){var a=0,i=f.resp.λ_N_up,r=f.resp.λ_N_fix;return a=i*t+r*e}for(var s=0,p=F;p>s;s++){{var l=a[s],u=l.vars,f=l.cons,d=(l.f_N_live_shoot(),u.P_g_day),v=(l.C_live_shoot()+l.C_root(),l.vars.N_avail,l.isC4,l.isLegume),g=l.C_live_leaf(),m=l.N_live_leaf(),S=l.C_live_stem(),y=l.N_live_stem();l.C_root(),l.N_root()}u.R_m=e(t,m/g,f.N_leaf.ref,g),u.R_m+=e(t,y/S,.5*f.N_leaf.ref,S),u.R_N=o(l.vars.N_up,l.vars.N_fix);var O=d-u.R_m-u.R_N;if(O>0){var C=u.ρ_l,N=1-C,P=f.part.ρ_shoot_ref*D(u.Ω_water*u.Ω_N),R=1-P,T=0,H=0,I=0,B=f.N_leaf.opt,E=f.N_leaf.max;u.ρ_shoot=P,u.ρ_root=R;var G={leaf:l.N_live_leaf()/l.C_live_leaf(),stem:l.N_live_stem()/l.C_live_stem(),root:l.N_root()/l.C_root()},U=[{organ:n,N:G.leaf/B},{organ:c,N:G.stem/(.5*B)},{organ:_,N:G.root/(.5*B)}];U.sort(function(t,e){return t.N-e.N});for(var k=w(a.N_up[s]),Y=0;3>Y;Y++){var W=0,z=0,j=0,J=0;if(U[Y].organ===n?(W=P*C,z=.5,J=B,j=E/K*q):U[Y].organ===c?(W=P*N,z=.7,J=.5*B,j=.5*E/K*q):U[Y].organ===_&&(W=R,z=.7,J=.5*B,j=.5*E/K*q),i&&z+j>1)throw new Error("f_sc + f_pn > 1");var X=1-(z+j),Z=1/(1+(1-b)/b*z+(1-x)/x*X+(1-L)/L*j),$=Z*O*W,te=$*j*K/q;if(!v&&te>k){var ee=j;if(j=k*(q/K)*L*(-z*b+z*x+b)/(b*(k*(q/K)*(L-x)+O*W*L*x)),z+=.8*(ee-j),j=k*(q/K)*L*(-z*b+z*x+b)/(b*(k*(q/K)*(L-x)+O*W*L*x)),X=1-(z+j),i&&z+j>1)throw Q("f_sc",z),Q("f_pn",j),Q("f_nc",X),new Error("x f_sc + f_pn > 1");if(Z=1/(1+(1-b)/b*z+(1-x)/x*X+(1-L)/L*j),$=Z*O*W,te=$*j*K/q,i&&A(10,te)!=A(10,k))throw new Error(te!=k);k=0}else v&&te>k?I+=te-k:k-=te;T+=0===te?J*$:M(J*$,te),H+=te,U[Y].organ===n?(u.Y_leaf=Z,u.G_leaf=$,u.G_l_fC_om.sc=z,u.G_l_fC_om.nc=X,u.G_l_fC_om.pn=j):U[Y].organ===c?(u.Y_stem=Z,u.G_stem=$,u.G_s_fC_om.sc=z,u.G_s_fC_om.nc=X,u.G_s_fC_om.pn=j):U[Y].organ===_&&(u.Y_root=Z,u.G_root=$,u.G_r_fC_om.sc=z,u.G_r_fC_om.nc=X,u.G_r_fC_om.pn=j)}u.Ω_N=V?M(1,H/T):1,u.N_assim=H,u.N_req=T,u.N_fix=I,u.G=u.G_leaf+u.G_stem+u.G_root,u.N_ass_add=0;for(var ae=.1,Y=0;3>Y;Y++)if(k>0)if(U[Y].organ===n&&G.leaf<B){var ie=ae*(B-G.leaf)*l.C_live_leaf(),re=M(ie,k),oe=re/K*q*1/L;oe>u.NC.l&&(re=u.NC.l*K*L/q,oe=u.NC.l),u.NC.l-=oe,u.PN.l+=re/K*q,k-=re,u.N_assim+=re,u.N_ass_add+=re}else if(U[Y].organ===c&&G.stem<.5*B){var ie=ae*(.5*B-G.stem)*l.C_live_stem(),re=M(ie,k),oe=re/K*q*1/L;oe>u.NC.s&&(re=u.NC.s*K*L/q,oe=u.NC.s),u.NC.s-=oe,u.PN.s+=re/K*q,k-=re,u.N_assim+=re,u.N_ass_add+=re}else if(U[Y].organ===_&&G.root<.5*B){var ie=ae*(.5*B-G.root)*l.C_root(),re=M(ie,k),oe=re/K*q*1/L;oe>u.NC.r&&(re=u.NC.r*K*L/q,oe=u.NC.r),u.NC.r-=oe,u.PN.r+=re/K*q,k-=re,u.N_assim+=re,u.N_ass_add+=re}}else{var _e=u.NC,ne=_e.l+_e.s+_e.r;ne>0&&(_e.l>0&&(_e.l=h(0,_e.l+O*_e.l/ne)),_e.s>0&&(_e.s=h(0,_e.s+O*_e.s/ne)),_e.r>0&&(_e.r=h(0,_e.r+O*_e.r/ne))),l.vars.Ω_N=1,l.vars.N_assim=0,l.vars.N_req=0,u.G=u.G=u.G_leaf=u.G_stem=u.G_root=0}}}function f(t){function e(t){var e=0,a=3,i=20,r=20,o=2;return r>i&&(r=i),a>=t?e=0:i>(t>a)?e=O((t-a)/(r-a),o)*(((1+o)*i-a-o*t)/((1+o)*i-a-o*r)):t>=i&&(e=O((i-a)/(r-a),o)*((i-a)/((1+o)*i-a-o*r))),e}for(var i=0,r=a.length;r>i;i++){var o=a[i],_=o.vars,n=o.cons,c=_.G_root,s=_.G_leaf,p=_.G_stem,l=_.SC,u=_.dSC,f=_.NC,d=_.dNC,v=_.PN,g=_.dPN,m=_.AH,S=_.dAH,y=_.Λ_r,h=_.Λ_litter,M=_.G_l_fC_om,C=_.G_s_fC_om,A=_.G_r_fC_om,N=s*(M.sc/Y+M.nc/W+M.pn/q),w=p*(C.sc/Y+C.nc/W+C.pn/q),P=c*(A.sc/Y+A.nc/W+A.pn/q),R=.05*e(t),F=.8*R,T=.02*e(t),H=.11,I=o.N_live_leaf()/o.C_live_leaf()<n.N_leaf.max?.5:0,b=o.N_live_stem()/o.C_live_stem()<.5*n.N_leaf.max?.5:0,x=o.N_root()/o.C_root()<.5*n.N_leaf.max?.5:0,L=.8,B=R*l.live_l_3/(l.live_l_1+l.live_l_2),E=F*l.live_s_3/(l.live_s_1+l.live_s_2);g.l=s*M.pn-v.l*B*(1-I),g.dead_l=v.l*B*(1-I)-H*v.dead_l,g.s=p*C.pn-v.s*E*(1-b),g.dead_s=v.s*E*(1-b)-H*v.dead_s,g.r=c*A.pn-(1-x)*T*v.r,d.l=s*M.nc-f.l*B*(1-L),d.dead_l=f.l*B*(1-L)-H*f.dead_l,d.s=p*C.nc-f.s*E*(1-L),d.dead_s=f.s*E*(1-L)-H*f.dead_s,d.r=c*A.nc-(1-L)*T*f.r,u.live_l_1=s*M.sc-2*R*l.live_l_1,u.live_l_2=2*R*l.live_l_1-R*l.live_l_2,u.live_l_3=R*l.live_l_2-R*l.live_l_3,u.dead_l=R*l.live_l_3-H*l.dead_l,u.live_s_1=p*C.sc-2*F*l.live_s_1,u.live_s_2=2*F*l.live_s_1-F*l.live_s_2,u.live_s_3=F*l.live_s_2-F*l.live_s_3,u.dead_s=F*l.live_s_3-H*l.dead_s,u.r=c*A.sc-T*l.r,y.pn+=(1-x)*T*v.r,y.nc+=(1-L)*T*f.r,y.sc+=T*l.r,h.sc+=H*(l.dead_l+l.dead_s),h.nc+=H*(f.dead_l+f.dead_s),h.pn+=H*(v.dead_l+v.dead_s),_.N_remob=(I*v.l*B+b*v.s*E+x*T*v.r)/q*K,S.l=D(_.Ω_water)*n.fAsh_dm_l_ref/(1-n.fAsh_dm_l_ref)*N,S.s=D(_.Ω_water)*n.fAsh_dm_s_ref/(1-n.fAsh_dm_s_ref)*w,S.r=D(_.Ω_water)*n.fAsh_dm_r_ref/(1-n.fAsh_dm_r_ref)*P,m.l+=S.l-H*m.l*l.dead_l/(l.live_l_1+l.live_l_2+l.live_l_3),m.s+=S.s-H*m.s*l.dead_s/(l.live_s_1+l.live_s_2+l.live_s_3),m.r+=S.r-T*m.r,l.live_l_1+=u.live_l_1,l.live_l_2+=u.live_l_2,l.live_l_3+=u.live_l_3,l.dead_l+=u.dead_l,f.l+=d.l,f.dead_l+=d.dead_l,v.l+=g.l,v.dead_l+=g.dead_l,l.live_s_1+=u.live_s_1,l.live_s_2+=u.live_s_2,l.live_s_3+=u.live_s_3,l.dead_s+=u.dead_s,f.s+=d.s,f.dead_s+=d.dead_s,v.s+=g.s,v.dead_s+=g.dead_s,l.r+=u.r,f.r+=d.r,v.r+=g.r}}function d(){for(var t=0;F>t;t++){var e=a[t].cons.part,i=a[t].vars;i.ρ_l=a.isRegrowth?h(.2,1-e.ρ_l_max+1*(2*e.ρ_l_max-1)/(1+v(10*(i.GDD/(3*e.GDD_flower)-.5)))):h(.2,1-e.ρ_l_max+1*(2*e.ρ_l_max-1)/(1+v(10*(i.GDD/(2*e.GDD_flower)-.5))))}}function g(){for(var t=3,e=0;F>e;e++){var i=a[e];i.vars.τ++,i.vars.k_sum=M(1,i.vars.τ/i.cons.τ_veg);var r=i.DM_root();i.vars.d_r=.05+(i.cons.d_r_mx-.05)*i.vars.k_sum,a.f_r_sum[e]=0;for(var o=0;T>o;o++){var _=E*o;_>i.vars.d_r?a.f_r[e][o]=0:(a.f_r[e][o]=1/(1+O(_/i.cons.d_r_h*(i.cons.d_r_mx/i.vars.d_r),t))-1/(1+O((_+E)/i.cons.d_r_h*(i.cons.d_r_mx/i.vars.d_r),t)),a.f_r_sum[e]+=a.f_r[e][o])}for(var o=0;T>o;o++)a.W_r[e][o]=r*a.f_r[e][o]/a.f_r_sum[e]}for(var o=0;T>o;o++){a.W_r_sum[o]=0;for(var e=0;F>e;e++)a.W_r_sum[o]+=a.W_r[e][o]}}function m(){for(var t=(a.d_r_mx(),0);T>t;t++){var e=P[t],i=e.get_SoilNO3()/e.vs_SoilBulkDensity(),r=200;a.N_up_sum[t]=M(e.get_SoilNO3()*E,r*i*a.W_r_sum[t])}for(var t=0;T>t;t++)for(var o=0;F>o;o++)a.N_up[o][t]=0===a.W_r_sum[t]?0:a.N_up_sum[t]*a.W_r[o][t]/a.W_r_sum[t]}function y(t,e,a,i,r,o,_,n,c){var s,p,l,u,f,d,g,m,y,h,M,C,A,N=R.userCropParameters,w=(N.pc_SaturationBeta,N.pc_StomataConductanceAlpha,N.pc_ReferenceAlbedo);s=101.3*O((293-.0065*G)/293,5.26),p=665e-6*s,l=.6108*v(17.27*e/(237.3+e)),u=.6108*v(17.27*a/(237.3+a)),f=(l+u)/2,d=0>=i?u:i*f,g=f-d,m=2503.0584*v(17.27*t/(t+237.3))/((t+237.3)*(t+237.3)),y=r*(4.87/S(67.8*o-5.42)),h=208/y;var P=1/.015;M=P/1.44;var F=(.75+2e-5*G)*c,T=_/F,H=(1-w)*_,I=4.9e-9;return A=H-I*(O(a+273.16,4)+O(e+273.16,4))/2*(1.35*T-.35)*(.34-.14*D(d)),C=(.408*m*A+p*(900/(t+273))*y*g)/(m+p*(1+M/h))}function C(t){var e=U,i=h(0,2.5*a.h_mx()*a.f_g-U);0>=t&&(i=0),i>=t?(i=t,Z=0):Z=t-i,U=e+i}function N(t){var e=[],r=[],o=a.L_tot(),_=[],n=[],c=[],s=[],p=[],l=[];a.f_g=1-v(-.5*o),t=a.f_g*t;for(var u=0;F>u;u++){e[u]=t*a[u].L()/o,r[u]=e[u];for(var f=0;T>f;f++)a.E_T[u][f]=0}for(var f=0;T>f;f++)_[f]=1e3*P[f].get_PermanentWiltingPoint()*E,n[f]=1e3*P[f].get_FieldCapacity()*E,c[f]=.8*n[f],s[f]=1e3*P[f].get_Saturation()*E,p[f]=1e3*P[f].get_Vs_SoilMoisture_m3()*E,l[f]=p[f]<_[f]?0:p[f]<c[f]?(p[f]-_[f])/(c[f]-_[f]):p[f]<n[f]?1:1-.5*(p[f]-n[f])/(s[f]-n[f]);a.sort(function(t,e){return t.vars.Ω_water-e.vars.Ω_water});for(var d=0,g=0;5>g;g++)for(var f=0;T>f;f++)for(var u=0;F>u;u++)if(d=a[u].cons.index,!(r[d]<=0||0===a.f_r[d][f]||p[f]<=_[f])){var m=M(p[f]-_[f],a.f_r[d][f]/a.f_r_sum[d]*l[f]*r[d]);if(a.E_T[d][f]+=m,p[f]-=m,r[d]-=m,i&&(p[f]<0||p[f]>s[f]))throw new Error("θ < 0 || θ > θ_sat")}if(a.sort(function(t,e){return t.cons.index-e.cons.index}),z)for(var u=0;F>u;u++)a.E_T_sum[u]=w(a.E_T[u]),a[u].vars.Ω_water=0===a.E_T_sum[u]?1:M(1,a.E_T_sum[u]/e[u]);else for(var u=0;F>u;u++)a[u].vars.Ω_water=1}for(var P=t,R=s,F=a.length,T=t.vs_NumberOfLayers(),B=t.vs_NumberOfOrganicLayers(),E=P.vs_LayerThickness(),G=(r.vs_Latitude,r.vs_HeightNN),U=0,k=0,V=e.pc_NitrogenResponseOn,z=e.pc_WaterDeficitResponseOn,j=e.pc_LowTemperatureStressResponseOn,X=e.pc_HighTemperatureStressResponseOn,Z=0,U=0,$=0,te=0,ae=0,ie=.4,re=0;F>re;re++){a.f_r[re]=[],a.W_r[re]=[],a.N_up[re]=[],a.E_T[re]=[],a.f_r_sum[re]=0;for(var oe=0;T>oe;oe++)a.f_r[re][oe]=0,a.W_r[re][oe]=0,a.N_up[re][oe]=0,a.E_T[re][oe]=0}for(var oe=0;T>oe;oe++)a.W_r_sum[oe]=0,a.N_up_sum[oe]=0;var _e=function(t,e,i,r,o,_,n,c,s,v,S,O,A,D,P){var R=r*I;g(),m(),$=y(t,e,i,n,c,s,r,v,D),C(S);var H=M(6.5,$*ie);te=H,U>0?te>=U?(te-=U,ae=U,U=0):(U-=te,ae=te,te=0):ae=0;var b=te;N(b),p(t,i,e),l(t,i,e,R,A,v,O),u(t);for(var x=0;F>x;x++){var L=a[x].vars,B=w(a.N_up[x]);L.N_up=L.N_assim;for(var E=0;T>E;E++)a.N_up[x][E]=L.N_up*a.N_up[x][E]/B;P?a[x].DM_leaf()/a[x].DM_stem()<.5?L.GDD=0:L.GDD+=h(0,t-5):(L.GDD=0,a.isRegrowth=!1)}f(t),d()},ne=function(t){return t===_?a.dDM_root()*H:t===c?a.dDM_stem()*H:t===n?a.dDM_leaf()*H:0},ce=function(t){for(var e=0,i=0;F>i;i++)e+=a.E_T[i][t];return e},se=function(t){return t===_?a.DM_root()*H:t===c?a.DM_stem()*H:t===n?a.DM_leaf()*H:0},pe=function(t){for(var e=0,i=0;F>i;i++)e+=a.N_up[i][t];return e},le=function(){return null},ue=function(){return null},fe=function(){return null},de=function(){return null},ve=function(){return null},ge=function(){return null},me=function(){return null},Se=function(){return null},ye=function(){return null},he=function(){return null},Me=function(){return null},Oe=function(){return null},Ce=function(){return null},Ae=function(){return null},Ne=function(){return null},De=function(){return null},we=function(t){k+=t},Pe=function(){return null},Re=function(){return a.d_r_mx()},Fe=function(){return"grassland"},Te=function(){return null},He=function(){return null},Ie=function(){return null},be=function(){return null},xe=function(){return null},Le=function(){return null},Be=function(){return null},Ee=function(){return 1},Ge=function(){return 1},Ue=function(){return null},ke=function(){return $},Ve=function(){return te},Ye=function(){return ae},We=function(){return Z},qe=function(){return a.L_tot()},Ke=function(){return a.h_mx()},ze=function(){return a.d_r_mx()},je=function(){return a.f_g},Je=function(){return ie},Xe=function(){return null},Ze=function(){return null},Qe=function(){return null},$e=function(){for(var t=a.DM_root()+a.DM_stem()+a.DM_leaf(),e=0,i=0;F>i;i++)e+=a[i].vars.Ω_water*(a[i].DM_root()+a[i].DM_stem()+a[i].DM_leaf())/t;return e},ta=function(){return null},ea=function(){if(1===F)return a[0].vars.Ω_N;for(var t=a.DM_root()+a.DM_stem()+a.DM_leaf(),e=0,i=0;F>i;i++)e+=a[i].vars.Ω_N*(a[i].DM_root()+a[i].DM_stem()+a[i].DM_leaf())/t;return e},aa=function(){return null},ia=function(){return null},ra=function(){return 1},oa=function(){return null},_a=function(){return a.DM_shoot()},na=function(){return null},ca=function(){return null},sa=function(){return null},pa=function(){return null},la=function(){return null},ua=function(){return null},fa=function(){return null},da=function(){for(var t=0,e=0;F>e;e++)for(var i=0;T>i;i++)t+=a.N_up[e][i];return t*H},va=function(){return null},ga=function(){return null},ma=function(){return null},Sa=function(){return!1},ya=function(){return 3},ha=function(){return a.DM_shoot()+a.DM_root()},Ma=function(){return F},Oa=function(){for(var t=0,e=0;F>e;e++)t+=a[e].vars.P_g_day;return t*H},Ca=function(){for(var t=0,e=0;F>e;e++)t+=a[e].vars.G;return t*H},Aa=function(){for(var t=0,e=0;F>e;e++)t+=a[e].vars.R_m;return t*H},Na=function(){return a.DM_dead_shoot()*H},Da=function(){return a.f_N_live_leaf()},wa=function(){return a.f_N_live_leaf_DM()},Pa=function(){return a.f_N_live_stem_DM()},Ra=function(){return a.f_N_root_DM()},Fa=function(t){for(var e=[],i=t||.1,r=a.DM_shoot(),o=0;F>o;o++){if(i>=r)e[o]=0;else{var _=a[o],n=_.vars,c=n.SC,s=n.NC,p=n.PN,l=n.AH,u=1-(r-i)/r;e[o]=H*(_.DM_leaf()*(1-u)+_.DM_stem()*(1-u)),c.live_l_1*=u,c.live_l_2*=u,c.live_l_3*=u,c.dead_l*=u,c.live_s_1*=u,c.live_s_2*=u,c.live_s_3*=u,c.dead_s*=u,s.l*=u,s.dead_l*=u,s.s*=u,s.dead_s*=u,p.l*=u,p.dead_l*=u,p.s*=u,p.dead_s*=u,l.l*=u,l.dead_l*=u,l.s*=u,l.dead_s*=u}a[o].vars.GDD=0}return a.isRegrowth=!0,e},Ta=function(t){for(var e=[],i=0;F>i;i++){var r=a[i],o=r.h();if(Q("h <= h_residues",t>=o),t>=o)e[i]=0;else{var _=r.vars,n=r.cons,c=_.SC,s=_.NC,p=_.PN,l=_.AH,u=n.h_m,f=1,d=S((100*u-1)/(20*u-1))/f,v=S((t-100*t*u)/(t-u))/d,g=r.L(),m=(r.DM_leaf()-(g-v)/n.σ)/r.DM_leaf(),y=t/o,h=r.DM_leaf()*(1-m),M=r.DM_stem()*(1-y);Q("h",o),Q("h_residues",t),Q("f_keep_l",m),Q("f_keep_s",y),Q("L_at_h_residues",v),e[i]=H*(h+M),c.live_l_1*=m,c.live_l_2*=m,c.live_l_3*=m,c.dead_l*=m,c.live_s_1*=y,c.live_s_2*=y,c.live_s_3*=y,c.dead_s*=y,s.l*=m,s.dead_l*=m,s.s*=y,s.dead_s*=y,p.l*=m,p.dead_l*=m,p.s*=y,p.dead_s*=y,l.l*=m,l.dead_l*=m,l.s*=y,l.dead_s*=y,a[i].vars.GDD=0}}return a.isRegrowth=!0,e},Ha=function(t){return void 0===t?a.h_mx():a[t].h()},Ia=function(t){return void 0===t?a.L_tot():a[t].L()},ba=function(t){return void 0===t?a.Ω_water():a[t].vars.Ω_water},xa=function(t){return void 0===t?a.Ω_N():a[t].vars.Ω_N},La=function(t){return void 0===t?a.τ_T_low():a[t].vars.τ_T_low},Ba=function(t){return void 0===t?a.τ_T_high():a[t].vars.τ_T_high},Ea=function(t){return(void 0===t?a.DM_leaf():a[t].DM_leaf())*H},Ga=function(t){return(void 0===t?a.DM_stem():a[t].DM_stem())*H},Ua=function(t){return(void 0===t?a.DM_root():a[t].DM_root())*H},ka=function(){for(var t=[],e=.1,i=0;B>i;i++){for(var r=new ee,o=0,_=0;F>_;_++){var n=a[_],c=n.vars,s=c.Λ_r,p=c.Λ_litter,l=a.f_r[_][i]/a.f_r_sum[_]/E;0===i&&(r.vo_AOM_Slow+=(p.sc+p.nc+p.pn)*e/E,o+=p.pn*e/q*K/E,p.sc*=1-e,p.nc*=1-e,p.pn*=1-e),r.vo_AOM_Slow+=(s.sc+s.nc+s.pn)*l,o+=s.pn/q*K*l}r.vo_CN_Ratio_AOM_Slow=0===r.vo_AOM_Slow?0:0===o?200:r.vo_AOM_Slow/o,t[i]=r}for(var _=0;F>_;_++){var s=a[_].vars.Λ_r;s.sc=s.nc=s.pn=0}return t},Va=function(){return a.reduce(function(t,e){return t+e.vars.AH.l},0)*H},Ya=function(){return a.reduce(function(t,e){return t+e.vars.SC.live_l_1},0)*H},Wa=function(){return a.reduce(function(t,e){return t+e.vars.SC.live_l_2},0)*H},qa=function(){return a.reduce(function(t,e){return t+e.vars.SC.live_l_3},0)*H},Ka=function(){return a.reduce(function(t,e){return t+e.vars.SC.dead_l},0)*H},za=function(){return a.reduce(function(t,e){return t+e.vars.SC.live_s_1},0)*H},ja=function(){return a.reduce(function(t,e){return t+e.vars.SC.live_s_2},0)*H},Ja=function(){return a.reduce(function(t,e){return t+e.vars.SC.live_s_3},0)*H},Xa=function(){return a.reduce(function(t,e){return t+e.vars.SC.dead_s},0)*H},Za=function(){return 1===F?a[0].OMD_shoot():0},Qa=function(){for(var t=0,e=a.DM_leaf(),i=0;F>i;i++)t+=a[i].DM_leaf()/e*a[i].NDFD_leaf();return t},$a=function(){for(var t=0,e=a.DM_stem(),i=0;F>i;i++)t+=a[i].DM_stem()/e*a[i].NDFD_stem();return t},ti=function(){for(var t=0,e=a.DM_leaf(),i=0;F>i;i++)t+=a[i].DM_leaf()/e*a[i].NDF_leaf();return t},ei=function(){for(var t=0,e=a.DM_stem(),i=0;F>i;i++)t+=a[i].DM_stem()/e*a[i].NDF_stem();return t},ai=function(){for(var t=0,e=a.DM_leaf(),i=0;F>i;i++)t+=a[i].DM_leaf()/e*a[i].NFC_leaf();return t},ii=function(){for(var t=0,e=a.DM_stem(),i=0;F>i;i++)t+=a[i].DM_stem()/e*a[i].NFC_stem();return t},ri=function(){for(var t=0,e=a.DM_leaf(),i=0;F>i;i++)t+=a[i].DM_leaf()/e*a[i].CP_leaf();return t},oi=function(){for(var t=0,e=a.DM_stem(),i=0;F>i;i++)t+=a[i].DM_stem()/e*a[i].CP_stem();return t},_i=function(){for(var t=0,e=a.DM_shoot(),i=0;F>i;i++)t+=a[i].DM_shoot()/e*a[i].CP_shoot();return t},ni=function(){for(var t=0,e=a.DM_leaf(),i=0;F>i;i++)t+=a[i].DM_leaf()/e*a[i].ASH_leaf();return t},ci=function(){for(var t=0,e=a.DM_stem(),i=0;F>i;i++)t+=a[i].DM_stem()/e*a[i].ASH_stem();return t},si=function(){for(var t=0,e=a.DM_shoot(),i=0;F>i;i++)t+=a[i].DM_shoot()/e*a[i].ASH_shoot();return t},pi=function(){for(var t=0,e=a.DM_shoot(),i=0;F>i;i++)t+=a[i].DM_shoot()/e*a[i].CF_shoot();return t},li=function(){for(var t=0,e=0;F>e;e++)t+=a[e].vars.N_ass_add;return t*H},ui=function(){for(var t=0,e=0;F>e;e++)t+=a[e].vars.N_assim;return t*H},fi=function(){for(var t=0,e=0;F>e;e++)t+=a[e].vars.N_up;return t*H},di=function(){for(var t=0,e=0;F>e;e++)t+=a[e].vars.N_remob;return t*H},vi=function(){for(var t=0,e=0,i=0;F>i;i++)t+=a[i].DM_leaf(),e+=a[i].DM_stem();return t/e},gi=function(t){return a[t].vars.ρ_l},mi=function(t){for(var e=0,i=0;F>i;i++)e+=a.W_r[i][t];return e};return{step:_e,layer_root_DM:mi,get_P_g:Oa,get_G:Ca,get_R_m:Aa,get_DM_dead_shoot:Na,get_f_N_live_leaf:Da,f_N_live_leaf_DM:wa,f_N_live_stem_DM:Pa,f_N_root_DM:Ra,removal_dm:Fa,removal_by_height:Ta,height:Ha,LAI:Ia,N_ass_add:li,N_assim:ui,N_up:fi,N_remob:di,leaf_stem_ratio:vi,"ρ_l":gi,DM_leaf:Ea,DM_stem:Ga,DM_root:Ua,ASH_l:Va,SC_live_l_1:Ya,SC_live_l_2:Wa,SC_live_l_3:qa,SC_dead_l:Ka,SC_live_s_1:za,SC_live_s_2:ja,SC_live_s_3:Ja,SC_dead_s:Xa,OMD_shoot:Za,NDFD_leaf:Qa,NDFD_stem:$a,NDF_leaf:ti,NDF_stem:ei,NFC_leaf:ai,NFC_stem:ii,CP_leaf:ri,CP_stem:oi,CP_shoot:_i,ASH_leaf:ni,ASH_stem:ci,ASH_shoot:si,CF_shoot:pi,GLF_water:ba,GLF_nitrogen:xa,GLF_lowTemperature:La,GLF_highTemperature:Ba,senescencedTissue:ka,accumulateEvapotranspiration:we,isDying:Sa,totalBiomass:ha,getEffectiveRootingDepth:Re,get_AbovegroundBiomass:_a,get_AbovegroundBiomassNConcentration:pa,get_AbovegroundBiomassNContent:le,get_AccumulatedETa:ma,get_ActNUptake:da,get_ActualTranspiration:Qe,get_Assimilates:be,get_AssimilationRate:Ie,get_AutotrophicRespiration:Ae,get_CriticalNConcentration:sa,get_CropHeight:Ke,get_CropNRedux:ea,get_CropName:Fe,get_CurrentTemperatureSum:ia,get_DaylengthFactor:Ge,get_DevelopmentalStage:ra,get_EvaporatedFromIntercept:Ye,get_FreshPrimaryCropYield:de,get_FreshSecondaryCropYield:ve,get_GrossPhotosynthesisHaRate:He,get_GrossPhotosynthesisRate:Te,get_GrossPrimaryProduction:va,get_GrowthRespirationAS:Be,get_HeatStressRedux:aa,get_HeatSumIrrigationEnd:ua,get_HeatSumIrrigationStart:la,get_KcFactor:Je,get_LeafAreaIndex:qe,get_MaintenanceRespirationAS:Le,get_NUptakeFromLayer:pe,get_NetMaintenanceRespiration:xe,get_NetPhotosynthesis:Ue,get_NetPrecipitation:We,get_NetPrimaryProduction:ga,get_NumberOfOrgans:ya,get_OrganBiomass:se,get_OrganGrowthIncrement:ne,get_OrganSpecificNPP:De,get_OrganSpecificTotalRespired:Ne,get_OxygenDeficit:ta,get_PotNUptake:Ce,get_PotentialTranspiration:Ze,get_PrimaryCropYield:ue,get_PrimaryYieldNConcentration:Se,get_PrimaryYieldNContent:he,get_RawProteinConcentration:Me,get_ReferenceEvapotranspiration:ke,get_RelativeTotalDevelopment:oa,get_RemainingEvapotranspiration:Ve,get_ResidueBiomass:ge,get_ResiduesNConcentration:me,get_ResiduesNContent:ye,get_RootNConcentration:Pe,get_RootingDepth:ze,get_SecondaryCropYield:fe,get_SecondaryYieldNContent:Oe,get_SoilCoverage:je,get_StomataResistance:Xe,get_SumTotalNUptake:fa,get_TargetNConcentration:ca,get_TotalBiomassNContent:na,get_Transpiration:ce,get_TranspirationDeficit:$e,get_VernalisationFactor:Ee,get_numberOfSpecies:Ma}},Ae=function(t,e){this.mode="MyMode",arguments[0]instanceof Ae?(Q("Copy constructor: Env	soil param size: "+env.soilParams.length),this.env=arguments[0],this.customId=env.customId,this.soilParams=env.soilParams,this.noOfLayers=env.noOfLayers,this.layerThickness=env.layerThickness,this.useNMinMineralFertilisingMethod=env.useNMinMineralFertilisingMethod,this.useAutomaticIrrigation=env.useAutomaticIrrigation,this.useSecondaryYields=env.useSecondaryYields,this.windSpeedHeight=env.windSpeedHeight,this.atmosphericCO2=env.atmosphericCO2,this.albedo=env.albedo,this.da=env.da,this.cropRotation=env.cropRotation,this.site=env.site,this.general=env.general,this.organic=env.organic,this.nMinFertiliserPartition=env.nMinFertiliserPartition,this.nMinUserParams=env.nMinUserParams,this.autoIrrigationParams=env.autoIrrigationParams,this.centralParameterProvider=env.centralParameterProvider,this.pathToOutputDir=env.pathToOutputDir,this.mode=env.mode):(this.soilParams=t,this.customId=-1,this.centralParameterProvider=e,this.pathToOutputDir=null,this.user_env=this.centralParameterProvider.userEnvironmentParameters,this.windSpeedHeight=this.user_env.p_WindSpeedHeight,this.atmosphericCO2=this.user_env.p_AthmosphericCO2,this.albedo=this.user_env.p_Albedo,this.noOfLayers=this.user_env.p_NumberOfLayers,this.layerThickness=this.user_env.p_LayerThickness,this.useNMinMineralFertilisingMethod=this.user_env.p_UseNMinMineralFertilisingMethod,this.useAutomaticIrrigation=this.user_env.p_UseAutomaticIrrigation,this.useSecondaryYields=this.user_env.p_UseSecondaryYields,this.cropRotation=null);this.getMode=function(){return mode},this.setCropRotation=function(t){this.cropRotation=t}},Ne=function(t){var e=[];return e.weather=t,e.run=function(t){var e=this.weather,a=e.noOfStepsPossible(),i=e.startDate(),r=i.toISOString().split("T")[0],_=i.isLeapYear(),n=n=i.getFullYear(),c=0,s=null,p=t.length,l=this.length,u=0,f=0,d=0,v=0,g=0,m=0,S=0,y=0,h=0,M=0,O=0,C=0,A=0,N=!1;for(c;a>c;c++){J(o.INFO,r+" / "+c),_=i.isLeapYear(),n=n=i.getFullYear(),u=e.julianDayForStep(c),f=e.dataForTimestep(j.TAVG,c),d=e.dataForTimestep(j.TMAX,c),v=e.dataForTimestep(j.TMIN,c),g=e.dataForTimestep(j.GLOBRAD,c),m=e.isAvailable(j.SUNHOURS)?e.dataForTimestep(j.SUNHOURS,c):-1,S=e.isAvailable(j.RELHUMID)?e.dataForTimestep(j.RELHUMID,c):-1,y=e.dataForTimestep(j.WIND,c),h=e.dataForTimestep(j.PRECIP,c),M=2,O=e.dataForTimestep(j.F_DIRECTRAD,c),C=e.dataForTimestep(j.DAYLENGTH,c)*T,A=e.dataForTimestep(j.EXRAD,c),c>4&&!N&&e.dataForTimestep(j.TAVG,c)>5&&e.dataForTimestep(j.TAVG,c-1)>5&&e.dataForTimestep(j.TAVG,c-2)>5&&e.dataForTimestep(j.TAVG,c-3)>5&&e.dataForTimestep(j.TAVG,c-4)>5?N=!0:c>4&&N&&e.dataForTimestep(j.TAVG,c)<5&&e.dataForTimestep(j.TAVG,c-1)<5&&e.dataForTimestep(j.TAVG,c-2)<5&&e.dataForTimestep(j.TAVG,c-3)<5&&e.dataForTimestep(j.TAVG,c-4)<5&&(N=!1);for(var D=0;l>D;D++)s=this[D],s.prodProcessStep(i),s.isCropPlanted()&&s.cropStep(u,f,d,v,g,m,S,y,h,M,O,C,A,N),s.generalStep(u,n,_,v,f,d,h,y,g,S);for(var w=0;p>w;w++)t[w](c,r,this);i.setDate(i.getDate()+1),r=i.toISOString().split("T")[0]}for(var w=0;p>w;w++)t[w](c,r,this,!0)},e},De=function(t){var e=this;this._currentCropGrowth=null,this.cropGrowth=function(){return e._currentCropGrowth},this.vw_AtmosphericCO2Concentration,this.vs_GroundwaterDepth;var a=t,i=new Pe(a.general,a.soilParams,a.centralParameterProvider),r=new be(i,this,a.centralParameterProvider),_=new He(i,a.site,this,a.centralParameterProvider),n=new Re(i,a.general,a.site,a.centralParameterProvider),c=new Ie(i,a.site,a.centralParameterProvider),s=0,p=0,l=0,u=(a.da,a.centralParameterProvider),f=u.userEnvironmentParameters,d=0,g=0,S=0,y=0,h=0,M=null,O=!1,C=0,A=t.cropRotation[C],D=A.start(),w=function(e){D.isValid()&&(J(o.INFO,"next app-date: "+D.toISOString().split("T")[0]),D.setHours(0,0,0,0)===e.setHours(0,0,0,0)&&(A.apply(D,this),J(o.INFO,"applied at: "+D.toISOString().split("T")[0]),D=A.nextDate(D),D.isValid()?D.isValid()&&J(o.INFO,"next app-date: "+D.toISOString().split("T")[0]):(Ae(),A.crop().reset(),C++,C<t.cropRotation.length&&(A=t.cropRotation[C],D=A.start(),J(o.INFO,"new valid next app-date: "+D.toISOString().split("T")[0])))))},P=function(a){if(0===t.cropRotation.length)return void J(o.ERROR,"rotation is empty");var i=t.da.startDate(),r=t.da.noOfStepsPossible();if(J(o.INFO,"next app-date: "+D.toISOString().split("T")[0]),!D.isValid())return void J(o.ERROR,"start of production-process: "+A.toString()+" is not valid");for(var _=0;r>_;_++){if(i.setDate(i.getDate()+1),J(o.INFO,i.toISOString().split("T")[0]),Ne(),e._currentCropGrowth&&e._currentCropGrowth.isDying()&&T(),D.setHours(0,0,0,0)===i.setHours(0,0,0,0)){A.apply(D,this),J(o.INFO,"applied at: "+D.toISOString().split("T")[0]);D=A.nextDate(D),!D.isValid()&&M instanceof he?(Ae(),A.crop().reset(),C++,C<t.cropRotation.length&&(A=t.cropRotation[C],D=A.start(),J(o.INFO,"new valid next app-date: "+D.toISOString().split("T")[0]))):D.isValid()&&J(o.INFO,"next app-date: "+D.toISOString().split("T")[0])}if(ge()&&E(_),a.length)for(var n=0,c=a.length;c>n;n++)a[n](_,i,this);B(_)}if(J(o.INFO,"returning from runModel"),a)for(var n=0,c=a.length;c>n;n++)a[n](null,null)},R=function(t){M=t;var r=null;if(e._currentCropGrowth=null,d=0,g=0,S=0,y=0,h=0,M.isValid()&&"fieldcrop"===M.type){if(r=M.cropParameters(),e._currentCropGrowth=new Me(i,a.general,r,a.site,a.centralParameterProvider),c.put_Crop(e._currentCropGrowth),i.put_Crop(e._currentCropGrowth),_.put_Crop(e._currentCropGrowth),n.put_Crop(e._currentCropGrowth),J(o.INFO,"seeding crop: "+t.name()),a.useNMinMineralFertilisingMethod&&M.seedDate().dayOfYear()<=M.harvestDate().dayOfYear()){J(o.INFO,"N_min fertilising summer crop");var s=b(a.nMinFertiliserPartition,NMinCropParameters(r.pc_SamplingDepth,r.pc_TargetNSamplingDepth,r.pc_TargetN30));fe(s)}}else M.isValid()&&"grassland"===M.type&&(r={},e._currentCropGrowth=new Ce(i,a.general,M.mixture,a.site,a.centralParameterProvider),c.put_Crop(e._currentCropGrowth),i.put_Crop(e._currentCropGrowth),_.put_Crop(e._currentCropGrowth),n.put_Crop(e._currentCropGrowth),J(o.INFO,"seeding crop: "+t.name()))},F=function(){if(M&&M.isValid()){var t=e._currentCropGrowth.get_OrganBiomass(0),r=e._currentCropGrowth.get_RootNConcentration();J(o.INFO,"Harvest: adding organic matter from root to soilOrganic"),J(o.INFO,"Root biomass: "+t+" Root N concentration: "+r),n.addOrganicMatter(M.residueParameters(),t,r);var s=e._currentCropGrowth.get_ResidueBiomass(a.useSecondaryYields),p=e._currentCropGrowth.get_ResiduesNConcentration();J(o.INFO,"Adding organic matter from residues to soilOrganic"),J(o.INFO,"Residue biomass: "+s+" Residue N concentration: "+p),J(o.INFO,"Primary yield biomass: "+e._currentCropGrowth.get_PrimaryCropYield()+" Primary yield N concentration: "+e._currentCropGrowth.get_PrimaryYieldNConcentration()),J(o.INFO,"Secondary yield biomass: "+e._currentCropGrowth.get_SecondaryCropYield()+" Secondary yield N concentration: ??"),J(o.INFO,"Residues N content: "+e._currentCropGrowth.get_ResiduesNContent()+" Primary yield N content: "+e._currentCropGrowth.get_PrimaryYieldNContent()+" Secondary yield N content: "+e._currentCropGrowth.get_SecondaryYieldNContent()),n.addOrganicMatter(M.residueParameters(),s,p)}e._currentCropGrowth=null,M=null,c.remove_Crop(),i.remove_Crop(),_.remove_Crop(),n.remove_Crop()},T=function(){if(M&&M.isValid()){var t=e._currentCropGrowth.totalBiomass(),a=e._currentCropGrowth.get_AbovegroundBiomassNConcentration()+e._currentCropGrowth.get_RootNConcentration();J(o.INFO,"Incorporation: adding organic matter from total biomass of crop to soilOrganic"),J(o.INFO,"Total biomass: "+t+" Total N concentration: "+a),n.addOrganicMatter(M.residueParameters(),t,a)}e._currentCropGrowth=null,M=null,c.remove_Crop(),i.remove_Crop(),_.remove_Crop(),n.remove_Crop()},H=function(t,e){a.useNMinMineralFertilisingMethod||(J(o.INFO,"Apply mineral fertiliser. Amount: "+e),i.applyMineralFertiliser(t,e),fe(e))},I=function(t,e,a){J(o.INFO,"apply organic fertiliser: amount: "+e+", vo_NConcentration: "+t.vo_NConcentration),n.setIncorporation(a),n.addOrganicMatter(t,e,t.vo_NConcentration),fe(e*t.vo_AOM_DryMatterContent*t.vo_NConcentration)},b=function(t,e){var r=a.nMinUserParams,o=i.applyMineralFertiliserViaNMinMethod(t,e.samplingDepth,e.nTarget,e.nTarget30,r.min,r.max,r.delayInDays);return o},x=function(t,e){a.useAutomaticIrrigation||(J(o.INFO,"apply irrigation: amount: "+t+", nitrateConcentration: "+e),n.addIrrigationWater(t),i.applyIrrigation(t,e),M&&(M.addAppliedIrrigationWater(t),this.addDailySumIrrigationWater(t)))},L=function(t){i.applyTillage(t)},B=function(s,p,l,u,d,v,g,S,y,h){e.vw_AtmosphericCO2Concentration=-1===a.atmosphericCO2?f.p_AthmosphericCO2:a.atmosphericCO2,0===m(e.vw_AtmosphericCO2Concentration)&&(e.vw_AtmosphericCO2Concentration=G(p,s,l)),e.vs_GroundwaterDepth=U(f.p_MaxGroundwaterDepth,f.p_MinGroundwaterDepth,f.p_MinGroundwaterDepthMonth,s,l);var O=f.p_JulianDayAutomaticFertilising;i.deleteAOMPool(),i.applyPossibleDelayedFerilizer();
var C=i.applyPossibleTopDressing();if(fe(C),M&&M.isValid()&&a.useNMinMineralFertilisingMethod&&M.seedDate().dayOfYear()>M.harvestDate().dayOfYear()&&s==O){J(o.INFO,"N_min fertilising winter crop");var A=M.cropParameters(),N=b(a.nMinFertiliserPartition,NMinCropParameters(A.pc_SamplingDepth,A.pc_TargetNSamplingDepth,A.pc_TargetN30));fe(N)}r.step(u,v,y),_.step(e.vs_GroundwaterDepth,g,v,u,h/100,d,S,t.windSpeedHeight,y,s),n.step(d,g,S),c.step()},E=function(t,r,o,_,c,s,p,u,f,v,m,O,C,A){if(e._currentCropGrowth){if(e._currentCropGrowth.isDying())return void T();if(d++,e._currentCropGrowth.step(r,o,_,c,s,t,p/100,u,v,e.vw_AtmosphericCO2Concentration,f,m,O,C,A),a.useAutomaticIrrigation){var N=a.autoIrrigationParams;i.applyIrrigationViaTrigger(N.treshold,N.amount,N.nitrateConcentration)&&(n.addIrrigationWater(N.amount),M.addAppliedIrrigationWater(N.amount),l+=N.amount)}g+=e._currentCropGrowth.get_CropNRedux(),S+=e._currentCropGrowth.get_TranspirationDeficit(),y+=e._currentCropGrowth.get_HeatStressRedux(),h+=e._currentCropGrowth.get_OxygenDeficit()}},G=function(t,e,a){var i=380,r=0;return r=a?t+e/366:t+e/365,i=222+v(.0119*(r-1580))+2.5*N((r-.5)/.1592)},U=function(t,e,a,i,r){var o=20,_=r?366:365,n=(t+e)/2,c=(t-e)/2,s=N(3.14159265358979*(i/_*360-90-(30*a-15))/180);return o=n+s*c,0>o&&(o=20),o},k=function(t){for(var e=0,r=0,o=0,_=0,n=a.noOfLayers;n>_&&(o++,r+=i[_].vs_SoilOrganicCarbon(),e+=i[_].vs_LayerThickness,!(e>=t));_++);return r/o*100},V=function(){return _.meanWaterContent(.9)},Y=function(t,e){return _.meanWaterContent(t,e)},W=function(t){for(var e=0,r=0,o=0,_=0,n=a.noOfLayers;n>_&&(o++,r+=i[_].get_SoilNmin(),e+=i[_].vs_LayerThickness,!(e>=t));_++);return r/o*e*1e4},q=function(t){for(var e=0,r=0,o=0,_=0,n=a.noOfLayers;n>_&&(o++,r+=i[_].get_SoilNO3(),e+=i[_].vs_LayerThickness,!(e>=t));_++);return r},K=function(){return _.get_GroundwaterRecharge()},z=function(){return c.get_NLeaching()},j=function(t){return i.sumSoilTemperature(t)},X=function(){return _.getMaxSnowDepth()},Z=function(){return _.accumulatedSnowDepth()},Q=function(){return _.getAccumulatedFrostDepth()},$=function(){for(var t=3,e=0,a=0;t>a;a++)e+=i.soilLayer(a).get_Vs_SoilTemperature();return e/t},te=function(t,e){for(var a=0,r=0,o=t;e>o;o++)r+=i.soilLayer(o).get_Vs_SoilMoisture_m3(),a++;return r/a},ee=function(t,e){for(var a=0,i=0,r=t;e>r;r++)i+=_.get_CapillaryRise(r),a++;return i/a},ae=function(t,e){for(var a=0,i=0,r=t;e>r;r++)i+=_.get_PercolationRate(r),a++;return i/a},ie=function(){return _.get_SumSurfaceRunOff()},re=function(){return _.get_SurfaceRunOff()},oe=function(){return e._currentCropGrowth?e._currentCropGrowth.get_RemainingEvapotranspiration():0},_e=function(){return e._currentCropGrowth?e._currentCropGrowth.get_ActualTranspiration():0},ne=function(){return e._currentCropGrowth?e._currentCropGrowth.get_EvaporatedFromIntercept():0},ce=function(){return _.get_Evapotranspiration()},se=function(){for(var t=0,e=0;3>e;e++)t+=n.get_SMB_CO2EvolutionRate(e);return t},pe=function(){return n.get_NH3_Volatilised()},le=function(){return n.get_SumNH3_Volatilised()},ue=function(){for(var t=0,e=0;3>e;e++)t+=n.get_ActDenitrificationRate(e);return t},fe=function(t){p+=t,s+=t},de=function(){return a.useNMinMineralFertilisingMethod},ve=function(){return M},ge=function(){return M&&M.isValid()},me=function(){return p},Se=function(){return l},ye=function(t){l+=t},Oe=function(){return s},Ae=function(){s=0},Ne=function(){l=0,p=0},De=function(){return e.vw_AtmosphericCO2Concentration},we=function(){return e.vs_GroundwaterDepth},Fe=function(){return u.writeOutputFiles},Te=function(){return u},xe=function(){return a},Le=function(){return r},Be=function(){return _},Ee=function(){return n},Ge=function(){return c},Ue=function(){return i},ke=function(){return i},Ve=function(t){return t*(1-a.albedo)},Ye=function(){return d},We=function(){return g},qe=function(){return S},Ke=function(){return y},ze=function(){return h},je=function(){return Number(O)};return{run:P,getCentralParameterProvider:Te,getEnvironment:xe,cropGrowth:this.cropGrowth,prodProcessStep:w,generalStep:B,cropStep:E,CO2ForDate:G,GroundwaterDepthForDate:U,seedCrop:R,incorporateCurrentCrop:T,applyMineralFertiliser:H,applyOrganicFertiliser:I,harvestCurrentCrop:F,applyMineralFertiliserViaNMinMethod:b,applyIrrigation:x,applyTillage:L,avgCorg:k,mean90cmWaterContent:V,meanWaterContent:Y,sumNmin:W,groundWaterRecharge:K,nLeaching:z,sumSoilTemperature:j,sumNO3AtDay:q,maxSnowDepth:X,accumulatedSnowDepth:Z,accumulatedFrostDepth:Q,avg30cmSoilTemperature:$,avgSoilMoisture:te,avgCapillaryRise:ee,avgPercolationRate:ae,sumSurfaceRunOff:ie,surfaceRunoff:re,getEvapotranspiration:oe,getTranspiration:_e,getEvaporation:ne,get_sum30cmSMB_CO2EvolutionRate:se,getNH3Volatilised:pe,getSumNH3Volatilised:le,getsum30cmActDenitrificationRate:ue,getETa:ce,vw_AtmosphericCO2Concentration:this.vw_AtmosphericCO2Concentration,vs_GroundwaterDepth:this.vs_GroundwaterDepth,addDailySumFertiliser:fe,useNMinMineralFertilisingMethod:de,currentCrop:ve,isCropPlanted:ge,dailySumFertiliser:me,dailySumIrrigationWater:Se,addDailySumIrrigationWater:ye,sumFertiliser:Oe,resetFertiliserCounter:Ae,resetDailyCounter:Ne,get_AtmosphericCO2Concentration:De,get_GroundwaterDepth:we,writeOutputFiles:Fe,soilTemperature:Le,soilMoisture:Be,soilOrganic:Ee,soilTransport:Ge,soilColumn:Ue,soilColumnNC:ke,netRadiation:Ve,daysWithCrop:Ye,getAccumulatedNStress:We,getAccumulatedWaterStress:qe,getAccumulatedHeatStress:Ke,getAccumulatedOxygenStress:ze,getIsVegPeriod:je}},we=function(t,e,a){var r=this;if(0===arguments.length){this.vs_SoilSandContent=.9,this.vs_SoilClayContent=.05,this.vs_SoilStoneContent=0,this.vs_SoilTexture="Ss",this.vs_SoilpH=7,this.vs_SoilMoistureOld_m3=.25,this.vs_SoilWaterFlux=0,this.vs_Lambda=.5,this.vs_FieldCapacity=.21,this.vs_Saturation=.43,this.vs_PermanentWiltingPoint=.08,this.vs_SOM_Slow=0,this.vs_SOM_Fast=0,this.vs_SMB_Slow=0,this.vs_SMB_Fast=0,this.vs_SoilCarbamid=0,this.vs_SoilNH4=1e-4,this.vs_SoilNO2=.001,this.vs_SoilNO3=.001,this.vs_SoilFrozen=!1;var o=-1,_=-1,n=0,c=-1,s=.25,p=0;this.vo_AOM_Pool=[];var l=new oe;this.vs_SoilMoisture_m3=this.vs_FieldCapacity*l.userInitValues.p_initPercentageFC,this.vs_SoilMoistureOld_m3=this.vs_FieldCapacity*l.userInitValues.p_initPercentageFC,this.vs_SoilNO3=l.userInitValues.p_initSoilNitrate,this.vs_SoilNH4=l.userInitValues.p_initSoilAmmonium}else{if(3!==arguments.length||!(arguments[2]instanceof oe))throw new Error("arguments.length !== 3 || !(arguments[2] instanceof ParameterProvider");this.vs_LayerThickness=t,this.vs_SoilSandContent=e.vs_SoilSandContent,this.vs_SoilClayContent=e.vs_SoilClayContent,this.vs_SoilStoneContent=e.vs_SoilStoneContent,this.vs_SoilTexture=e.vs_SoilTexture,this.vs_SoilpH=e.vs_SoilpH,this.vs_SoilMoistureOld_m3=.25,this.vs_SoilWaterFlux=0,this.vs_Lambda=e.vs_Lambda,this.vs_FieldCapacity=e.vs_FieldCapacity,this.vs_Saturation=e.vs_Saturation,this.vs_PermanentWiltingPoint=e.vs_PermanentWiltingPoint,this.vs_SOM_Slow=0,this.vs_SOM_Fast=0,this.vs_SMB_Slow=0,this.vs_SMB_Fast=0,this.vs_SoilCarbamid=0,this.vs_SoilNH4=1e-4,this.vs_SoilNO2=.001,this.vs_SoilNO3=.005,this.vs_SoilFrozen=!1,this.centralParameterProvider=a;var o=e.vs_SoilOrganicCarbon(),_=e.vs_SoilOrganicMatter(),n=e.vs_SoilBulkDensity(),c=0,s=.25,p=0;if(this.vo_AOM_Pool=[],i&&!(o-_*z.PO_SOM_TO_C<1e-5))throw new Error("_vs_SoilOrganicCarbon - (_vs_SoilOrganicMatter * ORGANIC_CONSTANTS.PO_SOM_TO_C)) < 0.00001)");s=this.vs_FieldCapacity*a.userInitValues.p_initPercentageFC,this.vs_SoilMoistureOld_m3=this.vs_FieldCapacity*a.userInitValues.p_initPercentageFC,this.vs_SoilNH4=e.vs_SoilAmmonium<0?a.userInitValues.p_initSoilAmmonium:e.vs_SoilAmmonium,this.vs_SoilNO3=e.vs_SoilNitrate<0?a.userInitValues.p_initSoilNitrate:e.vs_SoilNitrate}this.vs_SoilNH4_a=0;var u=function(){return o>=0?o:_*z.PO_SOM_TO_C},f=function(){return _>=0?_:o/z.PO_SOM_TO_C},d=function(){return 1-r.vs_SoilSandContent-r.vs_SoilClayContent},g=function(){var t,e;t=r.vs_PermanentWiltingPoint>0?r.vs_PermanentWiltingPoint:h(),e=r.vs_Saturation>0?r.vs_Saturation:S();var a,i=v(-2.486+2.5*r.vs_SoilSandContent-35.1*u()-2.617*(M()/1e3)-2.3*r.vs_SoilClayContent),o=1,_=v(.053-.9*r.vs_SoilSandContent-1.3*r.vs_SoilClayContent+1.5*O(r.vs_SoilSandContent,2));a=I()<=t?5e7:1/i*O(O((e-t)/(I()-t),1/o)-1,1/_),c=y(a),c=0>c?5e-7:c},m=function(){if(""==r.vs_SoilTexture){var t,e;t=r.vs_PermanentWiltingPoint>0?r.vs_PermanentWiltingPoint:h(),e=r.vs_Saturation>0?r.vs_Saturation:S();var a=v(-2.486+2.5*r.vs_SoilSandContent-35.1*u()-2.617*(M()/1e3)-2.3*r.vs_SoilClayContent),i=1,o=v(.053-.9*r.vs_SoilSandContent-1.3*r.vs_SoilClayContent+1.5*O(r.vs_SoilSandContent,2)),_=2.1;r.vs_SoilSandContent>.48&&r.vs_SoilSandContent<=.9&&r.vs_SoilClayContent<=.12?_=2.1-.476*(r.vs_SoilSandContent-.48):r.vs_SoilSandContent>.9&&r.vs_SoilClayContent<=.05?_=1.9:r.vs_SoilClayContent>.45?_=2.5:r.vs_SoilClayContent>.3&&r.vs_SoilSandContent<.2?_=2.4:r.vs_SoilClayContent>.35?_=2.3:r.vs_SoilClayContent>.25&&r.vs_SoilSandContent<.1?_=2.3:r.vs_SoilClayContent>.17&&r.vs_SoilSandContent>.68?_=2.2:r.vs_SoilClayContent>.17&&r.vs_SoilSandContent<.33?_=2.2:r.vs_SoilClayContent>.08&&r.vs_SoilSandContent<.27?_=2.2:r.vs_SoilClayContent>.25&&r.vs_SoilSandContent<.25&&(_=2.2);var n=O(10,_);r.vs_FieldCapacity=t+(e-t)/O(1+O(a*n,o),i),r.vs_FieldCapacity*=1-r.vs_SoilStoneContent}return r.vs_FieldCapacity},S=function(){return""==r.vs_SoilTexture&&(r.vs_Saturation=.81-.283*(M()/1e3)+.1*r.vs_SoilClayContent,r.vs_Saturation*=1-r.vs_SoilStoneContent),r.vs_Saturation},h=function(){return""==r.vs_SoilTexture&&(r.vs_PermanentWiltingPoint=.015+.5*r.vs_SoilClayContent+1.4*r.vs_SoilOrganicCarbon(),r.vs_PermanentWiltingPoint*=1-r.vs_SoilStoneContent),r.vs_PermanentWiltingPoint},M=function(){return n},C=function(t){_=t},A=function(t){o=t},N=function(){return r.vs_SoilpH},D=function(){return g(),c},w=function(){return this.vs_SoilNH4},P=function(){return this.vs_SoilNH4_a},R=function(){return this.vs_SoilNO2},F=function(){return this.vs_SoilNO3},T=function(){return this.vs_SoilCarbamid},H=function(){return this.vs_SoilNO3+this.vs_SoilNO2+this.vs_SoilNH4},I=function(){return s},b=function(t){s=t},x=function(){return p},L=function(t){p=t},u=function(){return o},f=function(){return _},d=function(){return this.vs_SoilSiltContent};return{calc_vs_SoilMoisture_pF:g,centralParameterProvider:this.centralParameterProvider,get_FieldCapacity:m,get_PermanentWiltingPoint:h,get_Saturation:S,get_SoilCarbamid:T,get_SoilNH4:w,get_SoilNH4_a:P,get_SoilNmin:H,get_SoilNO2:R,get_SoilNO3:F,get_SoilpH:N,get_Vs_SoilMoisture_m3:I,get_Vs_SoilTemperature:x,set_SoilOrganicCarbon:A,set_SoilOrganicMatter:C,set_Vs_SoilMoisture_m3:b,set_Vs_SoilTemperature:L,vo_AOM_Pool:this.vo_AOM_Pool,vs_FieldCapacity:this.vs_FieldCapacity,vs_Lambda:this.vs_Lambda,vs_LayerThickness:this.vs_LayerThickness,vs_PermanentWiltingPoint:this.vs_PermanentWiltingPoint,vs_Saturation:this.vs_Saturation,vs_SMB_Fast:this.vs_SMB_Fast,vs_SMB_Slow:this.vs_SMB_Slow,vs_SoilBulkDensity:M,vs_SoilCarbamid:this.vs_SoilCarbamid,vs_SoilClayContent:this.vs_SoilClayContent,vs_SoilFrozen:this.vs_SoilFrozen,vs_SoilMoisture_pF:D,vs_SoilMoistureOld_m3:this.vs_SoilMoistureOld_m3,vs_SoilNH4:this.vs_SoilNH4,vs_SoilNH4_a:this.vs_SoilNH4_a,vs_SoilNO2:this.vs_SoilNO2,vs_SoilNO3:this.vs_SoilNO3,vs_SoilOrganicCarbon:u,vs_SoilOrganicMatter:f,vs_SoilpH:this.vs_SoilpH,vs_SoilSandContent:this.vs_SoilSandContent,vs_SoilSiltContent:d,vs_SoilStoneContent:this.vs_SoilStoneContent,vs_SoilTexture:this.vs_SoilTexture,vs_SoilWaterFlux:this.vs_SoilWaterFlux,vs_SOM_Fast:this.vs_SOM_Fast,vs_SOM_Slow:this.vs_SOM_Slow}},Pe=function(t,e,a){var r=this;this.generalParams=t,this.soilParams=e,this.centralParameterProvider=a,this.cropGrowth=null,this._delayedNMinApplications=[],this._vf_TopDressing=0,this._vf_TopDressingDelay=0,this._vs_NumberOfOrganicLayers=0;var _=[];_.vs_SurfaceWaterStorage=0,_.vs_InterceptionStorage=0,_.vm_GroundwaterTable=0,_.vs_FluxAtLowerBoundary=0,_.vq_CropNUptake=0,_.vs_SoilLayers=[],J(o.INFO,"Constructor: SoilColumn "+e.length);for(var n=0;n<this.soilParams.length;n++){var c=new we(t.ps_LayerThickness[0],e[n],a);_.vs_SoilLayers.push(c),_[n]=c}_.applyMineralFertiliser=function(t,e){if(this[0].vs_SoilNO3+=e*t.getNO3()/1e4/this[0].vs_LayerThickness,this[0].vs_SoilNH4+=e*t.getNH4()/1e4/this[0].vs_LayerThickness,this[0].vs_SoilCarbamid+=e*t.getCarbamid()/1e4/this[0].vs_LayerThickness,i&&this[0].vs_SoilNH4<0)throw new Error(this[0].vs_SoilNH4)},_.applyPossibleTopDressing=function(){if(r._vf_TopDressingDelay>0&&(r._vf_TopDressingDelay--,0==r._vf_TopDressingDelay)){var t=r._vf_TopDressing;return this.applyMineralFertiliser(r._vf_TopDressingPartition,t),r._vf_TopDressing=0,t}return 0},_.applyPossibleDelayedFerilizer=function(){for(var t=r._delayedNMinApplications,e=0;0===!t.length;)if(e+=t[0].func.apply(this,t[0].args),t.shift(),i&&t!=_delayedNMinApplications)throw new Error(t);return e},_.applyMineralFertiliserViaNMinMethod=function(t,e,a,i,_,n,c){if(this[0].get_Vs_SoilMoisture_m3()>this[0].get_FieldCapacity())return r._delayedNMinApplications.push({func:this.applyMineralFertiliserViaNMinMethod,args:[t,e,a,i,_,n,c]}),J(o.WARN,"Soil too wet for fertilisation. Fertiliser event adjourned to next day."),0;for(var s=0,p=0,l=0,u=0,d=this.getLayerNumberForDepth(.3),v=f(e/this[g].vs_LayerThickness),g=0;v>g;g++)s+=this[g].vs_SoilNO3,l+=this[g].vs_SoilNH4;for(var g=0;d>g;g++)p+=this[g].vs_SoilNO3,u+=this[g].vs_SoilNH4;var m=a/1e4/this[0].vs_LayerThickness,S=i/1e4/this[0].vs_LayerThickness,y=m-(s+l),M=S-(p+u),O=1e4*y*this[0].vs_LayerThickness,C=1e4*M*this[0].vs_LayerThickness,A=h(O,C);return _>A&&(A=0,J(o.WARN,"Fertiliser demand below minimum application value. No fertiliser applied.")),A>n&&(r._vf_TopDressing=A-n,r._vf_TopDressingPartition=t,r._vf_TopDressingDelay=c,A=n,J(o.WARN,"Fertiliser demand above maximum application value. A top dressing of "+_vf_TopDressing+" will be applied from now on day"+c+".")),this.applyMineralFertiliser(t,A),J(o.INFO,"SoilColumn::applyMineralFertiliserViaNMinMethod:	"+A),A},_.soilColumnArrayapplyIrrigationViaTrigger=function(t,e,a){null===r.cropGrowth&&J(o.ERROR,"crop is null");var i=r.cropGrowth.get_HeatSumIrrigationStart(),_=r.cropGrowth.get_HeatSumIrrigationEnd(),n=r.cropGrowth.get_CurrentTemperatureSum();if(i>n||n>_)return!1;for(var c=r.centralParameterProvider.userSoilMoistureParameters.pm_CriticalMoistureDepth,s=0,p=0,l=0,u=m(f(c/r[0].vs_LayerThickness)),d=0;u>d;d++)s+=(this[d].get_Vs_SoilMoisture_m3()-this[d].get_PermanentWiltingPoint())*this.vs_LayerThickness()*1e3,p+=(this[d].get_FieldCapacity()-this[d].get_PermanentWiltingPoint())*this.vs_LayerThickness()*1e3,l=s/p;return t>=l?(this.applyIrrigation(e,a),J(o.INFO,"applying automatic irrigation treshold: "+t+" amount: "+e+" N concentration: "+a),!0):!1},_.applyIrrigation=function(t,e){var a=0;this.vs_SurfaceWaterStorage+=t,a=e*t/this[0].vs_LayerThickness/1e6,this[0].vs_SoilNO3+=a},_.deleteAOMPool=function(){for(var t=1;t<this[0].vo_AOM_Pool.length;){for(var e=0,a=0,i=0;i<r._vs_NumberOfOrganicLayers;i++)e+=this[i].vo_AOM_Pool[t].vo_AOM_Slow,a+=this[i].vo_AOM_Pool[t].vo_AOM_Fast;if(1e-5>e+a)for(var i=0;i<r._vs_NumberOfOrganicLayers;i++){var o=0;o+=t,this[i].vo_AOM_Pool.splice(o,1)}else t++}},_.vs_NumberOfLayers=function(){return this.length},_.applyTillage=function(t){for(var e=this.getLayerNumberForDepth(t)+1,a=0,r=0,o=0,_=0,n=0,c=0,s=0,p=0,l=0,u=0,f=0,d=0,v=0,g=0;e>g;g++)a+=this[g].vs_SoilOrganicCarbon(),r+=this[g].vs_SoilOrganicMatter(),o+=this[g].get_Vs_SoilTemperature(),_+=this[g].get_Vs_SoilMoisture_m3(),n+=this[g].vs_SoilMoistureOld_m3,c+=this[g].vs_SOM_Slow,s+=this[g].vs_SOM_Fast,p+=this[g].vs_SMB_Slow,l+=this[g].vs_SMB_Fast,u+=this[g].vs_SoilCarbamid,f+=this[g].vs_SoilNH4,d+=this[g].vs_SoilNO2,v+=this[g].vs_SoilNO3;if(i&&this[0].vs_SoilNH4<0)throw new Error(this[0].vs_SoilNH4);if(i&&this[0].vs_SoilNO2<0)throw new Error(this[0].vs_SoilNO2);if(i&&this[0].vs_SoilNO3<0)throw new Error(this[0].vs_SoilNO3);a/=e,r/=e,o/=e,_/=e,n/=e,c/=e,s/=e,p/=e,l/=e,u/=e,f/=e,d/=e,v/=e;for(var g=0;e>g;g++){if(this[g].set_SoilOrganicCarbon(a),this[g].set_SoilOrganicMatter(r),this[g].set_Vs_SoilTemperature(o),this[g].set_Vs_SoilMoisture_m3(_),this[g].vs_SoilMoistureOld_m3=n,this[g].vs_SOM_Slow=c,this[g].vs_SOM_Fast=s,this[g].vs_SMB_Slow=p,this[g].vs_SMB_Fast=l,this[g].vs_SoilCarbamid=u,this[g].vs_SoilNH4=f,this[g].vs_SoilNO2=d,this[g].vs_SoilNO3=v,i&&this[g].vs_SoilNH4<0)throw new Error(this[g].vs_SoilNH4);if(i&&this[g].vs_SoilNO2<0)throw new Error(this[g].vs_SoilNO2);if(i&&this[g].vs_SoilNO3<0)throw new Error(this[g].vs_SoilNO3)}var m=this[0].vo_AOM_Pool.length;if(m>0){for(var S=new Array(m),y=new Array(m),h=0;m>h;h++)S[h]=0,y[h]=0;e=M(e,this.vs_NumberOfOrganicLayers());for(var O=0;e>O;O++){var C=this[O],h=0;C.vo_AOM_Pool.forEach(function(t){S[h]+=t.vo_AOM_Slow,y[h]+=t.vo_AOM_Fast,h++})}for(var h=0;m>h;h++)S[h]=S[h]/e,y[h]=y[h]/e;for(var O=0;e>O;O++){C=this[O];var h=0;C.vo_AOM_Pool.forEach(function(t){t.vo_AOM_Slow=S[h],t.vo_AOM_Fast=y[h],h++})}}},_.vs_NumberOfOrganicLayers=function(){return r._vs_NumberOfOrganicLayers},_.soilLayer=function(t){return this[t]},_.vs_LayerThickness=function(){return this[0].vs_LayerThickness},_.get_DailyCropNUptake=function(){return 1e4*this.vq_CropNUptake},_.getLayerNumberForDepth=function(t){for(var e=0,a=this.length,i=0,r=this[0].vs_LayerThickness,o=0;a>o&&(i+=r,!(i>=t));o++)e++;return e},_.put_Crop=function(t){r.cropGrowth=t},_.remove_Crop=function(){r.cropGrowth=null},_.sumSoilTemperature=function(t){for(var e=0,a=0;t>a;a++)e+=this[a].get_Vs_SoilTemperature();return e},_.vs_NumberOfLayers=function(){return this.length};var s=function(){for(var t=0,e=0,a=0;a<_.vs_NumberOfLayers()&&(e++,t+=_.vs_SoilLayers[a].vs_LayerThickness,!(t>=r.generalParams.ps_MaxMineralisationDepth));a++);r._vs_NumberOfOrganicLayers=e};s();for(var p=0;p<r._vs_NumberOfOrganicLayers;p++){var l=new ee;l.vo_AOM_DryMatterContent=1,l.vo_AOM_NH4Content=0,l.vo_AOM_NO3Content=0,l.vo_AOM_CarbamidContent=0,l.vo_AOM_SlowDecCoeffStandard=.012,l.vo_AOM_FastDecCoeffStandard=.05,l.vo_PartAOM_to_AOM_Slow=.67,l.vo_PartAOM_to_AOM_Fast=.33,l.vo_CN_Ratio_AOM_Slow=200,l.vo_CN_Ratio_AOM_Fast=0,l.vo_PartAOM_Slow_to_SMB_Slow=.5,l.vo_PartAOM_Slow_to_SMB_Fast=.5,l.vo_NConcentration=0,_[p].vo_AOM_Pool[0]=l}return _},Re=function(t,e,a,r){for(var o=t,_=a,n=r,c=(t.vs_NumberOfLayers(),t.vs_NumberOfOrganicLayers()),p=!1,l=0,u=new Float64Array(t.vs_NumberOfOrganicLayers()),f=new Float64Array(t.vs_NumberOfOrganicLayers()),d=0,g=new Float64Array(t.vs_NumberOfOrganicLayers()),m=new Float64Array(t.vs_NumberOfOrganicLayers()),S=0,y=new Float64Array(t.vs_NumberOfOrganicLayers()),h=new Float64Array(t.vs_NumberOfOrganicLayers()),C=0,A=new Float64Array(t.vs_NumberOfOrganicLayers()),N=0,D=0,w=0,P=0,R=new Float64Array(t.vs_NumberOfOrganicLayers()),F=0,T=0,H=new Float64Array(t.vs_NumberOfOrganicLayers()),I=new Float64Array(t.vs_NumberOfOrganicLayers()),b=new Float64Array(t.vs_NumberOfOrganicLayers()),x=new Float64Array(t.vs_NumberOfOrganicLayers()),L=new Float64Array(t.vs_NumberOfOrganicLayers()),B=0,E=new Float64Array(t.vs_NumberOfOrganicLayers()),G=0,U=0,k=0,V=0,Y=0,W=!1,q=null,K=n.userSoilOrganicParameters.po_SOM_SlowUtilizationEfficiency,j=n.userSoilOrganicParameters.po_PartSOM_to_SMB_Slow,J=n.userSoilOrganicParameters.po_SOM_FastUtilizationEfficiency,X=n.userSoilOrganicParameters.po_PartSOM_to_SMB_Fast,Z=n.userSoilOrganicParameters.po_SOM_SlowDecCoeffStandard,$=n.userSoilOrganicParameters.po_SOM_FastDecCoeffStandard,te=n.userSoilOrganicParameters.po_PartSOM_Fast_to_SOM_Slow,ae=0;c>ae;ae++)x[ae]=o[ae].vs_SoilOrganicCarbon()*o[ae].vs_SoilBulkDensity(),A[ae]=.049*O(x[ae]*o[ae].vs_LayerThickness/1e3*1e4,1.139)/1e4*1e3/o[ae].vs_LayerThickness,x[ae]-=A[ae],o[ae].vs_SMB_Slow=K*j*x[ae],o[ae].vs_SMB_Fast=J*X*x[ae],o[ae].vs_SOM_Slow=x[ae]/(1+Z/($*te)),o[ae].vs_SOM_Fast=x[ae]-o[ae].vs_SOM_Slow,x[ae]-=o[ae].vs_SMB_Slow+o[ae].vs_SMB_Fast,o[ae].set_SoilOrganicCarbon((x[ae]+A[ae])/o[ae].vs_SoilBulkDensity()),o[ae].set_SoilOrganicMatter((x[ae]+A[ae])/z.PO_SOM_TO_C/o[ae].vs_SoilBulkDensity()),u[ae]=0;var ie=function(t,e,a){var i=q?q.get_NetPrimaryProduction():0;if(_e(e+l),ne(),ce(p,t,a),se(),pe(),le(),ue(),w=Me(i,C),D=Oe(i,C),V+=T,k+=N,l=0,S=0,d=0,B=0,p=!1,q&&q.hasOwnProperty("senescencedTissue"))for(var r=q.senescencedTissue(),_=o.vs_NumberOfOrganicLayers(),n=0;_>n;n++){var c=o[n].vo_AOM_Pool[0],s=r[n];s.vo_CN_Ratio_AOM_Slow>0&&(c.vo_CN_Ratio_AOM_Slow=(c.vo_AOM_Slow+s.vo_AOM_Slow)/(1/c.vo_CN_Ratio_AOM_Slow*c.vo_AOM_Slow+1/s.vo_CN_Ratio_AOM_Slow*s.vo_AOM_Slow)),c.vo_AOM_Slow+=s.vo_AOM_Slow}},re=function(t,e,a){var r=e,_=a,c=t.vo_AOM_DryMatterContent,s=t.vo_AOM_NH4Content,l=t.vo_AOM_NO3Content,u=t.vo_AOM_CarbamidContent,f=t.vo_PartAOM_to_AOM_Slow,v=t.vo_PartAOM_to_AOM_Fast,g=t.vo_CN_Ratio_AOM_Slow,m=t.vo_CN_Ratio_AOM_Fast,y=n.userSoilOrganicParameters.po_AOM_FastMaxC_to_N;o.vs_NumberOfOrganicLayers()>0&&(o[0].vs_SoilCarbamid+=r*c*u/1e4/o[0].vs_LayerThickness);for(var h=0,M=0,O=o.vs_NumberOfOrganicLayers(),C=0;O>C;C++)if(0==C){var A=new ee;A.vo_DaysAfterApplication=0,A.vo_AOM_DryMatterContent=c,A.vo_AOM_NH4Content=s,A.vo_AOM_Slow=0,A.vo_AOM_Fast=0,A.vo_AOM_SlowDecCoeffStandard=t.vo_AOM_SlowDecCoeffStandard,A.vo_AOM_FastDecCoeffStandard=t.vo_AOM_FastDecCoeffStandard,A.vo_CN_Ratio_AOM_Slow=g,A.incorporation=W,h=r*c*z.PO_AOM_TO_C/1e4/o[0].vs_LayerThickness,1e-7>=m?(M=r*c*_/1e4/o[0].vs_LayerThickness,0>=_&&(M=.01),m=M>h*f/g?h*v/(M-h*f/g):y,m>y&&(m=y),A.vo_CN_Ratio_AOM_Fast=m):A.vo_CN_Ratio_AOM_Fast=t.vo_CN_Ratio_AOM_Fast,A.vo_PartAOM_Slow_to_SMB_Slow=t.vo_PartAOM_Slow_to_SMB_Slow,A.vo_PartAOM_Slow_to_SMB_Fast=t.vo_PartAOM_Slow_to_SMB_Fast,o[0].vo_AOM_Pool.push(A)}else{var A=new ee;A.vo_DaysAfterApplication=0,A.vo_AOM_DryMatterContent=0,A.vo_AOM_NH4Content=0,A.vo_AOM_Slow=0,A.vo_AOM_Fast=0,A.vo_AOM_SlowDecCoeffStandard=t.vo_AOM_SlowDecCoeffStandard,A.vo_AOM_FastDecCoeffStandard=t.vo_AOM_FastDecCoeffStandard,A.vo_CN_Ratio_AOM_Slow=g,A.vo_CN_Ratio_AOM_Fast=0===!o[0].vo_AOM_Pool.length?o[0].vo_AOM_Pool[o[0].vo_AOM_Pool.length-1].vo_CN_Ratio_AOM_Fast:m,A.vo_PartAOM_Slow_to_SMB_Slow=t.vo_PartAOM_Slow_to_SMB_Slow,A.vo_PartAOM_Slow_to_SMB_Fast=t.vo_PartAOM_Slow_to_SMB_Fast,A.incorporation=W,o[C].vo_AOM_Pool.push(A)}var N=f*h,D=v*h,w=s*r*c/1e4/o[0].vs_LayerThickness;Q("vo_SoilNH4Input",w);var P=l*r*c/1e4/o[0].vs_LayerThickness,R=(1-(f+v))*h;if(o[0].vo_AOM_Pool[o[0].vo_AOM_Pool.length-1].vo_AOM_Slow+=N,o[0].vo_AOM_Pool[o[0].vo_AOM_Pool.length-1].vo_AOM_Fast+=D,Q("soilColumn[0].vs_SoilNH4",o[0].vs_SoilNH4),o[0].vs_SoilNH4+=w,Q("soilColumn[0].vs_SoilNH4",o[0].vs_SoilNH4),o[0].vs_SoilNO3+=P,o[0].vs_SOM_Fast+=R,i&&(o[0].vs_SoilNO3<0||o[0].vs_SoilNH4<0))throw new Error("N < 0");S+=N,d+=D,B+=R,p=!0},oe=function(t){l+=t},_e=function(){var t=(o.vs_NumberOfOrganicLayers(),[]),e=[],a=[],r=[],_=[],c=[],s=[],l=0,u=0,f=0,d=0,g=0,m=0,S=0,y=n.userSoilOrganicParameters.po_HydrolysisKM,h=n.userSoilOrganicParameters.po_HydrolysisP1,M=n.userSoilOrganicParameters.po_HydrolysisP2,C=n.userSoilOrganicParameters.po_ActivationEnergy;T=0;for(var A=0;A<o.vs_NumberOfOrganicLayers();A++)if(t[A]=o[A].vs_SoilCarbamid/z.PO_UREAMOLECULARWEIGHT/z.PO_UREA_TO_N/1e3,e[A]=-1258.9+13.2843*(o[A].get_Vs_SoilTemperature()+273.15)-.047381*(o[A].get_Vs_SoilTemperature()+273.15)*(o[A].get_Vs_SoilTemperature()+273.15)+577264e-10*O(o[A].get_Vs_SoilTemperature()+273.15,3),e[A]=e[A]/(1+.0453*e[A])*o[A].get_Vs_SoilMoisture_m3(),e[A]>=t[A]?(e[A]=t[A],t[A]=0):t[A]-=e[A],a[A]=(100*h*o[A].vs_SoilOrganicMatter()*z.PO_SOM_TO_C+M)/z.PO_UREAMOLECULARWEIGHT,r[A]=a[A]/v(-C/2577.34),_[A]=r[A]*v(-C/(8.314*(o[A].get_Vs_SoilTemperature()+273.15))),c[A]=v(-.064*(o[A].vs_SoilpH-6.5)*(o[A].vs_SoilpH-6.5)),s[A]=_[A]*ge(o[A].vs_SoilMoisture_pF())*c[A]*e[A]/(y+e[A]),s[A]=86400*s[A]*o[A].vs_SoilBulkDensity(),s[A]>=e[A]?(o[A].vs_SoilNH4+=o[A].vs_SoilCarbamid,o[A].vs_SoilCarbamid=0):(o[A].vs_SoilCarbamid-=s[A]*z.PO_UREAMOLECULARWEIGHT*z.PO_UREA_TO_N*1e3,o[A].vs_SoilNH4+=s[A]*z.PO_UREAMOLECULARWEIGHT*z.PO_UREA_TO_N*1e3),0==A&&(l=O(10,-o[0].vs_SoilpH),u=O(10,-2728.3/(o[0].get_Vs_SoilTemperature()+273.15)-.094219),f=O(10,1630.5/(o[0].get_Vs_SoilTemperature()+273.15)-2.301),d=o[0].vs_SoilNH4/(1e3*z.PO_NH4MOLECULARWEIGHT),g=d/(1+l/u),m=g,S=m*z.PO_NH3MOLECULARWEIGHT*1e3,S>=o[0].vs_SoilNH4?(S=o[0].vs_SoilNH4,o[0].vs_SoilNH4=0):o[0].vs_SoilNH4-=S,T=S*o[0].vs_LayerThickness,i&&o[0].vs_SoilNH4<0))throw new Error(o[0].vs_SoilNH4);e[0]<.001&&!p&&(W=!1)},ne=function(){for(var t=o.vs_NumberOfOrganicLayers(),e=n.userSoilOrganicParameters.po_SOM_SlowDecCoeffStandard,a=n.userSoilOrganicParameters.po_SOM_FastDecCoeffStandard,r=n.userSoilOrganicParameters.po_SMB_SlowDeathRateStandard,c=n.userSoilOrganicParameters.po_SMB_SlowMaintRateStandard,p=n.userSoilOrganicParameters.po_SMB_FastDeathRateStandard,l=n.userSoilOrganicParameters.po_SMB_FastMaintRateStandard,u=n.userSoilOrganicParameters.po_LimitClayEffect,f=n.userSoilOrganicParameters.po_SOM_SlowUtilizationEfficiency,d=n.userSoilOrganicParameters.po_SOM_FastUtilizationEfficiency,v=n.userSoilOrganicParameters.po_PartSOM_Fast_to_SOM_Slow,g=n.userSoilOrganicParameters.po_PartSMB_Slow_to_SOM_Fast,m=n.userSoilOrganicParameters.po_SMB_UtilizationEfficiency,S=n.userSoilOrganicParameters.po_CN_Ratio_SMB,y=n.userSoilOrganicParameters.po_AOM_SlowUtilizationEfficiency,M=n.userSoilOrganicParameters.po_AOM_FastUtilizationEfficiency,O=n.userSoilOrganicParameters.po_ImmobilisationRateCoeffNH4,A=n.userSoilOrganicParameters.po_ImmobilisationRateCoeffNO3,N=[],D=[],w=[],F=[],T=0,x=h.length;x>T;T++)h[T]=0;for(var B,G,k=[],V=[],Y=[],W=[],q=[],T=0,x=I.length;x>T;T++)I[T]=0;for(var K=[],z=[],j=[],J=[],T=0,x=b.length;x>T;T++)b[T]=0;for(var X=[],T=0,x=L.length;x>T;T++)L[T]=0;for(var Z=[],T=0,x=E.length;x>T;T++)E[T]=0;for(var Q,$,te=0;t>te;te++){var ee=de(o[te].get_Vs_SoilTemperature()),ae=ve(o[te].vs_SoilMoisture_pF());Z[te]=e*ee*ae,X[te]=a*ee*ae,J[te]=(r+c)*fe(o[te].vs_SoilClayContent,u)*ee*ae,q[te]=(p+l)*ee*ae,j[te]=r*ee*ae,W[te]=p*ee*ae,z[te]=j[te]*o[te].vs_SMB_Slow,Y[te]=W[te]*o[te].vs_SMB_Fast;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_SlowDecCoeff=Q.vo_AOM_SlowDecCoeffStandard*ee*ae,Q.vo_AOM_FastDecCoeff=Q.vo_AOM_FastDecCoeffStandard*ee*ae}for(var te=0;t>te;te++){for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_SlowDelta=-(Q.vo_AOM_SlowDecCoeff*Q.vo_AOM_Slow),-Q.vo_AOM_SlowDelta>Q.vo_AOM_Slow&&(Q.vo_AOM_SlowDelta=-Q.vo_AOM_Slow),Q.vo_AOM_FastDelta=-(Q.vo_AOM_FastDecCoeff*Q.vo_AOM_Fast),-Q.vo_AOM_FastDelta>Q.vo_AOM_Fast&&(Q.vo_AOM_FastDelta=-Q.vo_AOM_Fast);w[te]=0;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_SlowDecRate=Q.vo_AOM_SlowDecCoeff*Q.vo_AOM_Slow,w[te]+=Q.vo_AOM_SlowDecRate;b[te]=f*Z[te]*o[te].vs_SOM_Slow+d*(1-v)*X[te]*o[te].vs_SOM_Fast+y*w[te]-(J[te]*o[te].vs_SMB_Slow+z[te]),N[te]=0;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_FastDecRate=Q.vo_AOM_FastDecCoeff*Q.vo_AOM_Fast,N[te]+=Q.vo_AOM_FastDecRate;I[te]=m*(1-g)*(z[te]+Y[te])+M*N[te]-(q[te]*o[te].vs_SMB_Fast+Y[te]),E[te]=v*X[te]*o[te].vs_SOM_Fast-Z[te]*o[te].vs_SOM_Slow,L[te]=g*(z[te]+Y[te])-X[te]*o[te].vs_SOM_Fast,F[te]=0,D[te]=0;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],F[te]+=Q.vo_AOM_SlowDelta,D[te]+=Q.vo_AOM_FastDelta}C=0;for(var te=0;t>te;te++)K[te]=(1-f)*Z[te]*o[te].vs_SOM_Slow+(1-d)*(1-v)*X[te]*o[te].vs_SOM_Fast+(1-y)*w[te]+m*J[te]*o[te].vs_SMB_Slow,V[te]=(1-m)*(1-g)*(z[te]+Y[te])+(1-M)*N[te]+q[te]*o[te].vs_SMB_Fast,H[te]=K[te]+V[te],C+=H[te]*o[te].vs_LayerThickness;B=_.vs_Soil_CN_Ratio,G=_.vs_Soil_CN_Ratio;for(var te=0;t>te;te++){k[te]=-(b[te]/S)-I[te]/S-E[te]/B-L[te]/G,Q=o[te].vo_AOM_Pool;for(var ie=0,re=Q.length;re>ie;ie++)$=Q[ie],s($.vo_CN_Ratio_AOM_Fast)>=1e-7&&(k[te]-=$.vo_AOM_FastDelta/$.vo_CN_Ratio_AOM_Fast),s($.vo_CN_Ratio_AOM_Slow)>=1e-7&&(k[te]-=$.vo_AOM_SlowDelta/$.vo_CN_Ratio_AOM_Slow)}P=0;for(var te=0;t>te;te++){if(k[te]<0){if(s(k[te])>=o[te].vs_SoilNH4*O+o[te].vs_SoilNO3*A){F[te]=0,D[te]=0,Q=o[te].vo_AOM_Pool;for(var ie=0,re=Q.length;re>ie;ie++)$=Q[ie],$.vo_CN_Ratio_AOM_Slow>=S/y&&($.vo_AOM_SlowDelta=0),$.vo_CN_Ratio_AOM_Fast>=S/M&&($.vo_AOM_FastDelta=0),F[te]+=$.vo_AOM_SlowDelta,D[te]+=$.vo_AOM_FastDelta;B>=S/f&&(E[te]=0),G>=S/d&&(L[te]=0),b[te]=f*Z[te]*o[te].vs_SOM_Slow+d*(1-v)*X[te]*o[te].vs_SOM_Fast+y*-F[te]-(J[te]*o[te].vs_SMB_Slow+z[te]),I[te]=m*(1-g)*(z[te]+Y[te])+M*-D[te]-(q[te]*o[te].vs_SMB_Fast+Y[te]),k[te]=-(b[te]/S)-I[te]/S-E[te]/B-L[te]/G;for(var ie=0,re=Q.length;re>ie;ie++)$=Q[ie],s($.vo_CN_Ratio_AOM_Fast)>=1e-7&&(k[te]-=$.vo_AOM_FastDelta/$.vo_CN_Ratio_AOM_Fast),s($.vo_CN_Ratio_AOM_Slow)>=1e-7&&(k[te]-=$.vo_AOM_SlowDelta/$.vo_CN_Ratio_AOM_Slow);o[te].vs_SoilNH4+=s(k[te])}else if(s(k[te])>=o[te].vs_SoilNH4*O)o[te].vs_SoilNO3-=s(k[te])-o[te].vs_SoilNH4*O,o[te].vs_SoilNH4-=o[te].vs_SoilNH4*O;else if(o[te].vs_SoilNH4-=s(k[te]),i&&o[te].vs_SoilNH4<0)throw new Error(o[te].vs_SoilNH4)}else o[te].vs_SoilNH4+=s(k[te]);R[te]=s(k[te])*o[0].vs_LayerThickness,P+=s(k[te])*o[0].vs_LayerThickness,U+=s(k[te])*o[0].vs_LayerThickness}},ce=function(t,e,a){var r,_,n,c,s,p,l=0,u=0,f=0;r=o[0].vs_SoilMoisture_pF()>2.5?0:1;var d=o[0].vo_AOM_Pool;if(d.forEach(function(t,e){e>0&&(f+=t.vo_DaysAfterApplication)}),f>0||t?(l=0,d.forEach(function(t,i){i>0&&(_=0,n=0,c=0,s=0,p=0,_=1e3*t.vo_AOM_NH4Content*t.vo_AOM_DryMatterContent,n=.0495*O(1.102,r)*O(1.0223,e)*O(1.0417,a)*O(1.108,t.vo_AOM_DryMatterContent)*O(.828,_)*O(11.3,Number(t.incorporation)),c=1.038*O(1.102,r)*O(.96,e)*O(.95,a)*O(1.175,t.vo_AOM_DryMatterContent)*O(1.106,_)*O(1,Number(t.incorporation))*(18869.3*v(-o[0].vs_SoilpH/.63321)+.70165),s=n*(c/O(t.vo_DaysAfterApplication+c,2)),p=s*_*(t.vo_AOM_Slow+t.vo_AOM_Fast)/1e4/1e3,l+=p)}),u=o[0].vs_SoilNH4>l?l:o[0].vs_SoilNH4,o[0].vs_SoilNH4-=u/o[0].vs_LayerThickness,Q(u,"vo_N_ActVolatilised"),Q(o[0].vs_SoilNH4,"soilColumn[0].vs_SoilNH4"),o[0].vs_SoilNH4-=u,Q(o[0].vs_SoilNH4,"soilColumn[0].vs_SoilNH4")):u=0,i&&o[0].vs_SoilNH4<0)throw new Error(o[0].vs_SoilNH4);F=u+T,d.forEach(function(e,a){a>0&&e.vo_DaysAfterApplication>0&&!t&&e.vo_DaysAfterApplication++})},se=function(){if(i&&o[0].vs_SoilNO3<0)throw new error(o[0].vs_SoilNO3);for(var t=o.vs_NumberOfOrganicLayers(),e=n.userSoilOrganicParameters.po_AmmoniaOxidationRateCoeffStandard,a=n.userSoilOrganicParameters.po_NitriteOxidationRateCoeffStandard,r=new Array(t),_=new Array(t),c=new Array(t),s=new Array(t),p=0;t>p;p++)r[p]=e*me(o[p].get_Vs_SoilTemperature())*Se(o[p].vs_SoilMoisture_pF()),c[p]=r[p]*o[p].vs_SoilNH4,_[p]=a*me(o[p].get_Vs_SoilTemperature())*Se(o[p].vs_SoilMoisture_pF())*he(o[p].vs_SoilNH4,o[p].vs_SoilpH),s[p]=_[p]*o[p].vs_SoilNH4;if(i&&o[0].vs_SoilNH4<0)throw new Error(o[0].vs_SoilNH4);if(i&&o[0].vs_SoilNO2<0)throw new Error(o[0].vs_SoilNO2);if(i&&o[0].vs_SoilNO3<0)throw new Error(o[0].vs_SoilNO3);for(var p=0;t>p;p++)o[p].vs_SoilNH4>c[p]?(o[p].vs_SoilNH4-=c[p],o[p].vs_SoilNO2+=c[p]):(o[p].vs_SoilNO2+=o[p].vs_SoilNH4,o[p].vs_SoilNH4=0),o[p].vs_SoilNO2>s[p]?(o[p].vs_SoilNO2-=s[p],o[p].vs_SoilNO3+=s[p]):(o[p].vs_SoilNO3+=o[p].vs_SoilNO2,o[p].vs_SoilNO2=0);if(i&&o[0].vs_SoilNH4<0)throw new Error(o[0].vs_SoilNH4);if(i&&o[0].vs_SoilNO2<0)throw new Error(o[0].vs_SoilNO2);if(i&&o[0].vs_SoilNO3<0)throw new Error(o[0].vs_SoilNO3)},pe=function(){var t=o.vs_NumberOfOrganicLayers(),e=new Array(t),a=n.userSoilOrganicParameters.po_SpecAnaerobDenitrification,r=n.userSoilOrganicParameters.po_TransportRateCoeff;Y=0;for(var _=0;t>_;_++)e[_]=a*H[_]*me(o[_].get_Vs_SoilTemperature()),u[_]=M(e[_]*ye(o[_].get_Vs_SoilMoisture_m3(),o[_].get_Saturation()),r*o[_].vs_SoilNO3);for(var _=0;t>_;_++)o[_].vs_SoilNO3>u[_]?o[_].vs_SoilNO3-=u[_]:(u[_]=o[_].vs_SoilNO3,o[_].vs_SoilNO3=0),Y+=u[_]*o[0].vs_LayerThickness;if(G+=Y,i&&0>Y)throw new Error(Y)},le=function(){var t=o.vs_NumberOfOrganicLayers(),e=new Array(t),a=n.userSoilOrganicParameters.po_N2OProductionRate;N=0;for(var i=0;t>i;i++)e[i]=o[i].vs_SoilNO2*me(o[i].get_Vs_SoilTemperature())*a*(1/(1+(O(10,o[i].vs_SoilpH)-z.PO_PKAHNO2))),N+=e[i]},ue=function(){for(var t=0;t<o.vs_NumberOfOrganicLayers();t++){var e=o[t].vo_AOM_Pool;
m[t]=0,f[t]=0,y[t]=0,g[t]=0,e.forEach(function(e){e.vo_AOM_Slow+=e.vo_AOM_SlowDelta,e.vo_AOM_Fast+=e.vo_AOM_FastDelta,m[t]+=e.vo_AOM_SlowDelta,f[t]+=e.vo_AOM_FastDelta,y[t]+=e.vo_AOM_Slow,g[t]+=e.vo_AOM_Fast}),o[t].vs_SOM_Slow+=E[t],o[t].vs_SOM_Fast+=L[t],o[t].vs_SMB_Slow+=b[t],o[t].vs_SMB_Fast+=I[t],h[t]=0==t?S+d+m[t]+f[t]+b[t]+I[t]+E[t]+L[t]+B:m[t]+f[t]+b[t]+I[t]+E[t]+L[t],x[t]=o[t].vs_SoilOrganicCarbon()*o[t].vs_SoilBulkDensity()-A[t],x[t]+=h[t],o[t].set_SoilOrganicCarbon((x[t]+A[t])/o[t].vs_SoilBulkDensity()),o[t].set_SoilOrganicMatter((x[t]+A[t])/z.PO_SOM_TO_C/o[t].vs_SoilBulkDensity())}},fe=function(t,e){var a=0;if(t>=0&&e>=t)a=1-2*t;else{if(!(t>e&&1>=t))throw new Error("irregular clay content");a=1-2*e}return a},de=function(t){var e=0;if(0>=t&&t>-40)e=0;else if(t>0&&20>=t)e=.1*t;else{if(!(t>20&&70>=t))throw new Error("irregular soil temperature fo_TempOnDecompostion (d_SoilTemperature = "+t+")");e=v(.47-.027*t+.00193*t*t)}return e},ve=function(t){var e=0;if(s(t)<=1e-7)e=.6;else if(t>0&&1.5>=t)e=.6+.4*(t/1.5);else if(t>1.5&&2.5>=t)e=1;else if(t>2.5&&6.5>=t)e=1-(t-2.5)/4;else{if(!(t>6.5))throw new Error("fo_MoistOnDecompostion ( d_SoilMoisture_pF ) : irregular soil water content");e=0}return e},ge=function(t){var e=0;if(t>0&&1.1>=t)e=.72;else if(t>1.1&&2.4>=t)e=.2207*t+.4672;else if(t>2.4&&3.4>=t)e=1;else if(t>3.4&&4.6>=t)e=-.8659*t+3.9849;else if(t>4.6)e=0;else{if(t!==-1/0)throw new Error("fo_MoistOnHydrolysis ( d_SoilMoisture_pF: "+t+" ) irregular soil water content");e=0}return e},me=function(t){var e=0;if(2>=t&&t>-40)e=0;else if(t>2&&6>=t)e=.15*(t-2);else if(t>6&&20>=t)e=.1*t;else{if(!(t>20&&70>=t))throw new Error("irregular soil temperature");e=v(.47-.027*t+.00193*t*t)}return e},Se=function(t){var e=0;if(s(t)<=1e-7)e=.6;else if(t>0&&1.5>=t)e=.6+.4*(t/1.5);else if(t>1.5&&2.5>=t)e=1;else if(t>2.5&&5>=t)e=1-(t-2.5)/2.5;else{if(!(t>5))throw new Error("irregular soil water content");e=0}return e},ye=function(t,e){var a=n.userSoilOrganicParameters.po_Denit1,i=n.userSoilOrganicParameters.po_Denit2,r=n.userSoilOrganicParameters.po_Denit3,o=0;if(.8>=t/e)o=0;else if(t/e>.8&&.9>=t/e)o=a*(t/e-i)/(r-i);else{if(!(t/e>.9&&1>=t/e))throw new Error("irregular soil water content");o=a+(1-a)*(t/e-r)/(1-r)}return o},he=function(t,e){var a=n.userSoilOrganicParameters.po_Inhibitor_NH3,i=0;return i=a+t*(1-1/(1+O(10,e-z.PO_PKANH3)))/a},Me=function(t,e){var a=0;return a=t-1e4*e},Oe=function(t,e){var a=0;return a=-t+1e4*e},Ce=function(t){return x[t]/o[t].vs_SoilBulkDensity()},Ae=function(t){return g[t]},Ne=function(t){return y[t]},De=function(t){return o[t].vs_SMB_Fast},we=function(t){return o[t].vs_SMB_Slow},Pe=function(t){return o[t].vs_SOM_Fast},Re=function(t){return o[t].vs_SOM_Slow},Fe=function(t){return h[t]},Te=function(t){return H[t]},He=function(t){return u[t]},Ie=function(t){return 1e4*R[t]},be=function(){return 1e4*P},xe=function(){return 1e4*U},Le=function(){return 1e4*G},Be=function(){return 1e4*Y},Ee=function(){return 1e4*F},Ge=function(){return 1e4*V},Ue=function(){return 1e4*N},ke=function(){return 1e4*k},Ve=function(){return 1e4*C},Ye=function(){return w},We=function(){return D},qe=function(t){q=t},Ke=function(){q=null};return{step:ie,addOrganicMatter:re,addIrrigationWater:oe,setIncorporation:function(t){W=t},put_Crop:qe,remove_Crop:Ke,get_SoilOrganicC:Ce,get_AOM_FastSum:Ae,get_AOM_SlowSum:Ne,get_SMB_Fast:De,get_SMB_Slow:we,get_SOM_Fast:Pe,get_SOM_Slow:Re,get_CBalance:Fe,get_SMB_CO2EvolutionRate:Te,get_ActDenitrificationRate:He,get_NetNMineralisationRate:Ie,get_NH3_Volatilised:Ee,get_SumNH3_Volatilised:Ge,get_N2O_Produced:Ue,get_SumN2O_Produced:ke,get_NetNMineralisation:be,get_SumNetNMineralisation:xe,get_SumDenitrification:Le,get_Denitrification:Be,get_DecomposerRespiration:Ve,get_NetEcosystemProduction:Ye,get_NetEcosystemExchange:We}},Fe=function(t,e){for(var a=t,i=e,r=0,o=0,_=0,n=0,c=0,s=new Float64Array(t.vs_NumberOfLayers()+1),p=i.userEnvironmentParameters.p_timeStep,l=i.userSoilMoistureParameters.pm_HydraulicConductivityRedux,u=0,f=s.length;f>u;u++)s[u]=1;var d=function(t,e){var a=y(),i=S(),_=h(a),c=M(i,_),s=C(i,a),p=w(t,e);if(r=N(a,c,p),isNaN(r))throw r;o+=r,n=A(p,s,a),P()},S=function(){for(var t=a.vs_NumberOfLayers(),e=0,i=0;t>i;i++)e+=a[i].vs_SoilBulkDensity();return e/t/1e3},y=function(){for(var t=a.vs_NumberOfLayers(),e=0,i=0;t>i;i++)e+=a[i].get_FieldCapacity();return e/t},h=function(t){var e=13.05,a=1.06,i=100*(t+(1+e*O(t,a)*t));return i},M=function(t,e){var a=.001*(3*t-1.7)/(1+(11.5-5*t)*v(-50*O(e/t,1.5)))*86400*p*4.184/1e6*100;return a},C=function(t,e){var a=.001*(3*t-1.7)/(1+(11.5-5*t)*v(-50*O(100*e/t,1.5)))*p*4.184*100;return a},A=function(t,e,a){var i=0,o=0,_=0,c=0,s=0;return i=0>t?-1*t:t,o=0==r?0:D(2*e*i/(79e5*a/100)),_=0>t?-1*o:o,c=n+_,s=0>c?0:c},N=function(t,e,a){var i=0,o=1e5*t/100*.335;r>0&&c++;var n=.3*c/o;return 0>a&&(_-=a),i=.01>_?0:D(n/2*(n/2)+2*e*_/o)-n/2,isNaN(i)?0:i},w=function(t,e){var a=0;return a=.01>e/100?t:.01>r?t:t/(1+10*e/100/r)},P=function(){for(var t=a.vs_NumberOfLayers(),e=0;t>e;e++)if(e<m(g(r/a[e].vs_LayerThickness+.5))&&(a[e].vs_SoilFrozen=!0,s[e]=0,0==e&&(l=0)),e<m(g(n/a[e].vs_LayerThickness+.5))&&(n<(e+1)*a[e].vs_LayerThickness&&r>n?(a[e].vs_SoilFrozen=!0,s[e]=0,0==e&&(l=0)):(a[e].vs_SoilFrozen=!1,s[e]=1,0==e&&(l=.1))),n>=r){n=0,r=0,_=0,c=0,l=i.userSoilMoistureParameters.pm_HydraulicConductivityRedux;for(var e=0;t>e;e++)a[e].vs_SoilFrozen=!1,s[e]=1}},R=function(t){return s[t]};return{calcSoilFrost:d,getFrostDepth:function(){return r},getThawDepth:function(){return n},getLambdaRedux:R,getAccumulatedFrostDepth:function(){return o}}},Te=function(t){var e=0,a=0,i=0,r=0,o=0,_=0,n=t,c=n.userSoilMoistureParameters,s=0,p=c.pm_SnowMeltTemperature,l=c.pm_SnowAccumulationTresholdTemperature,u=c.pm_TemperatureLimitForLiquidWater,f=c.pm_CorrectionRain,d=c.pm_CorrectionSnow,v=c.pm_RefreezeTemperature,g=c.pm_RefreezeParameter1,m=c.pm_RefreezeParameter2,S=c.pm_NewSnowDensityMin,y=c.pm_SnowMaxAdditionalDensity,h=c.pm_SnowPacking,M=c.pm_SnowRetentionCapacityMin,C=c.pm_SnowRetentionCapacityMax,A=function(t,o){var _=0,n=0,c=D(t,o,n,_);o=c.net_precipitation,_=c.net_precipitation_snow,n=c.net_precipitation_water;var p=N(t),l=w(t),u=P(t,_);e=R(_,u),i=i+_-p+l,r=r+n+p-l;var f=i+r,d=F(i,f),v=0;l>0?v=0:d>=r?v=0:(v=r-d,r-=v,f=i+r),H(f),s=T(o,v,a)},N=function(t){var a=1.4*(e/.1),r=0;return a>4.7&&(a=4.7),0>=i?r=0:p>t?r=0:(r=a*(t-p),r>i&&(r=i)),r},D=function(t,e,a,i){var r=0;return r=t>=l?1:u>=t?0:(t-u)/(l-u),a=r*f*e,i=(1-r)*d*e,e=i+a,{net_precipitation:e,net_precipitation_snow:i,net_precipitation_water:a}},w=function(t){var e=0,a=0;return a=t>0?0:t,v>a?(r>0&&(e=g*O(v-a,m)),e>r&&(e=r)):e=0,e},P=function(t,e){var a=0,i=0;return 0>=e?a=0:(i=(t-u)/(l-u),i>1&&(i=1),0>i&&(i=0),a=S+y*i),a},R=function(t,i){var r=0;return 0>=a+t?r=0:(r=((1+h)*e*a+i*t)/(a+t),r>S+y&&(r=S+y)),r},F=function(t,a){var i,r;return 0>=t||0>=e?i=0:(i=C/10/e,M>i&&(i=M),i>C&&(i=C)),r=i*a},T=function(t,e,a){var i=t;return a>=.01&&(s=e),i},H=function(t){var n=1;0>=t?a=0:(a=t*n/e,a>o&&(o=a),.01>a&&(a=0)),0==a&&(e=0,i=0,r=0),_+=a};return{calcSnowLayer:A,getVm_SnowDepth:function(){return a},getWaterToInfiltrate:function(){return s},getMaxSnowDepth:function(){return o},accumulatedSnowDepth:function(){return _}}},He=function(t,e,a,i){var r=t,_=e,n=a,c=i,u=t.vs_NumberOfLayers()+1,f=t.vs_NumberOfLayers(),y=0,C=new Float64Array(u),A=0,w=(new Float64Array(u),new Float64Array(u)),R=new Float64Array(u),F=new Float64Array(u),T=new Float64Array(u),H=new Float64Array(u),I=0,b=new Float64Array(u),x=0,L=0,B=(new Float64Array(u),0),E=0,G=.6,U=new Float64Array(u),k=0,V=e.vs_Latitude,Y=new Float64Array(u),W=0,q=0,K=new Float64Array(u),z=0,j=new Float64Array(u),X=6,Z=(new Float64Array(u),new Float64Array(u)),Q=0,$=new Float64Array(u),te=0,ee=0,ae=0,ie=0,re=new Float64Array(u),oe=0,_e=new Float64Array(u),ne=0,ce=null;B=0,E=0,ee=0,A=0,x=0,vm_ActualTranspiration=0,vm_ActualEvaporation=0,vm_PercolationFactor=0,k=0;for(var se=0;u>se;se++)Z[se]=.2,Y[se]=.01;J(o.INFO,"Constructor: SoilMoisture");for(var pe=new Te(c),le=new Fe(r,c),ue=c.userSoilMoistureParameters,fe=c.userEnvironmentParameters,de=ue.pm_HydraulicConductivityRedux,ve=(c.userEnvironmentParameters.p_timeStep,ue.pm_SurfaceRoughness),ge=ue.pm_GroundwaterDischarge,me=ue.pm_MaxPercolationRate,Se=fe.p_LeachingDepth,ye=fe.p_LayerThickness,he=m(g(.5+Se/ye))-1,Me=new Array(u),se=0;u>se;se++)Me[se]=ue.pm_SaturatedHydraulicConductivity;var Oe=function(t,e,a,i,o,s,p,l,d,v){for(var g=0;f>g;g++)Z[g]=r[g].get_Vs_SoilMoisture_m3(),_e[g]=0,H[g]=r[g].get_FieldCapacity(),$[g]=r[g].get_Saturation(),K[g]=r[g].get_PermanentWiltingPoint(),Y[g]=r[g].vs_LayerThickness,U[g]=r[g].vs_Lambda;Z[u-1]=r[u-2].get_Vs_SoilMoisture_m3(),_e[u-1]=0,H[u-1]=r[u-2].get_FieldCapacity(),$[u-1]=r[u-2].get_Saturation(),Y[u-1]=r[u-2].vs_LayerThickness,U[u-1]=r[u-2].vs_Lambda,ie=r.vs_SurfaceWaterStorage;var S=!1,y=0,h=0;n.cropGrowth()?(S=!0,z=n.cropGrowth().get_SoilCoverage(),G=n.cropGrowth().get_KcFactor(),y=n.cropGrowth().get_CropHeight(),h=n.cropGrowth().get_DevelopmentalStage(),W=h>0?n.cropGrowth().get_NetPrecipitation():e):(S=!1,G=c.userSoilMoistureParameters.pm_KcFactor,W=e,z=0),L=f+2;for(var M=f-1,g=f-1;g>=0;g--)Z[g]==$[g]&&M==g&&(M--,L=g);L>m(t/r[0].vs_LayerThickness)&&f+2>L?L=m(t/r[0].vs_LayerThickness):L>=f+2&&(L=m(t/r[0].vs_LayerThickness)),r.vm_GroundwaterTable=L,pe.calcSnowLayer(s,W);var O=pe.getWaterToInfiltrate();le.calcSoilFrost(s,pe.getVm_SnowDepth()),Ce(O,z,L),10>=t&&t>0?(Pe(t),Re()):(He(),Ie()),be(z,G,_.vs_HeightNN,a,i,o,s,p,l,d,h,v,V),we();for(var g=0;f>g;g++)r[g].set_Vs_SoilMoisture_m3(Z[g]),r[g].vs_SoilWaterFlux=_e[g],r[g].calc_vs_SoilMoisture_pF();r.vs_SurfaceWaterStorage=ie,r.vs_FluxAtLowerBoundary=I},Ce=function(t,e,a){var i,n,c,p,l;B=0,E=0,ee=0,A=0,x=0,vm_ActualTranspiration=0,p=0,l=0;var u=ie;if(ie+=t,Q=($[0]-Z[0])/$[0],c=Me[0]*de,c>0?(n=.2*c*Q*Q,B=M(ie,n),B=M(B,1e3*($[0]-Z[0])*r[0].vs_LayerThickness),B=h(0,B)):B=0,B>0&&(ie-=B),ie>10*ve/(_.vs_Slope+.001)&&(i=.02+ve/4+e/15,_.vs_Slope<0||_.vs_Slope>1?J(o.WARN,"Slope value out ouf boundary"):0==_.vs_Slope?ee=0:ee+=_.vs_Slope>i?ie:_.vs_Slope*i/(i*i)*ie,ie-=ee),Z[0]+=B/1e3/Y[0],_e[0]=B,Z[0]>H[0]){if(b[0]=1e3*(Z[0]-H[0])*Y[0],l=U[0]*le.getLambdaRedux(0),p=1+l*b[0],j[0]=b[0]*b[0]*l/p,j[0]>me&&(j[0]=me),b[0]=b[0]-j[0],b[0]=h(0,b[0]),Z[0]=H[0]+b[0]/1e3/Y[0],1>=a&&(j[0]=0),0==a&&(j[0]=0,Z[0]>$[0]))return ee+=1e3*(Z[0]-$[0])*Y[0],void(Z[0]=$[0])}else Z[0]<=H[0]&&(j[0]=0,b[0]=0);s(u+t-(ee+B+ie))>.01&&J(o.WARN,"water balance wrong!"),_e[1]=j[0],ae+=ee},Ae=function(t){return r[t].get_Vs_SoilMoisture_m3()},Ne=function(t){return w[t]},De=function(t){return j[t]},we=function(){var t,e,a;if(t=ce?ce.get_RootingDepth():0,e=L-t,1>e&&(e=1),e*Y[0]<=2.7){for(var i=0;f>i;i++)w[i]=H[i]-K[i],C[i]=Z[i]-K[i],C[i]<0&&(C[i]=0),R[i]=.7*w[i];for(var o=.01,_=.01,n=M(L,f-1),i=n;i>=0;i--){var s=r[i].vs_SoilTexture;if(_=c.capillaryRiseRates.getRate(s,e),o>_&&(o=_),C[i]<R[i]){a=o,Z[i]+=a;for(var p=n;p>=i;p--)_e[p]-=a;break}}}},Pe=function(t){var e,a;x=0;for(var i=0;u-1>i;i++)L-1>i&&(Z[i+1]+=j[i]/1e3/Y[i],_e[i+1]=j[i],Z[i+1]>H[i+1]?(b[i+1]=1e3*(Z[i+1]-H[i+1])*Y[i+1],a=U[i+1]*le.getLambdaRedux(i+1),e=1+a*b[i+1],j[i+1]=b[i+1]*b[i+1]*a/e,b[i+1]=b[i+1]-j[i+1],b[i+1]<0&&(b[i+1]=0),Z[i+1]=H[i+1]+b[i+1]/1e3/Y[i+1],Z[i+1]>$[i+1]&&(b[i+1]=1e3*(Z[i+1]-$[i+1])*Y[i+1],Z[i+1]=$[i+1],j[i+1]+=b[i+1])):(j[i+1]=0,b[i+1]=0)),i==L-1&&(L>=m(t/Y[i])?(Z[i+1]+=j[i]/1e3/Y[i],j[i+1]=ge,_e[i+1]=j[i]):(Z[i+1]+=(j[i]-ge)/1e3/Y[i],j[i+1]=ge,_e[i+1]=ge),Z[i+1]>=$[i+1]&&(x=1e3*(Z[i+1]-$[i+1])*Y[i+1],Z[i+1]=$[i+1],0>=x&&(x=0))),i>L-1&&(Z[i+1]=$[i+1],L>=m(t/Y[i])?(j[i+1]=j[i],_e[i]=j[i+1]):(j[i+1]=ge,_e[i]=ge));I=_e[he]},Re=function(){var t;if(!(L>f)){t=L,t>u-2&&(t=u-2);for(var e=t;e>=0;e--)Z[e]+=x/1e3/Y[e+1],e==t?j[e]=ge:(j[e]-=x,_e[e+1]=j[e]),Z[e]>$[e]?(x=1e3*(Z[e]-$[e])*Y[e+1],Z[e]=$[e],L--,0==e&&0==L&&(ie+=x,x=0)):x=0}},He=function(){for(var t,e,a=0;u-1>a;a++)Z[a+1]+=j[a]/1e3/Y[a],Z[a+1]>H[a+1]?(b[a+1]=1e3*(Z[a+1]-H[a+1])*Y[0],e=U[a+1]*le.getLambdaRedux(a+1),t=1+e*b[a+1],j[a+1]=b[a+1]*b[a+1]*e/t,j[a+1]>me&&(j[a+1]=me),b[a+1]=b[a+1]-j[a+1],b[a+1]<0&&(b[a+1]=0),Z[a+1]=H[a+1]+b[a+1]/1e3/Y[a+1]):(j[a+1]=0,b[a+1]=0),_e[a+1]=j[a],x=j[a+1];I=he>0&&u-1>he?_e[he]:_e[u-2]},Ie=function(){for(var t=u-1,e=u-1,a=0,i=0;u-1>i;i++)Z[i]>$[i]&&(t=i,e=i);if(0!=e)for(var i=t;i>=0;i--)Z[i]+=a/1e3/Y[i],i>0&&(_e[i-1]-=a),Z[i]>$[i]?(a=1e3*(Z[i]-$[i])*Y[i],Z[i]=$[i],e--,0==i&&0==e&&(ie+=a,a=0)):a=0},be=function(t,e,a,i,r,o,_,s,p,l,u,d,v){var g=0,m=0,S=0,h=0,M=0,O=0,C=0,A=0,N=0,D=!1,w=pe.getVm_SnowDepth(),P=c.userSoilMoistureParameters;if(h=P.pm_EvaporationZeta,ne=P.pm_XSACriticalSoilMoisture,M=P.pm_MaximumEvaporationImpactDepth,u>0?(X=n.cropGrowth().get_ReferenceEvapotranspiration(),C=n.cropGrowth().get_RemainingEvapotranspiration(),A=n.cropGrowth().get_EvaporatedFromIntercept()):(X=xe(a,i,r,o,_,s,p,l,d,v),C=X*e),vm_ActualEvaporation=0,vm_ActualTranspiration=0,C>6.5&&(C=6.5),C>0&&(ie>0&&(D=!0,C*=1.1/e,w>0?N=0:C>ie?(C-=ie,N=ie,ie=0):(ie-=C,N=C,C=0),C*=e/1.1),C>0))for(var R=0;f>R;R++)g=Le(R,t,C),m=R>=M?0:Be(R+1,M,h,Y[R]),S=R>0&&Z[R]<Z[R-1]?.1:1,O=g*m*S,u>0?(t>=0&&1>t?F[R]=(1-t)*O*C:t>=1&&(F[R]=0),w>0&&(F[R]=0),re[R]=n.cropGrowth().get_Transpiration(R),D&&(re[R]=t*O*C)):(F[R]=w>0?0:C*O,re[R]=0),T[R]=F[R]+re[R],Z[R]-=T[R]/1e3/Y[R],Z[R]<.01&&(Z[R]=.01),vm_ActualTranspiration+=re[R],vm_ActualEvaporation+=F[R];y=vm_ActualTranspiration+vm_ActualEvaporation+A+N,ce&&ce.accumulateEvapotranspiration(y)},xe=function(t,e,a,i,r,o,_,n,s,u){var f,g,m,y,h,M,C,A,w,R,F,T,H,I,b,x,L,B,E,G,U,k,V=c.userCropParameters.pc_ReferenceAlbedo,Y=3.141592653589793;f=-23.4*d(2*Y*((s+10)/365)),g=N(f*Y/180)*N(u*Y/180),m=d(f*Y/180)*d(u*Y/180),y=12*(Y+2*l(g/m))/Y,h=12*(Y+2*l((-N(8*Y/180)+g)/m))/Y,M=12*(Y+2*l((-N(-6*Y/180)+g)/m))/Y,C=3600*(g*y+24/Y*m*D(1-g/m*(g/m))),A=650*C*v(-.14/(C/(3600*y))),w=.2*A;var W=1440/Y*8.2*(1+.033*d(2*Y*s/365)),K=p(-P(u*Y/180)*P(f*Y/180));U=W*(K*g+m*N(K))/100,R=101.3*O((293-.0065*t)/293,5.26),F=665e-6*R,T=.6108*v(17.27*e/(237.3+e)),H=.6108*v(17.27*a/(237.3+a)),I=(T+H)/2,b=0>=i?H:i*I,x=I-b,L=2503.0584*v(17.27*r/(r+237.3))/((r+237.3)*(r+237.3)),B=o*(4.87/S(67.8*_-5.42)),E=208/B,te=100,G=te/1.44;var z=(.75+2e-5*t)*U,j=n/z;j>1&&(j=1);var J=4.9e-9,X=(1-V)*n,Z=J*((O(a+273.16,4)+O(e+273.16,4))/2)*(1.35*j-.35)*(.34-.14*D(b));return q=X-Z,k=(.408*L*q+F*(900/(r+273))*B*x)/(L+F*(1+G/208*B)),0>k&&(k=0),k},Le=function(t,e,a){var i,o,_,n,c,s=1,p=r[t].get_Vs_SoilMoisture_m3(),l=r[t].get_PermanentWiltingPoint(),u=r[t].get_FieldCapacity();return.33*l>p&&(p=.33*l),o=(p-.33*l)/(u-.33*l),o>1&&(o=1),0==s?(_=.65*u,e>0&&(a>2.5?(n=(.65*u-l)*(u-l),c=n+(1-n)/17.5*(a-2.5)):c=ne/2.5*a,_=r[t].get_FieldCapacity()*c),i=p>_?1:p>.33*l?o:0):1==s&&(i=0,i=o>.33?1-.1*(1-o)/(1-.33):o>.22?.9-.625*(.33-o)/(.33-.22):o>.2?.275-.225*(.22-o)/(.22-.2):.05-.05*(.2-o)/.2),i},Be=function(t,e,a,i){var r,o=e/(10*i);if(s(a)<3e-4)return r=2/o-1/(o*o)*(2*t-1);var _=0,n=0;return _=S((o+a*t)/(o+a*(t-1))),n=a/(o*(a+1)),r=(_-n)/(S(a+1)-a/(a+1))},Ee=function(t){if(1===arguments.length){for(var e=0,a=0,i=0,o=0;f>o;o++){i++;var _=r[o].get_Vs_SoilMoisture_m3(),n=r[o].get_FieldCapacity(),c=r[o].get_PermanentWiltingPoint();if(a+=_/(n-c),e+=r[o].vs_LayerThickness,e>=t)break}return a/i}var s=arguments[0],p=arguments[1],a=0,i=0;if(s+p>f)return-1;for(var o=s;s+p>o;o++){i++;var _=r[o].get_Vs_SoilMoisture_m3(),n=r[o].get_FieldCapacity(),c=r[o].get_PermanentWiltingPoint();a+=_/(n-c)}return a/i},Ge=function(){return pe.getVm_SnowDepth()},Ue=function(){return pe.getMaxSnowDepth()},ke=function(){return pe.accumulatedSnowDepth()},Ve=function(){return le.getAccumulatedFrostDepth()},Ye=function(t){ce=t},We=function(){ce=null},qe=function(){return B},Ke=function(){return ie},ze=function(){return ee},je=function(){return y},Je=function(){return vm_ActualEvaporation},Xe=function(){return X},Ze=function(){return z},Qe=function(){return te},$e=function(){return le.getFrostDepth()},ta=function(){return le.getThawDepth()},ea=function(){return I},aa=function(){return ae},ia=function(){return G},ra=function(){return oe};return{step:Oe,get_SnowDepth:Ge,get_SoilMoisture:Ae,get_CapillaryRise:Ne,get_PercolationRate:De,get_Infiltration:qe,get_SurfaceWaterStorage:Ke,get_SurfaceRunOff:ze,get_Evapotranspiration:je,get_ActualEvaporation:Je,get_ET0:Xe,get_PercentageSoilCoverage:Ze,get_StomataResistance:Qe,get_FrostDepth:$e,get_ThawDepth:ta,get_GroundwaterRecharge:ea,get_SumSurfaceRunOff:aa,get_KcFactor:ia,get_TranspirationDeficit:ra,get_CapillaryRise:Ne,getMaxSnowDepth:Ue,accumulatedSnowDepth:ke,getAccumulatedFrostDepth:Ve,get_EReducer_1:Le,put_Crop:Ye,remove_Crop:We,fm_Infiltration:Ce,get_DeprivationFactor:Be,fm_CapillaryRise:we,fm_PercolationWithGroundwater:Pe,fm_GroundwaterReplenishment:Re,fm_PercolationWithoutGroundwater:He,fm_BackwaterReplenishment:Ie,fm_Evapotranspiration:be,ReferenceEvapotranspiration:xe,meanWaterContent:Ee}},Ie=function(t,e,a){for(var i=t,r=a,o=t.vs_NumberOfLayers(),_=new Float64Array(o),n=new Float64Array(o),c=new Float64Array(o),p=new Float64Array(o),l=new Float64Array(o),u=new Float64Array(o),f=0,d=e.vq_NDeposition,g=new Float64Array(o),m=new Float64Array(o),S=new Float64Array(o),y=new Float64Array(o),h=new Float64Array(o),M=1,O=(new Float64Array(o),new Float64Array(o)),C=null,A=0;o>A;A++)p[A]=1,u[A]=.1,S[A]=.2;var N=r.userEnvironmentParameters.p_LeachingDepth,M=r.userEnvironmentParameters.p_timeStep,D=function(){for(var t=1,e=0;o>e;e++)l[e]=i[e].get_FieldCapacity(),S[e]=i[e].get_Vs_SoilMoisture_m3(),y[e]=i[e].vs_SoilNO3,u[e]=i[0].vs_LayerThickness,g[e]=C?C.get_NUptakeFromLayer(e):0,O[e]=e==o-1?i.vs_FluxAtLowerBoundary:i[e+1].vs_SoilWaterFlux,O[e]<=5&&t>=1?t=1:O[e]>5&&O[e]<=10&&t>=1?t=.5:O[e]>10&&O[e]<=15&&t>=.5?t=.25:O[e]>15&&t>=.25&&(t=.125);w(d),P();for(var a=0;1/t>a;a++)R(N,t);for(var e=0;o>e;e++)y[e]=h[e]*S[e],y[e]<0&&(y[e]=0),i[e].vs_SoilNO3=y[e]},w=function(t){var e=t/365;y[0]+=e/(1e4*i[0].vs_LayerThickness)},P=function(){for(var t=0,e=r.userCropParameters.pc_MinimumAvailableN,a=0;o>a;a++)g[a]>y[a]*u[a]-e&&(g[a]=y[a]*u[a]-e),g[a]<0&&(g[a]=0),t+=g[a],y[a]-=g[a]/u[a],h[a]=y[a]/S[a],h[a]<0;i.vq_CropNUptake=t},R=function(t,e){var a=r.userSoilTransportParameters,d=a.pq_DiffusionCoefficientStandard,g=a.pq_AD,y=a.pq_DispersionLength,C=0,A=0;f=0;for(var N=new Array(o),D=0;o>D;D++)C+=u[D],t>C-.001&&(A=D);for(var D=0;o>D;D++){var w=i[0].vs_SoilWaterFlux,P=i[D].vs_LayerThickness,R=h[D];if(0==D){var F=O[D]/1e3*e,T=h[D+1];F>=0&&w>=0?_[D]=R*F/P:F>=0&&0>w?_[D]=R*F/P:0>F&&0>w?_[D]=T*F/P:0>F&&w>=0&&(_[D]=T*F/P)}else if(o-1>D){var H=O[D-1]/1e3*e,F=O[D]/1e3*e,T=h[D+1];if(F>=0&&H>=0){var I=h[D-1];_[D]=(R*F-I*H)/P}else if(F>=0&&0>H)_[D]=(R*F-R*H)/P;else if(0>F&&0>H)_[D]=(T*F-R*H)/P;else if(0>F&&H>=0){var I=h[D-1];_[D]=(T*F-I*H)/P}}else{var H=O[D-1]/1e3*e,F=i.vs_FluxAtLowerBoundary/1e3*e;if(F>=0&&H>=0){var I=h[D-1];_[D]=(R*F-I*H)/P}else if(F>=0&&0>H)_[D]=(R*F-R*H)/P;else if(0>F&&0>H)_[D]=-(R*H)/P;else if(0>F&&H>=0){var I=h[D-1];_[D]=-(I*H)/P}}}for(var D=0;o>D;D++){var F=O[D]/1e3*e,b=i[0].vs_SoilWaterFlux/1e3*e,P=i[D].vs_LayerThickness,R=h[D];if(D==o-1?(m[D]=s(F/l[D]),N[D]=S[D]):(m[D]=s(F/(.5*(l[D]+l[D+1]))),N[D]=.5*(S[D]+S[D+1])),n[D]=d*(g*v(2*N[D]*5)/N[D])*e,0==D)p[D]=N[D]*(n[D]+y*m[D])-.5*P*s(F)+.5*M*e*s((F+b)/2)*m[D];else{var H=O[D-1]/1e3*e;p[D]=N[D]*(n[D]+y*m[D])-.5*P*s(F)+.5*M*e*s((F+H)/2)*m[D]}if(0==D){var T=h[D+1];c[D]=-p[D]*(R-T)/(P*P)}else if(o-1>D){var I=h[D-1],T=h[D+1];c[D]=p[D-1]*(I-R)/(P*P)-p[D]*(R-T)/(P*P)}else{var I=h[D-1];c[D]=p[D-1]*(I-R)/(P*P)}}for(var D=0;o>D;D++)h[D]+=(c[D]-_[D])/S[D];if(O[A]>0){var P=i[A].vs_LayerThickness,R=h[A];if(o-1>A){var x=O[A+1]/1e3*e,T=h[A+1];f+=x*R/P*1e4*P+p[A]*(R-T)/(P*P)*1e4*P}else{var x=i.vs_FluxAtLowerBoundary/1e3*e;f+=x*R/P*1e4*P}}else{var x=O[A]/1e3*e,P=i[A].vs_LayerThickness,R=h[A];if(o-1>A){var T=h[A+1];f+=x*T/(1e4*P*P)+p[A]*(R-T)/(P*P*1e4*P)}}},F=function(t){return y[t]},T=function(){return f},H=function(t){C=t},I=function(){C=null};return{step:D,fq_NDeposition:w,fq_NUptake:P,fq_NTransport:R,put_Crop:H,remove_Crop:I,get_SoilNO3:F,get_NLeaching:T}},be=function(t,e,a){for(var i=e,r=a,_=new we,n=new we,c={sc:t,gl:_,bl:n,vs_nols:t.vs_NumberOfLayers(),at:function(t){return t<this.vs_nols?this[t]:t<this.vs_nols+1?this.gl:this.bl}},s=0;s<t.vs_NumberOfLayers();s++)c[s]=t[s];c[t.vs_NumberOfLayers()]=c.gl,c[t.vs_NumberOfLayers()+1]=c.bl;for(var p=t.vs_NumberOfLayers()+2,l=t.vs_NumberOfLayers(),u=new Array(p),f=new Array(p),d=new Array(p),g=new Array(p),m=new Array(p),S=new Array(p),y=new Array(p),h=new Array(p+1),M=new Array(p),C=new Array(p),A=new Array(p),N=.8,D=0,s=0;p>s;s++)u[s]=0,f[s]=0,d[s]=0,g[s]=0,m[s]=0,S[s]=0,y[s]=0,h[s]=0,M[s]=0,C[s]=0,A[s]=0;y[s+1]=0,J(o.INFO,"Constructor: SoilTemperature");for(var w=a.userSoilTemperatureParameters,P=w.pt_BaseTemperature,R=w.pt_InitialSurfaceTemperature,F=w.pt_NTau,T=r.userEnvironmentParameters.p_timeStep,H=w.pt_QuartzRawDensity,I=w.pt_SpecificHeatCapacityWater,b=w.pt_SpecificHeatCapacityQuartz,x=w.pt_SpecificHeatCapacityAir,L=w.pt_SpecificHeatCapacityHumus,B=w.pt_DensityWater,E=w.pt_DensityAir,G=w.pt_DensityHumus,U=w.pt_SoilMoisture,k=0;l>k;k++)f[k]=(1-k/l)*R+k/l*P,u[k]=U;d[0]=c[0].vs_LayerThickness,S[0]=2/c[0].vs_LayerThickness;var V=p-2,Y=p-1;c[V].vs_LayerThickness=2*c[V-1].vs_LayerThickness,c[Y].vs_LayerThickness=1,f[V]=.5*(f[V-1]+P),f[Y]=P;for(var W=c[0].vs_LayerThickness,k=1;p>k;k++){var q=c[k].vs_LayerThickness;S[k]=2/(q+W),d[k]=q*F,W=q}for(var k=0;l>k;k++){var K=c.at(k).vs_SoilBulkDensity(),z=u[k];M[k]=.001*(3*(K/1e3)-1.7)/(1+(11.5-5*(K/1e3))*v(-50*O(z/(K/1e3),1.5)))*86400*T*100*4.184;var j=I,X=b,Z=x,Q=L,$=B,te=H,ee=E,ae=G,ie=c[k].get_Saturation(),re=c.at(k).vs_SoilOrganicMatter()/ee*K;A[k]=z*$*j+(ie-z)*ee*Z+re*ae*Q+(1-ie-re)*te*X}A[V]=A[V-1],A[Y]=A[V],M[V]=M[V-1],M[Y]=M[V],vt_SoilSurfaceTemperature=R,C[0]=M[0];for(var k=1;p>k;k++){var oe=c.at(k-1).vs_LayerThickness,_e=c.at(k).vs_LayerThickness,ne=M[k-1],ce=M[k];C[k]=(oe*ne+_e*ce)/(_e+oe)}for(var k=0;p>k;k++)g[k]=d[k]*A[k],m[k]=g[k],h[k]=-S[k]*C[k];h[Y+1]=0;for(var k=0;p>k;k++)y[k]=g[k]-h[k]-h[k+1];var se=function(t,e,a){for(var i=p-2,r=p-1,o=new Array(p),_=new Array(p),n=new Array(p),s=0;p>s;s++)o[s]=0,_[s]=0,n[s]=0;D=pe(t,e,a)*S[0]*C[0],o[0]=(m[0]+(g[0]-m[0])/c[0].vs_LayerThickness)*f[0]+D;for(var u=1;p>u;u++)o[u]=(m[u]+(g[u]-m[u])/c[u].vs_LayerThickness)*f[u];_[0]=y[0];for(var u=1;p>u;u++)n[u]=h[u]/_[u-1],_[u]=y[u]-n[u]*h[u];for(var u=1;p>u;u++)o[u]=o[u]-n[u]*o[u-1];o[r]=o[r]/_[r];for(var u=0;r>u;u++){var d=r-1-u,v=d+1;o[d]=o[d]/_[d]-n[v]*o[v]}for(var u=0;p>u;u++)f[u]=o[u];for(var u=0;l>u;u++)m[u]=g[u],c[u].set_Vs_SoilTemperature(f[u]);m[i]=g[i],m[r]=g[r]},pe=function(t,e,a){var r=N,o=0;i.cropGrowth()&&(o=i.cropGrowth().get_SoilCoverage()),r=.1+(o*N+(1-o)*(1-N));var _=vt_SoilSurfaceTemperature;return 8.33>a&&(a=8.33),vt_SoilSurfaceTemperature=(1-r)*(t+(e-t)*O(.03*a,.5))+r*_,vt_SoilSurfaceTemperature<0&&(vt_SoilSurfaceTemperature=.5*vt_SoilSurfaceTemperature),vt_SoilSurfaceTemperature},le=function(){return vt_SoilSurfaceTemperature};get_SoilTemperature=function(t){return c[t].get_Vs_SoilTemperature()};var ue=function(t){return M[t]},fe=function(t){0===arguments.length&&(t=.3);for(var e=0,a=0,i=0,r=0;l>r&&(i++,a+=c[r].get_Vs_SoilTemperature(),e+=c[r].vs_LayerThickness,!(e>=t));r++);return 1>i?0:a/i};return{step:se,f_SoilSurfaceTemperature:pe,get_SoilSurfaceTemperature:le,get_SoilTemperature:get_SoilTemperature,get_HeatConductivity:ue,get_AvgTopSoilTemperature:fe,getDampingFactor:function(){return N},setDampingFactor:function(t){N=t},vt_SoilSurfaceTemperature:vt_SoilSurfaceTemperature}},xe=function(t,e,_,n){function c(t,e,a){return t.hasOwnProperty(e)&&null!=t[e]?t[e]:a}function s(t,e,a,i){var r=!0,_=e.length,n=0;J(o.INFO,"Fetching "+_+" horizons.");for(var s=0;_>s;++s){var p=e[s],l=100*p.thickness,u=m(C(l/a));s==_-1&&m(t.length)+u<i&&(u+=i-t.length-u);for(var f=0;u>f;f++){if(n===i*a){J(o.WARN,"Maximum soil layer depth ("+i*a+" cm) reached. Remaining layers in horizon "+s+" ignored.");break}n+=a;var d=new re;if(d.set_vs_SoilOrganicMatter(p.organicMatter),d.vs_SoilSandContent=p.sand,d.vs_SoilClayContent=p.clay,d.vs_SoilStoneContent=p.sceleton,d.vs_SoilpH=p.pH,d.vs_SoilTexture=$.texture2KA5(p.sand,p.clay),d.vs_Lambda=$.texture2lambda(d.vs_SoilSandContent,d.vs_SoilClayContent),d.vs_SoilpH=c(p,"pH",6.9),p.hasOwnProperty("poreVolume")&&null!=p.poreVolume&&p.hasOwnProperty("fieldCapacity")&&null!=p.fieldCapacity&&p.hasOwnProperty("permanentWiltingPoint")&&null!=p.permanentWiltingPoint&&p.hasOwnProperty("bulkDensity")&&null!=p.bulkDensity)d.set_vs_SoilBulkDensity(p.bulkDensity),d.vs_FieldCapacity=p.fieldCapacity,d.vs_Saturation=p.poreVolume-p.fieldCapacity,d.vs_PermanentWiltingPoint=p.permanentWiltingPoint;else{var v=$.saxton(p.sand,p.clay,p.organicMatter,p.sceleton).saxton_86;d.set_vs_SoilBulkDensity(A(2,v.BD)),d.vs_FieldCapacity=A(2,v.FC),d.vs_Saturation=A(2,v.SAT),d.vs_PermanentWiltingPoint=A(2,v.PWP)}d.isValid()||(r=!1,J(o.ERROR,"Error in soil parameters.")),t.push(d),J(o.INFO,"Fetched layer "+t.length+" in horizon "+s+".")}J(o.INFO,"Fetched horizon "+s+".")}return r}function p(t,e,a){var i=!0,r=e.length;J(o.INFO,"Fetching "+r+" crops.");for(var _=0;r>_;_++){var n=e[_],s="grassland"===n.name;if(s){var p=new Date(a.toISOString());p.setDate(p.getDate()+2);var d=c(n,"sowingDate",p),v=c(n,"harvestDates",[])}else{var d=new Date(Date.parse(n.sowingDate)),g=new Date(Date.parse(n.finalHarvestDate));d.isValid()&&g.isValid()||(i=!1,J(o.ERROR,"Invalid sowing or harvest date in "+n.name))}if(s){var m=new Oe(d,v,n.species);t[_]=new Se("grassland",m)}else{var S=new he(n.name);S.setSeedAndHarvestDate(d,g),t[_]=new Se(n.name,S)}var y=n.tillageOperations;y&&(l(t[_],y)||(i=!1,J(o.ERROR,"Error adding tillages.")));var h=n.mineralFertilisers;h&&(u(t[_],h,!1)||(i=!1,J(o.ERROR,"Error adding mineral fertilisers.")));var M=n.organicFertilisers;M&&(u(t[_],M,!0)||(i=!1,J(o.ERROR,"Error adding organic fertilisers.")));var O=n.irrigations;O&&(f(t[_],O)||(i=!1,J(o.ERROR,"Error adding irrigations.")));var C=n.cuttings;C&&(addCuttings(t[_],C)||(i=!1,J(o.ERROR,"Error adding cuttings."))),J(o.INFO,"Fetched crop "+_+": "+n.name)}return i}function l(t,e){var a=!0,i=e.length;J(o.INFO,"Fetching "+i+" tillages.");for(var r=0;i>r;++r){var _=e[r];if(null!==_.date&&null!==_.depth&&null!==_.method){{var n=new Date(Date.parse(_.date)),c=_.depth/100;_.method}n.isValid()||(a=!1,J(o.ERROR,"Invalid tillage date in tillage no. "+r+".")),t.addApplication(new ge(n,c)),J(o.INFO,"Fetched tillage "+r+".")}else J(o.WARN,"At least one tillage parameter null: tillage "+r+" ignored.")}return a}function u(t,e,a){var i=!0,r=e.length;J(o.INFO,"Fetching "+r+" "+(a?"organic":"mineral")+" fertilisers.");for(var _=0;r>_;++_){var n=e[_];if(null!==n.date&&null!==n.method&&null!==n.amount){var c=new Date(Date.parse(n.date)),s=(n.method,n.name),p=n.amount,l=n.carbamid,u=n.no3,f=n.nh4,d=n.dm;c.isValid()||(i=!1,J(o.ERROR,"Invalid fertilization date in "+_+".")),t.addApplication(a?new ve(c,new se(s,l,u,f,d),p,!0):new de(c,new ce(s,l,u,f),p)),J(o.INFO,"Fetched "+(a?"organic":"mineral")+" fertiliser "+_+".")}else J(o.WARN,"At least one fertiliser parameter null: "+(a?"organic":"mineral")+" fertiliser "+_+"ignored.")}return i}function f(t,e){var a=!0,i=e.length;J(o.INFO,"Fetching "+i+" irrigations.");for(var r=0;i>r;++r){var _=e[r];if(null!==_.date&&null!==_.method&&null!==_.eventType&&null!==_.threshold&&null!==_.amount&&null!==_.NConc){var n=(_.method,_.eventType,_.threshold,_.area,_.amount),c=_.NConc,s=new Date(Date.parse(_.date));s.isValid()||(a=!1,J(o.ERROR,"Invalid irrigation date in "+r+".")),t.addApplication(new me(s,n,new te(c,0))),J(o.INFO,"Fetched irrigation "+r+".")}else J(o.WARN,"At least one irrigation parameter null: irrigation "+r+" ignored.")}return a}function d(t,e){var a=!0,i=[];i[j.TMIN]=new Float64Array(e.tmin),i[j.TMAX]=new Float64Array(e.tmax),i[j.TAVG]=new Float64Array(e.tavg),i[j.GLOBRAD]=new Float64Array(e.globrad),i[j.WIND]=new Float64Array(e.wind),i[j.PRECIP]=new Float64Array(e.precip),i[j.DAYLENGTH]=new Float64Array(e.daylength),i[j.F_DIRECTRAD]=new Float64Array(e.f_directrad),i[j.EXRAD]=new Float64Array(e.exrad),i[j.SUNHOURS]=new Float64Array(e.sunhours),i[j.RELHUMID]=new Float64Array(e.relhumid),i[j.DOY]=e.doy,i[j.ISODATESTRING]=e.date;var r=i[j.TMIN].length;for(var o in j)i[j[o]].length!=r&&(a=!1);return a&&t.setData(i),a}function v(t,e,i,r){var _=[];if(!r)for(var n=0;S>n;n++)_.push({date:{value:e,unit:"[date]"}});a?postMessage({progress:_}):console.log(JSON.stringify(_,null,2)),r&&J(o.INFO,"done")}i=e===!0?!0:!1,r=_===!0?!0:!1,"function"==typeof n?n=[n]:Array.isArray(n)&&0!==n.length||(n=[v]);var g=null,S=0,y=function(e,a){var i=new Date(e.time.startDate),r=new Date(e.time.endDate),_=new ye(i,r);if(!d(_,t,Date.parse(e.time.startDate),Date.parse(e.time.endDate)))return void J(o.ERROR,"Error fetching weather data.");J(o.INFO,"Fetched weather data."),g=new Ne(_),Array.isArray(a)||(a=[a]),S=a.length;for(var l=0,u=a.length;u>l;l++){J(o.INFO,"Fetching parameter for site + "+l);{var f=a[l].site,v=a[l].production,y=new oe,h=new ie,M=new ae;i.getFullYear(),r.getFullYear()}y.userInitValues.p_initPercentageFC=c(e.init,"percentageFC",y.userInitValues.p_initPercentageFC),y.userInitValues.p_initSoilNitrate=c(e.init,"soilNitrate",y.userInitValues.p_initSoilNitrate),y.userInitValues.p_initSoilAmmonium=c(e.init,"soilAmmonium",y.userInitValues.p_initSoilAmmonium),y.userEnvironmentParameters.p_UseSecondaryYields=c(e.switches,"useSecondaryYieldOn",y.userEnvironmentParameters.p_UseSecondaryYields),M.pc_NitrogenResponseOn=c(e.switches,"nitrogenResponseOn",M.pc_NitrogenResponseOn),M.pc_WaterDeficitResponseOn=c(e.switches,"waterDeficitResponseOn",M.pc_WaterDeficitResponseOn),M.pc_WaterDeficitResponseOn=c(e.switches,"lowTemperatureStressResponseOn",M.pc_LowTemperatureStressResponseOn),M.pc_WaterDeficitResponseOn=c(e.switches,"highTemperatureStressResponseOn",M.pc_HighTemperatureStressResponseOn),M.pc_EmergenceMoistureControlOn=c(e.switches,"emergenceMoistureControlOn",M.pc_EmergenceMoistureControlOn),M.pc_EmergenceFloodingControlOn=c(e.switches,"emergenceFloodingControlOn",M.pc_EmergenceFloodingControlOn),J(o.INFO,"Fetched simulation data."),h.vs_Latitude=f.latitude,h.vs_Slope=f.slope,h.vs_HeightNN=f.heightNN,h.vq_NDeposition=c(f,"NDeposition",h.vq_NDeposition),y.userEnvironmentParameters.p_AthmosphericCO2=c(f,"atmosphericCO2",y.userEnvironmentParameters.p_AthmosphericCO2),y.userEnvironmentParameters.p_MinGroundwaterDepth=c(f,"groundwaterDepthMin",y.userEnvironmentParameters.p_MinGroundwaterDepth),y.userEnvironmentParameters.p_MaxGroundwaterDepth=c(f,"groundwaterDepthMax",y.userEnvironmentParameters.p_MaxGroundwaterDepth),y.userEnvironmentParameters.p_MinGroundwaterDepthMonth=c(f,"groundwaterDepthMinMonth",y.userEnvironmentParameters.p_MinGroundwaterDepthMonth),y.userEnvironmentParameters.p_WindSpeedHeight=c(f,"windSpeedHeight",y.userEnvironmentParameters.p_WindSpeedHeight),y.userEnvironmentParameters.p_LeachingDepth=c(f,"leachingDepth",y.userEnvironmentParameters.p_LeachingDepth),J(o.INFO,"Fetched site data.");var O=100*y.userEnvironmentParameters.p_LayerThickness,C=200,A=m(C/O),N=[];if(!s(N,f.horizons,O,A))return void J(o.ERROR,"Error fetching soil data.");J(o.INFO,"Fetched soil data.");var D=[];if(!p(D,v.crops,i))return void J(o.ERROR,"Error fetching crop data.");J(o.INFO,"Fetched crop data.");var w=new Ae(N,y);w.general=M,w.site=h,w.cropRotation=D,g.push(new De(w))}return J(o.INFO,"Start model run."),g.run(n)};return{run:y}};if(e){var Le=require("fs");exports.Configuration=xe,exports.config=t}else if(a){crop.Configuration=xe,crop.config=t;var Le=null;onmessage=function(t){if(t.data.hasOwnProperty("run")){var e=t.data.run,a=new xe(null,e.weather,e.debug);postMessage(a.run(e.sim,e.site,e.crop))}else postMessage(null)}}else{crop.Configuration=xe,crop.config=t;var Le=null}}();