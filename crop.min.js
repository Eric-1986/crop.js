var crop=crop||{};!function(){"use strict";function t(){}var e={simulation:{time:{startDate:"1991-01-01",endDate:"1992-12-31"},switches:{useSecondaryYieldOn:!1,nitrogenResponseOn:!0,waterDeficitResponseOn:!0},init:{percentageFC:1}},site:{latitude:52.2,slope:0,heightNN:1,horizons:[{thickness:.2,organicMatter:.05,sand:.6,clay:.05,sceleton:.02},{thickness:.5,organicMatter:.05,sand:.6,clay:.05,sceleton:.02},{thickness:2,organicMatter:.05,sand:.6,clay:.05,sceleton:.02}]},production:{crops:[{model:"generic",species:[{name:"winter wheat"}],sowingDate:"1991-10-01",plantDryWeight:225,percNTRansplant:.07,finalHarvestDate:"1992-08-01",residuesRemoval:.85,tillageOperations:[{date:"1991-09-01",method:"Plough",depth:30}],irrigations:[{date:"1992-06-01",method:"Sprinkler",eventType:"Fixed",threshold:.2,area:1,amount:5,NConc:0}],organicFertilisers:[{name:"cattle slurry",date:"1992-05-01",method:"Fixed",amount:30}],mineralFertilisers:[{name:"Ammonium Nitrate",date:"1992-04-01",method:"Fixed",amount:40}]},{model:"generic",species:[{name:"winter rye"}],sowingDate:"1992-09-01",plantDryWeight:225,percNTRansplant:.07,finalHarvestDate:"1993-08-01",residuesRemoval:.85,tillageOperations:[],irrigations:[{date:"1993-06-01",method:"Sprinkler",eventType:"Fixed",threshold:.2,area:1,amount:5,NConc:0}],organicFertilisers:[{name:"cattle slurry",date:"1993-05-01",method:"Fixed",amount:30}],mineralFertilisers:[{name:"Ammonium Nitrate",date:"1993-04-01",method:"Fixed",amount:40}]}]}},a="object"==typeof process&&"function"==typeof require,i=("object"==typeof window,"function"==typeof importScripts),r=!1,o=!0,n=0,_=1,c=2,s=3,p=0,l=1,u=2,f=Math.abs,v=Math.acos,d=Math.asin,g=Math.atan,m=Math.ceil,S=Math.cos,y=Math.exp,h=Math.floor,M=function(t){return 0|t},O=Math.log,C=function(t){return Math.log(t)/Math.LN10},A=Math.max,N=Math.min,D=Math.pow,w=Math.round,P=function(t,e){return parseFloat(e.toFixed(t))},R=Math.sin,F=Math.sqrt,T=function(t){return t.reduce(function(t,e){return t+e})},H=Math.tan,b=Math.PI,x=864e5,I=3600,L=1e4,B=5e5/.218,E=.85,G=.95,k=.55,U=.44,V=.4,Y=.44,W=.42,q=.53,K=.67,z=.6*U+.2*V+.2*K,J=.7*Y+.3*W,j=q,X=.16,Z={PO_UREAMOLECULARWEIGHT:.06006,PO_UREA_TO_N:.46667,PO_NH3MOLECULARWEIGHT:.01401,PO_NH4MOLECULARWEIGHT:.01401,PO_H2OIONCONCENTRATION:1,PO_PKAHNO2:3.29,PO_PKANH3:6.5,PO_SOM_TO_C:.57,PO_AOM_TO_C:.45},Q={TMIN:0,TMAX:1,TAVG:2,GLOBRAD:3,WIND:4,PRECIP:5,SUNHOURS:6,RELHUMID:7,DAYLENGTH:8,F_DIRECTRAD:9,ISODATESTRING:10,DOY:11,EXRAD:12};Date.prototype.isValid=function(){return"Invalid Date"!==this.toDateString()},Date.prototype.isLeapYear=function(){return 366===m((new Date(this.getFullYear()+1,0,1)-new Date(this.getFullYear(),0,1))/x)},Date.prototype.toISODateString=function(){return this.isValid()?this.toISOString().substr(0,10):void 0};var $=function(t,e){if(i){if(t!==n||o)switch("object"==typeof e&&(e=JSON.stringify(e,null,2)),t){case n:postMessage({msg:e,type:"info"});break;case _:postMessage({msg:e,type:"warn"});break;case c:postMessage({msg:e,type:"error"});break;case s:postMessage({msg:e,type:"debug"});break;default:postMessage({msg:e,type:"info"})}}else if(t!==n||o)switch("object"==typeof e&&(e=JSON.stringify(e,null,2)),t){case n:console.log("info: "+e);break;case _:console.log("warn: "+e);break;case c:console.log("error: "+e);break;case s:console.log("debug: "+e);break;default:console.log(e)}if(t===c)throw new Error("object"==typeof e&&null!==e?JSON.stringify(e,null,2):e)},te=function(t,e){if(r){var a=Array.prototype.slice.call(t),i=0,o=0,n=e||"",_=function(t){return t instanceof Function?!1:"object"==typeof t?null===t||void 0===t:"string"==typeof t||"boolean"===t?null===t||void 0===t:isNaN(t)||null===t||void 0===t||1/0===t},c=function(t){$(s,n+" args: "+JSON.stringify(t,null,2))};for(i=0,o=a.length;o>i;i++){var p=a[i];if(p&&"object"==typeof p){if(Array.isArray(p))p.forEach(function(t){if(t&&"object"==typeof t){if(ee(t)){for(i=0,o=p.length;o>i;i++)if(_(p[i]))throw c(p),new Error(p)}else if(Array.isArray(t))t.forEach(function(e){if(_(e))throw c(t),new Error(e)});else for(var e in t)if(t.hasOwnProperty(e)&&_(t[e]))throw c(t),new Error(e)}else if(_(t))throw c(p),new Error(t)});else if(ee(p)){for(i=0,o=p.length;o>i;i++)if(_(p[i]))throw c(p),new Error(p)}else for(var l in p)if(p.hasOwnProperty(l)&&_(p[l]))throw c(p),new Error(p)}else if(_(p))throw c(a),new Error(p)}}},ee=function(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float64Array||t instanceof Float64Array},ae=function(){return r?"object"!=typeof arguments[0]||void 0===arguments[0].length||Array.isArray(arguments[0])||ee(arguments[0])?void(2===arguments.length?("string"==typeof arguments[1]&&$(s,arguments[1]+" = "+("object"==typeof arguments[0]?JSON.stringify(arguments[0],null,1):arguments[0])),"string"==typeof arguments[0]&&$(s,arguments[0]+" = "+("object"==typeof arguments[1]?JSON.stringify(arguments[1],null,1):arguments[1]))):"string"==typeof arguments[0]?$(s,arguments[0]):$(s,arguments[0])):te(arguments[0],arguments[1]):void 0},ie={texture2KA5:function(t,e){t=100*t,e=100*e;var a="",i=100-(t+e);if(t+e+i!=100)throw new Error("(sand + clay + silt) != 100: "+(t+e+i));return a=5>=e?10>=i?"Ss":25>=i?"Su2":40>=i?"Su3":50>=i?"Su4":80>=i?"Us":"Uu":8>=e?10>=i?"St2":25>=i?"Sl2":40>=i?"Su3":50>=i?"Su4":80>=i?"Us":"Uu":12>=e?10>=i?"St2":40>=i?"Sl3":50>=i?"Slu":65>=i?"Uls":"Ut2":17>=e?10>=i?"St2":40>=i?"Sl4":50>=i?"Slu":65>=i?"Uls":"Ut3":25>=e?15>=i?"St3":30>=i?"Ls4":40>=i?"Ls3":50>=i?"Ls2":65>=i?"Lu":"Ut4":30>=e?15>=i?"Ts4":30>=i?"Lts":50>=i?"Lt2":65>=i?"Lu":"Tu4":35>=e?15>=i?"Ts4":30>=i?"Lts":50>=i?"Lt2":65>=i?"Tu3":"Tu4":45>=e?15>=i?"Ts3":30>=i?"Lts":50>=i?"Lt3":"Tu3":65>=e?15>=i?"Ts2":30>=i?"Tl":"Tu2":"Tt"},KA52sand:function(t){var e=0;return e="fS"==t?.84:"fSms"==t?.86:"fSgs"==t?.88:"gS"==t?.93:"mSgs"==t?.96:"mSfs"==t?.93:"mS"==t?.96:"Ss"==t?.93:"Sl2"==t?.76:"Sl3"==t?.65:"Sl4"==t?.6:"Slu"==t?.43:"St2"==t?.84:"St3"==t?.71:"Su2"==t?.8:"Su3"==t?.63:"Su4"==t?.56:"Ls2"==t?.34:"Ls3"==t?.44:"Ls4"==t?.56:"Lt2"==t?.3:"Lt3"==t?.2:"LtS"==t?.42:"Lu"==t?.19:"Uu"==t?.1:"Uls"==t?.3:"Us"==t?.31:"Ut2"==t?.13:"Ut3"==t?.11:"Ut4"==t?.09:"Utl"==t?.19:"Tt"==t?.17:"Tl"==t?.17:"Tu2"==t?.12:"Tu3"==t?.1:"Ts3"==t?.52:"Ts2"==t?.37:"Ts4"==t?.62:"Tu4"==t?.05:"L"==t?.35:"S"==t?.93:"U"==t?.1:"T"==t?.17:"HZ1"==t?.3:"HZ2"==t?.3:"HZ3"==t?.3:"Hh"==t?.15:"Hn"==t?.15:.66},KA52clay:function(t){var e=0;return"fS"==t?e=.02:"fSms"==t?e=.02:"fSgs"==t?e=.02:"gS"==t?e=.02:"mSgs"==t?e=.02:"mSfs"==t?e=.02:"mS"==t?e=.02:"Ss"==t?e=.02:"Sl2"==t?e=.06:"Sl3"==t?e=.1:"Sl4"==t?e=.14:"Slu"==t?e=.12:"St2"==t?e=.11:"St3"==t?e=.21:"Su2"==t?e=.02:"Su3"==t?e=.04:"Su4"==t?e=.04:"Ls2"==t?e=.21:"Ls3"==t?e=.21:"Ls4"==t?e=.21:"Lt2"==t?e=.3:"Lt3"==t?e=.4:"Lts"==t?e=.35:"Lu"==t?e=.23:"Uu"==t?e=.04:"Uls"==t?e=.12:"Us"==t?e=.04:"Ut2"==t?e=.1:"Ut3"==t?e=.14:"Ut4"==t?e=.21:"Utl"==t?e=.23:"Tt"==t?e=.82:"Tl"==t?e=.55:"Tu2"==t?e=.55:"Tu3"==t?e=.37:"Ts3"==t?e=.4:"Ts2"==t?e=.55:"Ts4"==t?e=.3:"Tu4"==t?e=.3:"L"==t?e=.31:"S"==t?e=.02:"U"==t?e=.04:"T"==t?e=.82:"HZ1"==t?e=.15:"HZ2"==t?e=.15:"HZ3"==t?e=.15:"Hh"==t?e=.1:"Hn"==t&&(e=.1),e},ld_eff2trd:function(t,e){var a=0;switch(t){case 1:a=1.3;break;case 2:a=1.5;break;case 3:a=1.7;break;case 4:a=1.9;break;case 5:a=2.1;break;default:a=1.7}return a-.9*e},saxton:function(t,e,a,i){function r(t,e){var a=(O(1500)-O(33))/(O(t)-O(e));return 1/a}function o(t,e,a){return t+e-.097*a+.043}function n(t,e,a){var i=-.251*t+.195*e+.011*a+.006*t*a-.027*e*a+.452*t*e+.299;return i+(1.283*D(i,2)-.374*i-.015)}function _(t,e,a){var i=.278*t+.034*e+.022*a-.018*t*a-.027*e*a-.584*t*e+.078;return i+(.636*i-.107)}function c(t,e,a){var i=-.024*t+.487*e+.006*a+.005*t*a-.013*e*a+.068*t*e+.031;return i+(.14*i-.02)}var s=n(t,e,0),p=_(t,e,0),l=o(s,p,t),u=c(t,e,0),f=2.65*(1-l),v=100*t,d=100*e,g=D(v,2),m=D(d,2),S=y(-4.396-.0715*d-488e-6*g-4285e-8*g*d),h=-3.14-.00222*m-3484e-8*g*d,M=.332-7251e-7*v+.1276*C(d),A=D(.3333/S,1/h),N=D(15/S,1/h),w=2.65*(1-M);return{saxton_06:{FC:s*(1-i),theta_S33:p,PWP:u*(1-i),S:l*(1-i),BD:1e3*f,lambda:r(s,u)},saxton_86:{FC:A*(1-i),SAT:M*(1-i),PWP:N*(1-i),BD:1e3*w}}},texture2lambda:function(t,e){return 2*t*t*.575+.1*e+.35*(1-t-e)},soilCharacteristicsKA5:function(t){$(n,"Read soil characteristics from KA5");var e=t.vs_SoilTexture,a=t.vs_SoilStoneContent,i=0,r=0,o=0;if(""!==e){var _=t.vs_SoilRawDensity()/1e3,c=100*t.vs_SoilOrganicMatter(),s=0,p=0;1.1>_?(s=1.1,p=1.1):_>=1.1&&1.3>_?(s=1.1,p=1.3):_>=1.3&&1.5>_?(s=1.3,p=1.5):_>=1.5&&1.7>_?(s=1.5,p=1.7):_>=1.7&&1.9>_?(s=1.7,p=1.9):_>=1.9&&(s=1.9,p=1.9),("Hh"==e||"Hn"==e)&&(s=-1,p=-1);var l=Tools.readPrincipalSoilCharacteristicData(e,s),u=l.sat,f=l.fc,v=l.pwp,d=Tools.readPrincipalSoilCharacteristicData(e,p),g=d.sat,m=d.fc,S=d.pwp;if(l.initialized&&d.initialized){var y=0,h=0;c>=0&&1>c?(y=0,h=0):c>=1&&1.5>c?(y=0,h=1.5):c>=1.5&&3>c?(y=1.5,h=3):c>=3&&6>c?(y=3,h=6):c>=6&&11.5>c?(y=6,h=11.5):c>=11.5&&(y=11.5,h=11.5),("Hh"==e||"Hn"==e)&&(y=0,h=0);var M=0,O=0,C=0;0!==y&&(l=Tools.readSoilCharacteristicModifier(e,y),O=l.sat,M=l.fc,C=l.pwp);var A=0,N=0,D=0;0!==h&&(d=Tools.readSoilCharacteristicModifier(e,h),N=d.sat,A=d.fc,D=d.pwp);var w=f;.5>m&&f>=1?w=f:.5>f&&m>=1?w=m:p!=s&&(w=(_-s)/(p-s)*(m-f)+f);var P=u;.5>g&&u>=1?P=u:.5>u&&g>=1?P=g:p!=s&&(P=(_-s)/(p-s)*(g-u)+u);var R=v;.5>S&&v>=1?R=v:.5>v&&S>=1?R=S:p!=s&&(R=(_-s)/(p-s)*(S-v)+v);var F=M,T=O,H=C;h!=y&&(F=(c-y)/(h-y)*(A-M)+M,T=(c-y)/(h-y)*(N-O)+O,H=(c-y)/(h-y)*(D-C)+C),i=(w+F)/100,r=(P+T)/100,o=(R+H)/100,i*=1-a,r*=1-a,o*=1-a}}t.vs_FieldCapacity=i,t.vs_Saturation=r,t.vs_PermanentWiltingPoint=o},readPrincipalSoilCharacteristicData:function(t,e){for(var a=function(t){this.sat=0,this.fc=0,this.pwp=0,this.initialized=void 0===t?!1:t},i=(pe.columns,pe.rows),r={},o=0,n=i.length;n>o;o++){var _=i[o];if(_.soil_type===t){var c=_.air_capacity,s=_.field_capacity,p=_.n_field_capacity,l=new a(!0);l.sat=c+s,l.fc=s,l.pwp=s-p,void 0===r[t]&&(r[t]={}),r[t][M(_["soil_raw_density*10"])]=l}}var u=M(10*e);if(r[t][u])return r[t][u];for(;!r[t][u]&&u>=11&&19>=u;)u+=15>u?1:-1;return r[t][u]?r[t][u]:new a},readSoilCharacteristicModifier:function(t,e){for(var a=function(t){this.sat=0,this.fc=0,this.pwp=0,this.initialized=void 0===t?!1:t},i=(le.columns,le.rows),r={},o=0,n=i.length;n>o;o++){var _=i[o];if(_.soil_type===t){var c=_.air_capacity,s=_.field_capacity,p=_.n_field_capacity,l=new a(!0);l.sat=c+s,l.fc=s,l.pwp=s-p,void 0===r[t]&&(r[t]={}),r[t][M(_.organic_matter)]=l}}var u=M(10*e);return r[t][u]?r[t][u]:new a},sunshine2globalRadiation:function(t,e,a,i){var r=4*g(1),o=-23.4*S(2*r*(t+10)/365),n=R(o*r/180)*R(a*r/180),_=S(o*r/180)*S(a*r/180),c=12*(r+2*d(n/_))/r,s=12*(r+2*d((-R(8*r/180)+n)/_))/r,p=3600*(n*c+24/r*_*F(1-n/_*(n/_))),l=1300*p*y(-.14/(p/(3600*c))),u=.2*l,f=e/s*l+(1-e/s)*u,v=f/1e4;return i?v/100:v}},re=function(t,e){this.nitrateConcentration=t||0,this.sulfateConcentration=e||0},oe=function(){this.vo_AOM_Slow=0,this.vo_AOM_Fast=0,this.vo_AOM_SlowDecRate=0,this.vo_AOM_FastDecRate=0,this.vo_AOM_SlowDecCoeff=0,this.vo_AOM_FastDecCoeff=0,this.vo_AOM_SlowDecCoeffStandard=1,this.vo_AOM_FastDecCoeffStandard=1,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=0,this.vo_CN_Ratio_AOM_Slow=1,this.vo_CN_Ratio_AOM_Fast=1,this.vo_DaysAfterApplication=0,this.vo_AOM_DryMatterContent=0,this.vo_AOM_NH4Content=0,this.vo_AOM_SlowDelta=0,this.vo_AOM_FastDelta=0,this.incorporation=!1},ne=function(){this._ps_LayerThickness=.1,this.ps_ProfileDepth=2,this.ps_LayerThickness=new Float64Array(20),this.ps_MaxMineralisationDepth=.4,this.pc_NitrogenResponseOn=!0,this.pc_WaterDeficitResponseOn=!0,this.pc_LowTemperatureStressResponseOn=!1,this.pc_HighTemperatureStressResponseOn=!1,this.pc_EmergenceFloodingControlOn=!1,this.pc_EmergenceMoistureControlOn=!1;for(var t=0;t<this.ps_LayerThickness.length;t++)this.ps_LayerThickness[t]=this._ps_LayerThickness;this.ps_NumberOfLayers=function(){return 20}},_e=function(){this.vs_Latitude=60,this.vs_Slope=.01,this.vs_HeightNN=50,this.vs_GroundwaterDepth=70,this.vs_Soil_CN_Ratio=10,this.vs_DrainageCoeff=1,this.vq_NDeposition=30,this.vs_MaxEffectiveRootingDepth=2},ce=function(){this.vs_SoilSandContent=.4,this.vs_SoilClayContent=.05,this.vs_SoilpH=6.9,this.vs_SoilStoneContent=-1,this.vs_Lambda=-1,this.vs_FieldCapacity=-1,this.vs_Saturation=-1,this.vs_PermanentWiltingPoint=-1,this.vs_SoilTexture="",this.vs_SoilAmmonium=-1,this.vs_SoilNitrate=-1,this._vs_SoilRawDensity=-1,this._vs_SoilBulkDensity=-1,this._vs_SoilOrganicCarbon=-1,this._vs_SoilOrganicMatter=-1,this.isValid=function(){var t=!0;return this.vs_FieldCapacity<=0&&($(_,"SoilParameters::Error: No field capacity defined in database for "+this.vs_SoilTexture+" , RawDensity: "+this._vs_SoilRawDensity),t=!1),this.vs_Saturation<=0&&($(_,"SoilParameters::Error: No saturation defined in database for "+this.vs_SoilTexture+" , RawDensity: "+this._vs_SoilRawDensity),t=!1),this.vs_PermanentWiltingPoint<=0&&($(_,"SoilParameters::Error: No saturation defined in database for "+this.vs_SoilTexture+" , RawDensity: "+this._vs_SoilRawDensity),t=!1),this.vs_SoilSandContent<0&&($(_,"SoilParameters::Error: Invalid soil sand content: "+this.vs_SoilSandContent),t=!1),this.vs_SoilClayContent<0&&($(_,"SoilParameters::Error: Invalid soil clay content: "+this.vs_SoilClayContent),t=!1),this.vs_SoilpH<0&&($(_,"SoilParameters::Error: Invalid soil ph value: "+this.vs_SoilpH),t=!1),this.vs_SoilStoneContent<0&&($(_,"SoilParameters::Error: Invalid soil stone content: "+this.vs_SoilStoneContent),t=!1),this.vs_Saturation<0&&($(_,"SoilParameters::Error: Invalid value for saturation: "+this.vs_Saturation),t=!1),this.vs_PermanentWiltingPoint<0&&($(_,"SoilParameters::Error: Invalid value for permanent wilting point: "+this.vs_PermanentWiltingPoint),t=!1),t},this.vs_SoilRawDensity=function(){return 1e3*this._vs_SoilRawDensity},this.set_vs_SoilRawDensity=function(t){this._vs_SoilRawDensity=t},this.vs_SoilOrganicCarbon=function(){return this._vs_SoilOrganicMatter<0?this._vs_SoilOrganicCarbon:this._vs_SoilOrganicMatter*Z.PO_SOM_TO_C},this.set_vs_SoilOrganicCarbon=function(t){this._vs_SoilOrganicCarbon=t},this.vs_SoilOrganicMatter=function(){return this._vs_SoilOrganicCarbon<0?this._vs_SoilOrganicMatter:this._vs_SoilOrganicCarbon/Z.PO_SOM_TO_C},this.set_vs_SoilOrganicMatter=function(t){this._vs_SoilOrganicMatter=t},this.vs_SoilSiltContent=function(){return this.vs_SoilSandContent-.001<0&&this.vs_SoilClayContent-.001<0?0:1-this.vs_SoilSandContent-this.s_SoilClayContent},this.vs_SoilBulkDensity=function(){return this._vs_SoilRawDensity<0?this._vs_SoilBulkDensity:1e3*(this._vs_SoilRawDensity+.009*100*this.vs_SoilClayContent)},this.set_vs_SoilBulkDensity=function(t){this._vs_SoilBulkDensity=t},this.texture2lambda=function(t,e){return ie.texture2lambda(t,e)}},se=function(){this.userCropParameters={pc_Tortuosity:.002,pc_CanopyReflectionCoefficient:.08,pc_ReferenceMaxAssimilationRate:30,pc_ReferenceLeafAreaIndex:1.44,pc_MaintenanceRespirationParameter2:44,pc_MaintenanceRespirationParameter1:.08,pc_MinimumNConcentrationRoot:.005,pc_MinimumAvailableN:75e-6,pc_ReferenceAlbedo:.23,pc_StomataConductanceAlpha:40,pc_SaturationBeta:2.5,pc_GrowthRespirationRedux:.7,pc_MaxCropNDemand:6,pc_GrowthRespirationParameter2:38,pc_GrowthRespirationParameter1:.1},this.userEnvironmentParameters={p_MaxGroundwaterDepth:18,p_MinGroundwaterDepth:20,p_UseAutomaticIrrigation:!1,p_UseNMinMineralFertilisingMethod:!1,p_LayerThickness:.1,p_NumberOfLayers:20,p_StartPVIndex:0,p_Albedo:.23,p_AthmosphericCO2:380,p_WindSpeedHeight:2,p_UseSecondaryYields:!0,p_JulianDayAutomaticFertilising:74,p_timeStep:1,p_LeachingDepth:1.6,p_MinGroundwaterDepthMonth:3},this.userSoilMoistureParameters={pm_CriticalMoistureDepth:.3,pm_SaturatedHydraulicConductivity:8640,pm_SurfaceRoughness:.02,pm_HydraulicConductivityRedux:.1,pm_SnowAccumulationTresholdTemperature:1.8,pm_KcFactor:.75,pm_TemperatureLimitForLiquidWater:-3,pm_CorrectionSnow:1.14,pm_CorrectionRain:1,pm_SnowMaxAdditionalDensity:.25,pm_NewSnowDensityMin:.1,pm_SnowRetentionCapacityMin:.05,pm_RefreezeParameter2:.36,pm_RefreezeParameter1:1.5,pm_RefreezeTemperature:-1.7,pm_SnowMeltTemperature:.31,pm_SnowPacking:.01,pm_SnowRetentionCapacityMax:.17,pm_EvaporationZeta:40,pm_XSACriticalSoilMoisture:.1,pm_MaximumEvaporationImpactDepth:5,pm_MaxPercolationRate:10,pm_GroundwaterDischarge:3},this.userSoilTemperatureParameters={pt_SoilMoisture:.25,pt_NTau:.65,pt_InitialSurfaceTemperature:10,pt_BaseTemperature:9.5,pt_QuartzRawDensity:2650,pt_DensityAir:1.25,pt_DensityWater:1e3,pt_SpecificHeatCapacityAir:1005,pt_SpecificHeatCapacityQuartz:750,pt_SpecificHeatCapacityWater:4192,pt_SoilAlbedo:.7,pt_DensityHumus:1300,pt_SpecificHeatCapacityHumus:1920},this.userSoilTransportParameters={pq_DispersionLength:.049,pq_AD:.002,pq_DiffusionCoefficientStandard:214e-6},this.userSoilOrganicParameters={po_SOM_SlowDecCoeffStandard:43e-6,po_SOM_FastDecCoeffStandard:14e-5,po_SMB_SlowMaintRateStandard:.001,po_SMB_FastMaintRateStandard:.01,po_SMB_SlowDeathRateStandard:.001,po_SMB_FastDeathRateStandard:.01,po_SMB_UtilizationEfficiency:0,po_SOM_SlowUtilizationEfficiency:.4,po_SOM_FastUtilizationEfficiency:.5,po_AOM_SlowUtilizationEfficiency:.4,po_AOM_FastUtilizationEfficiency:.1,po_AOM_FastMaxC_to_N:1e3,po_PartSOM_Fast_to_SOM_Slow:.3,po_PartSMB_Slow_to_SOM_Fast:.6,po_PartSMB_Fast_to_SOM_Fast:.6,po_PartSOM_to_SMB_Slow:.015,po_PartSOM_to_SMB_Fast:2e-4,po_CN_Ratio_SMB:6.7,po_LimitClayEffect:.25,po_AmmoniaOxidationRateCoeffStandard:.1,po_NitriteOxidationRateCoeffStandard:.2,po_TransportRateCoeff:.1,po_SpecAnaerobDenitrification:.1,po_ImmobilisationRateCoeffNO3:.5,po_ImmobilisationRateCoeffNH4:.5,po_Denit1:.2,po_Denit2:.8,po_Denit3:.9,po_HydrolysisKM:.00334,po_ActivationEnergy:41e3,po_HydrolysisP1:4.259e-12,po_HydrolysisP2:1.408e-12,po_AtmosphericResistance:.0025,po_N2OProductionRate:.015,po_Inhibitor_NH3:1},this.capillaryRiseRates={map:{Su3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.005,7:.0035,8:.0028,9:.0022,10:.0017,11:.0014,12:.0012,13:9e-4,14:8e-4,15:7e-4,16:7e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:0,27:0},Sl3:{1:.0055,2:.0055,3:.0055,4:.005,5:.0025,6:.0016,7:.0011,8:7e-4,9:5e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Sl2:{1:.0055,2:.0055,3:.005,4:.0026,5:.0013,6:8e-4,7:5e-4,8:3e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Su4:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.005,8:.0039,9:.0029,10:.0023,11:.0018,12:.0015,13:.0012,14:9e-4,15:8e-4,16:8e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:0,27:0},Su2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.003,7:.0022,8:.0017,9:.0012,10:.001,11:8e-4,12:6e-4,13:5e-4,14:4e-4,15:3e-4,16:3e-4,17:2e-4,18:2e-4,19:2e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Sl4:{1:.0055,2:.0055,3:.0055,4:.005,5:.0036,6:.0024,7:.0016,8:.0012,9:8e-4,10:6e-4,11:4e-4,12:3e-4,13:2e-4,14:1e-4,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Slu:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0036,7:.0026,8:.0019,9:.0015,10:.0011,11:9e-4,12:7e-4,13:5e-4,14:4e-4,15:3e-4,16:3e-4,17:2e-4,18:2e-4,19:2e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},St2:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},St3:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},fS:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0033,7:.0022,8:.0014,9:9e-4,10:5e-4,11:3e-4,12:2e-4,13:1e-4,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},gS:{1:.0055,2:.005,3:.0014,4:5e-4,5:2e-4,6:1e-4,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},mS:{1:.0055,2:.0055,3:.005,4:.0016,5:9e-4,6:5e-4,7:3e-4,8:2e-4,9:1e-4,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ss:{1:.0055,2:.0055,3:.005,4:.0016,5:9e-4,6:5e-4,7:3e-4,8:2e-4,9:1e-4,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Us:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.005,8:.0041,9:.0033,10:.0027,11:.0022,12:.0018,13:.0015,14:.0012,15:.001,16:.001,17:7e-4,18:7e-4,19:7e-4,20:4e-4,21:4e-4,22:4e-4,23:4e-4,24:4e-4,25:1e-4,26:1e-4,27:0},Uu:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.0055,9:.0055,10:.005,11:.004,12:.0033,13:.0028,14:.0024,15:.002,16:.002,17:.0015,18:.0015,19:.0015,20:.001,21:.001,22:.001,23:.001,24:.001,25:5e-4,26:3e-4,27:1e-4},Uls:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.0055,9:.005,10:.0044,11:.0036,12:.003,13:.0026,14:.0022,15:.0019,16:.0019,17:.0014,18:.0014,19:.0014,20:9e-4,21:9e-4,22:9e-4,23:9e-4,24:9e-4,25:5e-4,26:3e-4,27:1e-4},Ut2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.005,9:.0035,10:.0028,11:.0023,12:.0019,13:.0015,14:.0013,15:.0011,16:.0011,17:7e-4,18:7e-4,19:7e-4,20:4e-4,21:4e-4,22:4e-4,23:4e-4,24:4e-4,25:1e-4,26:1e-4,27:0},Ut3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.005,9:.0035,10:.0028,11:.0022,12:.0018,13:.0015,14:.0013,15:.0011,16:.0011,17:7e-4,18:7e-4,19:7e-4,20:4e-4,21:4e-4,22:4e-4,23:4e-4,24:4e-4,25:1e-4,26:1e-4,27:0},Ut4:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.005,8:.0036,9:.0028,10:.0022,11:.0018,12:.0015,13:.0012,14:.001,15:8e-4,16:8e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:1e-4,27:0},Ls2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.004,8:.003,9:.0022,10:.0017,11:.0013,12:9e-4,13:7e-4,14:5e-4,15:4e-4,16:4e-4,17:2e-4,18:2e-4,19:2e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ls3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.005,7:.0033,8:.0025,9:.002,10:.0015,11:.0012,12:.001,13:8e-4,14:7e-4,15:5e-4,16:5e-4,17:3e-4,18:3e-4,19:3e-4,20:2e-4,21:2e-4,22:2e-4,23:2e-4,24:2e-4,25:1e-4,26:0,27:0},Ls4:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0036,7:.0026,8:.002,9:.0015,10:.0012,11:9e-4,12:7e-4,13:6e-4,14:5e-4,15:4e-4,16:4e-4,17:3e-4,18:3e-4,19:3e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Lt2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0038,7:.0028,8:.0022,9:.0017,10:.0013,11:.0011,12:9e-4,13:7e-4,14:5e-4,15:4e-4,16:4e-4,17:3e-4,18:3e-4,19:3e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Lt3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0034,7:.0026,8:.0019,9:.0015,10:.0012,11:.001,12:8e-4,13:7e-4,14:6e-4,15:5e-4,16:5e-4,17:3e-4,18:3e-4,19:3e-4,20:2e-4,21:2e-4,22:2e-4,23:2e-4,24:2e-4,25:1e-4,26:0,27:0},Lu:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.005,7:.004,8:.0031,9:.0024,10:.0019,11:.0015,12:.0012,13:.001,14:8e-4,15:7e-4,16:7e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:1e-4,27:0},Lts:{1:.0055,2:.0055,3:.0055,4:.0055,5:5e-4,6:.0032,7:.0022,8:.0016,9:.0012,10:9e-4,11:7e-4,12:5e-4,13:4e-4,14:3e-4,15:2e-4,16:2e-4,17:1e-4,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tt:{1:.0055,2:.005,3:.002,4:.001,5:6e-4,6:4e-4,7:3e-4,8:2e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tl:{1:.0055,2:.005,3:.0026,4:.0013,5:8e-4,6:5e-4,7:4e-4,8:3e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tu2:{1:.0055,2:.005,3:.0026,4:.0013,5:8e-4,6:5e-4,7:4e-4,8:3e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tu3:{1:.0055,2:.0055,3:.005,4:.0024,5:.0014,6:9e-4,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:3e-4,12:2e-4,13:2e-4,14:1e-4,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tu4:{1:.0055,2:.0055,3:.0055,4:.005,5:.0024,6:.0016,7:.0012,8:8e-4,9:6e-4,10:5e-4,11:4e-4,12:3e-4,13:3e-4,14:2e-4,15:2e-4,16:2e-4,17:1e-4,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ts2:{1:.0055,2:.0055,3:.005,4:.002,5:.0012,6:8e-4,7:5e-4,8:4e-4,9:3e-4,10:2e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ts3:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ts4:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Hh:{1:.005,2:.005,3:.003,4:.002,5:.0013,6:8e-4,7:4e-4,8:3e-4,9:2e-4,10:2e-4,11:5e-5,12:5e-5,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Hn:{1:.004,2:.004,3:.0022,4:.0011,5:6e-4,6:3e-4,7:2e-4,8:1e-4,9:5e-5,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0}},addRate:function(t,e,a){void 0===this.map[t]&&(this.map[t]={}),this.map[t][e]=a},getRate:function(t,e){e=M(e);var a=this.getMap(t);return void 0===a[e]?0:a[e]},getMap:function(t){return void 0===this.map[t]&&($(_,"No capillary rise rates for texture '"+texture+"' available: using default (Sl4)"),t="Sl4"),this.map[t]},size:function(){var t=0;for(var e in this.map)this.map.hasOwnProperty(e)&&t++;return t}},this.userInitValues={p_initPercentageFC:.8,p_initSoilNitrate:1e-4,p_initSoilAmmonium:1e-4}},pe={columns:["soil_type","soil_raw_density*10","air_capacity","field_capacity","n_field_capacity"],rows:[{soil_type:"Hh","soil_raw_density*10":-10,air_capacity:10,field_capacity:82,n_field_capacity:65},{soil_type:"Hn","soil_raw_density*10":-10,air_capacity:18,field_capacity:59,n_field_capacity:29},{soil_type:"Ls2","soil_raw_density*10":11,air_capacity:24,field_capacity:34,n_field_capacity:18},{soil_type:"Ls2","soil_raw_density*10":13,air_capacity:20,field_capacity:31,n_field_capacity:15},{soil_type:"Ls2","soil_raw_density*10":15,air_capacity:13,field_capacity:30,n_field_capacity:14},{soil_type:"Ls2","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:12},{soil_type:"Ls2","soil_raw_density*10":19,air_capacity:3,field_capacity:26,n_field_capacity:10},{soil_type:"Ls3","soil_raw_density*10":11,air_capacity:24,field_capacity:34,n_field_capacity:18},{soil_type:"Ls3","soil_raw_density*10":13,air_capacity:21,field_capacity:30,n_field_capacity:14},{soil_type:"Ls3","soil_raw_density*10":15,air_capacity:15,field_capacity:28,n_field_capacity:12},{soil_type:"Ls3","soil_raw_density*10":17,air_capacity:9,field_capacity:27,n_field_capacity:11},{soil_type:"Ls3","soil_raw_density*10":19,air_capacity:4,field_capacity:25,n_field_capacity:9},{soil_type:"Ls4","soil_raw_density*10":11,air_capacity:25,field_capacity:33,n_field_capacity:18},{soil_type:"Ls4","soil_raw_density*10":13,air_capacity:22,field_capacity:29,n_field_capacity:14},{soil_type:"Ls4","soil_raw_density*10":15,air_capacity:16,field_capacity:27,n_field_capacity:12},{soil_type:"Ls4","soil_raw_density*10":17,air_capacity:10,field_capacity:26,n_field_capacity:11},{soil_type:"Ls4","soil_raw_density*10":19,air_capacity:5,field_capacity:24,n_field_capacity:9},{soil_type:"Lt2","soil_raw_density*10":11,air_capacity:23,field_capacity:35,n_field_capacity:15},{soil_type:"Lt2","soil_raw_density*10":13,air_capacity:19,field_capacity:32,n_field_capacity:12},{soil_type:"Lt2","soil_raw_density*10":15,air_capacity:13,field_capacity:30,n_field_capacity:10},{soil_type:"Lt2","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:8},{soil_type:"Lt3","soil_raw_density*10":11,air_capacity:20,field_capacity:38,n_field_capacity:14},{soil_type:"Lt3","soil_raw_density*10":13,air_capacity:16,field_capacity:35,n_field_capacity:11},{soil_type:"Lt3","soil_raw_density*10":15,air_capacity:10,field_capacity:33,n_field_capacity:9},{soil_type:"Lt3","soil_raw_density*10":17,air_capacity:5,field_capacity:31,n_field_capacity:7},{soil_type:"Lts","soil_raw_density*10":11,air_capacity:21,field_capacity:37,n_field_capacity:16},{soil_type:"Lts","soil_raw_density*10":13,air_capacity:17,field_capacity:34,n_field_capacity:13},{soil_type:"Lts","soil_raw_density*10":15,air_capacity:11,field_capacity:32,n_field_capacity:11},{soil_type:"Lts","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:9},{soil_type:"Lu","soil_raw_density*10":11,air_capacity:21,field_capacity:37,n_field_capacity:18},{soil_type:"Lu","soil_raw_density*10":13,air_capacity:18,field_capacity:34,n_field_capacity:15},{soil_type:"Lu","soil_raw_density*10":15,air_capacity:11,field_capacity:32,n_field_capacity:13},{soil_type:"Lu","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:11},{soil_type:"Sl2","soil_raw_density*10":13,air_capacity:28,field_capacity:23,n_field_capacity:15},{soil_type:"Sl2","soil_raw_density*10":15,air_capacity:22,field_capacity:21,n_field_capacity:13},{soil_type:"Sl2","soil_raw_density*10":17,air_capacity:17,field_capacity:19,n_field_capacity:11},{soil_type:"Sl2","soil_raw_density*10":19,air_capacity:11,field_capacity:18,n_field_capacity:10},{soil_type:"Sl3","soil_raw_density*10":13,air_capacity:26,field_capacity:25,n_field_capacity:15},{soil_type:"Sl3","soil_raw_density*10":15,air_capacity:20,field_capacity:23,n_field_capacity:13},{soil_type:"Sl3","soil_raw_density*10":17,air_capacity:14,field_capacity:22,n_field_capacity:12},{soil_type:"Sl3","soil_raw_density*10":19,air_capacity:9,field_capacity:20,n_field_capacity:10},{soil_type:"Sl4","soil_raw_density*10":13,air_capacity:23,field_capacity:28,n_field_capacity:15},{soil_type:"Sl4","soil_raw_density*10":15,air_capacity:18,field_capacity:25,n_field_capacity:12},{soil_type:"Sl4","soil_raw_density*10":17,air_capacity:12,field_capacity:24,n_field_capacity:11},{soil_type:"Sl4","soil_raw_density*10":19,air_capacity:4,field_capacity:22,n_field_capacity:9},{soil_type:"Slu","soil_raw_density*10":13,air_capacity:22,field_capacity:29,n_field_capacity:18},{soil_type:"Slu","soil_raw_density*10":15,air_capacity:16,field_capacity:27,n_field_capacity:15},{soil_type:"Slu","soil_raw_density*10":17,air_capacity:10,field_capacity:26,n_field_capacity:14},{soil_type:"Slu","soil_raw_density*10":19,air_capacity:4,field_capacity:25,n_field_capacity:13},{soil_type:"Ss","soil_raw_density*10":13,air_capacity:39,field_capacity:12,n_field_capacity:9},{soil_type:"Ss","soil_raw_density*10":15,air_capacity:31,field_capacity:12,n_field_capacity:9},{soil_type:"Ss","soil_raw_density*10":17,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"St2","soil_raw_density*10":13,air_capacity:30,field_capacity:21,n_field_capacity:13},{soil_type:"St2","soil_raw_density*10":15,air_capacity:25,field_capacity:18,n_field_capacity:10},{soil_type:"St2","soil_raw_density*10":17,air_capacity:20,field_capacity:16,n_field_capacity:8},{soil_type:"St2","soil_raw_density*10":19,air_capacity:14,field_capacity:15,n_field_capacity:7},{soil_type:"St3","soil_raw_density*10":13,air_capacity:22,field_capacity:29,n_field_capacity:15},{soil_type:"St3","soil_raw_density*10":15,air_capacity:17,field_capacity:26,n_field_capacity:12},{soil_type:"St3","soil_raw_density*10":17,air_capacity:13,field_capacity:23,n_field_capacity:9},{soil_type:"St3","soil_raw_density*10":19,air_capacity:8,field_capacity:21,n_field_capacity:7},{soil_type:"Su2","soil_raw_density*10":13,air_capacity:30,field_capacity:21,n_field_capacity:16},{soil_type:"Su2","soil_raw_density*10":15,air_capacity:23,field_capacity:20,n_field_capacity:15},{soil_type:"Su2","soil_raw_density*10":17,air_capacity:18,field_capacity:18,n_field_capacity:13},{soil_type:"Su2","soil_raw_density*10":19,air_capacity:12,field_capacity:17,n_field_capacity:12},{soil_type:"Su3","soil_raw_density*10":13,air_capacity:25,field_capacity:26,n_field_capacity:19},{soil_type:"Su3","soil_raw_density*10":15,air_capacity:19,field_capacity:24,n_field_capacity:17},{soil_type:"Su3","soil_raw_density*10":17,air_capacity:14,field_capacity:22,n_field_capacity:15},{soil_type:"Su3","soil_raw_density*10":19,air_capacity:9,field_capacity:20,n_field_capacity:13},{soil_type:"Su4","soil_raw_density*10":13,air_capacity:24,field_capacity:27,n_field_capacity:20},{soil_type:"Su4","soil_raw_density*10":15,air_capacity:18,field_capacity:25,n_field_capacity:18},{soil_type:"Su4","soil_raw_density*10":17,air_capacity:12,field_capacity:24,n_field_capacity:17},{soil_type:"Su4","soil_raw_density*10":19,air_capacity:7,field_capacity:22,n_field_capacity:15},{soil_type:"Tl","soil_raw_density*10":11,air_capacity:12,field_capacity:46,n_field_capacity:14},{soil_type:"Tl","soil_raw_density*10":13,air_capacity:8,field_capacity:43,n_field_capacity:12},{soil_type:"Tl","soil_raw_density*10":15,air_capacity:4,field_capacity:39,n_field_capacity:8},{soil_type:"Tl","soil_raw_density*10":17,air_capacity:2,field_capacity:35,n_field_capacity:6},{soil_type:"Ts2","soil_raw_density*10":11,air_capacity:15,field_capacity:43,n_field_capacity:15},{soil_type:"Ts2","soil_raw_density*10":13,air_capacity:11,field_capacity:40,n_field_capacity:13},{soil_type:"Ts2","soil_raw_density*10":15,air_capacity:6,field_capacity:37,n_field_capacity:10},{soil_type:"Ts2","soil_raw_density*10":17,air_capacity:2,field_capacity:34,n_field_capacity:8},{soil_type:"Ts3","soil_raw_density*10":11,air_capacity:19,field_capacity:39,n_field_capacity:17},{soil_type:"Ts3","soil_raw_density*10":13,air_capacity:15,field_capacity:35,n_field_capacity:14},{soil_type:"Ts3","soil_raw_density*10":15,air_capacity:12,field_capacity:31,n_field_capacity:10},{soil_type:"Ts3","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:9},{soil_type:"Ts4","soil_raw_density*10":11,air_capacity:22,field_capacity:36,n_field_capacity:17},{soil_type:"Ts4","soil_raw_density*10":13,air_capacity:18,field_capacity:33,n_field_capacity:14},{soil_type:"Ts4","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:11},{soil_type:"Ts4","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:10},{soil_type:"Tt","soil_raw_density*10":11,air_capacity:9,field_capacity:49,n_field_capacity:13},{soil_type:"Tt","soil_raw_density*10":13,air_capacity:6,field_capacity:45,n_field_capacity:11},{soil_type:"Tt","soil_raw_density*10":15,air_capacity:3,field_capacity:41,n_field_capacity:7},{soil_type:"Tt","soil_raw_density*10":17,air_capacity:2,field_capacity:37,n_field_capacity:6},{soil_type:"Tu2","soil_raw_density*10":11,air_capacity:12,field_capacity:46,n_field_capacity:15},{soil_type:"Tu2","soil_raw_density*10":13,air_capacity:8,field_capacity:43,n_field_capacity:13},{soil_type:"Tu2","soil_raw_density*10":15,air_capacity:4,field_capacity:39,n_field_capacity:9},{soil_type:"Tu2","soil_raw_density*10":17,air_capacity:2,field_capacity:35,n_field_capacity:6},{soil_type:"Tu3","soil_raw_density*10":11,air_capacity:15,field_capacity:43,n_field_capacity:17},{soil_type:"Tu3","soil_raw_density*10":13,air_capacity:11,field_capacity:39,n_field_capacity:14},{soil_type:"Tu3","soil_raw_density*10":15,air_capacity:7,field_capacity:36,n_field_capacity:12},{soil_type:"Tu3","soil_raw_density*10":17,air_capacity:3,field_capacity:33,n_field_capacity:10},{soil_type:"Tu4","soil_raw_density*10":11,air_capacity:18,field_capacity:40,n_field_capacity:18},{soil_type:"Tu4","soil_raw_density*10":13,air_capacity:13,field_capacity:37,n_field_capacity:15},{soil_type:"Tu4","soil_raw_density*10":15,air_capacity:9,field_capacity:33,n_field_capacity:13},{soil_type:"Tu4","soil_raw_density*10":17,air_capacity:4,field_capacity:31,n_field_capacity:11},{soil_type:"Uls","soil_raw_density*10":11,air_capacity:27,field_capacity:31,n_field_capacity:20},{soil_type:"Uls","soil_raw_density*10":13,air_capacity:21,field_capacity:30,n_field_capacity:19},{soil_type:"Uls","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:18},{soil_type:"Uls","soil_raw_density*10":17,air_capacity:9,field_capacity:27,n_field_capacity:16},{soil_type:"Us","soil_raw_density*10":11,air_capacity:26,field_capacity:32,n_field_capacity:22},{soil_type:"Us","soil_raw_density*10":13,air_capacity:20,field_capacity:31,n_field_capacity:21},{soil_type:"Us","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:19},{soil_type:"Us","soil_raw_density*10":17,air_capacity:9,field_capacity:27,n_field_capacity:17},{soil_type:"Ut2","soil_raw_density*10":11,air_capacity:26,field_capacity:32,n_field_capacity:21},{soil_type:"Ut2","soil_raw_density*10":13,air_capacity:20,field_capacity:31,n_field_capacity:20},{soil_type:"Ut2","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:18},{soil_type:"Ut2","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:17},{soil_type:"Ut3","soil_raw_density*10":11,air_capacity:24,field_capacity:34,n_field_capacity:20},{soil_type:"Ut3","soil_raw_density*10":13,air_capacity:19,field_capacity:33,n_field_capacity:19},{soil_type:"Ut3","soil_raw_density*10":15,air_capacity:12,field_capacity:31,n_field_capacity:17},{soil_type:"Ut3","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:16},{soil_type:"Ut4","soil_raw_density*10":11,air_capacity:23,field_capacity:35,n_field_capacity:18},{soil_type:"Ut4","soil_raw_density*10":13,air_capacity:17,field_capacity:34,n_field_capacity:17},{soil_type:"Ut4","soil_raw_density*10":15,air_capacity:12,field_capacity:33,n_field_capacity:16},{soil_type:"Ut4","soil_raw_density*10":17,air_capacity:4,field_capacity:31,n_field_capacity:14},{soil_type:"Uu","soil_raw_density*10":11,air_capacity:22,field_capacity:36,n_field_capacity:25},{soil_type:"Uu","soil_raw_density*10":13,air_capacity:17,field_capacity:34,n_field_capacity:23},{soil_type:"Uu","soil_raw_density*10":15,air_capacity:11,field_capacity:32,n_field_capacity:21},{soil_type:"Uu","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:19},{soil_type:"fS","soil_raw_density*10":13,air_capacity:35,field_capacity:15,n_field_capacity:11},{soil_type:"fS","soil_raw_density*10":15,air_capacity:28,field_capacity:15,n_field_capacity:11},{soil_type:"fS","soil_raw_density*10":17,air_capacity:21,field_capacity:15,n_field_capacity:11},{soil_type:"fSgs","soil_raw_density*10":13,air_capacity:35,field_capacity:15,n_field_capacity:11},{soil_type:"fSgs","soil_raw_density*10":15,air_capacity:28,field_capacity:15,n_field_capacity:11},{soil_type:"fSgs","soil_raw_density*10":17,air_capacity:21,field_capacity:15,n_field_capacity:11},{soil_type:"fSms","soil_raw_density*10":13,air_capacity:35,field_capacity:15,n_field_capacity:11},{soil_type:"fSms","soil_raw_density*10":15,air_capacity:28,field_capacity:15,n_field_capacity:11},{soil_type:"fSms","soil_raw_density*10":17,air_capacity:21,field_capacity:15,n_field_capacity:11},{soil_type:"gS","soil_raw_density*10":13,air_capacity:43,field_capacity:8,n_field_capacity:5},{soil_type:"gS","soil_raw_density*10":15,air_capacity:35,field_capacity:8,n_field_capacity:5},{soil_type:"gS","soil_raw_density*10":17,air_capacity:28,field_capacity:8,n_field_capacity:5},{soil_type:"mS","soil_raw_density*10":13,air_capacity:38,field_capacity:12,n_field_capacity:9},{soil_type:"mS","soil_raw_density*10":15,air_capacity:31,field_capacity:12,n_field_capacity:9},{soil_type:"mS","soil_raw_density*10":17,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"mSfs","soil_raw_density*10":13,air_capacity:38,field_capacity:12,n_field_capacity:9},{soil_type:"mSfs","soil_raw_density*10":15,air_capacity:31,field_capacity:12,n_field_capacity:9},{soil_type:"mSfs","soil_raw_density*10":17,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"mSgs","soil_raw_density*10":13,air_capacity:38,field_capacity:12,n_field_capacity:9},{soil_type:"mSgs","soil_raw_density*10":15,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"mSgs","soil_raw_density*10":17,air_capacity:31,field_capacity:12,n_field_capacity:9}]},le={columns:["soil_type","organic_matter*10","air_capacity","field_capacity","n_field_capacity"],rows:[{soil_type:"Ls2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Ls2","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:3},{soil_type:"Ls2","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:5},{soil_type:"Ls2","organic_matter*10":115,air_capacity:2,field_capacity:13,n_field_capacity:9},{soil_type:"Ls3","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:2},{soil_type:"Ls3","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:4},{soil_type:"Ls3","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:6},{soil_type:"Ls3","organic_matter*10":115,air_capacity:2,field_capacity:13,n_field_capacity:9},{soil_type:"Ls4","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Ls4","organic_matter*10":30,air_capacity:0,field_capacity:5,n_field_capacity:4},{soil_type:"Ls4","organic_matter*10":60,air_capacity:1,field_capacity:8,n_field_capacity:7},{soil_type:"Ls4","organic_matter*10":115,air_capacity:2,field_capacity:13,n_field_capacity:10},{soil_type:"Lt2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Lt2","organic_matter*10":30,air_capacity:1,field_capacity:4,n_field_capacity:3},{soil_type:"Lt2","organic_matter*10":60,air_capacity:2,field_capacity:6,n_field_capacity:4},{soil_type:"Lt2","organic_matter*10":115,air_capacity:3,field_capacity:10,n_field_capacity:7},{soil_type:"Lt3","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Lt3","organic_matter*10":30,air_capacity:2,field_capacity:3,n_field_capacity:2},{soil_type:"Lt3","organic_matter*10":60,air_capacity:3,field_capacity:5,n_field_capacity:3},{soil_type:"Lt3","organic_matter*10":115,air_capacity:4,field_capacity:10,n_field_capacity:6},{soil_type:"Lts","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Lts","organic_matter*10":30,air_capacity:2,field_capacity:3,n_field_capacity:2},{soil_type:"Lts","organic_matter*10":60,air_capacity:3,field_capacity:6,n_field_capacity:4},{soil_type:"Lts","organic_matter*10":115,air_capacity:4,field_capacity:10,n_field_capacity:7},{soil_type:"Lu","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Lu","organic_matter*10":30,air_capacity:2,field_capacity:4,n_field_capacity:2},{soil_type:"Lu","organic_matter*10":60,air_capacity:3,field_capacity:7,n_field_capacity:5},{soil_type:"Lu","organic_matter*10":115,air_capacity:4,field_capacity:12,n_field_capacity:8},{soil_type:"Sl2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Sl2","organic_matter*10":30,air_capacity:-1,field_capacity:5,n_field_capacity:3},{soil_type:"Sl2","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Sl2","organic_matter*10":115,air_capacity:-3,field_capacity:16,n_field_capacity:10},{soil_type:"Sl3","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Sl3","organic_matter*10":30,air_capacity:-1,field_capacity:4,n_field_capacity:3},{soil_type:"Sl3","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Sl3","organic_matter*10":115,air_capacity:-3,field_capacity:15,n_field_capacity:10},{soil_type:"Sl4","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Sl4","organic_matter*10":30,air_capacity:-1,field_capacity:4,n_field_capacity:3},{soil_type:"Sl4","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Sl4","organic_matter*10":115,air_capacity:-3,field_capacity:14,n_field_capacity:10},{soil_type:"Slu","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Slu","organic_matter*10":30,air_capacity:-1,field_capacity:4,n_field_capacity:3},{soil_type:"Slu","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Slu","organic_matter*10":115,air_capacity:-3,field_capacity:4,n_field_capacity:10},{soil_type:"Ss","organic_matter*10":15,air_capacity:0,field_capacity:4,n_field_capacity:2},{soil_type:"Ss","organic_matter*10":30,air_capacity:-1,field_capacity:8,n_field_capacity:4},{soil_type:"Ss","organic_matter*10":60,air_capacity:-3,field_capacity:12,n_field_capacity:7},{soil_type:"Ss","organic_matter*10":115,air_capacity:-5,field_capacity:21,n_field_capacity:13},{soil_type:"St2","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"St2","organic_matter*10":30,air_capacity:0,field_capacity:6,n_field_capacity:4},{soil_type:"St2","organic_matter*10":60,air_capacity:-1,field_capacity:9,n_field_capacity:5},{soil_type:"St2","organic_matter*10":115,air_capacity:-2,field_capacity:15,n_field_capacity:7},{soil_type:"St3","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"St3","organic_matter*10":30,air_capacity:0,field_capacity:6,n_field_capacity:4},{soil_type:"St3","organic_matter*10":60,air_capacity:0,field_capacity:8,n_field_capacity:6},{soil_type:"St3","organic_matter*10":115,air_capacity:1,field_capacity:14,n_field_capacity:8},{soil_type:"Su2","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Su2","organic_matter*10":30,air_capacity:-1,field_capacity:6,n_field_capacity:4},{soil_type:"Su2","organic_matter*10":60,air_capacity:-2,field_capacity:10,n_field_capacity:7},{soil_type:"Su2","organic_matter*10":115,air_capacity:-3,field_capacity:16,n_field_capacity:10},{soil_type:"Su3","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Su3","organic_matter*10":30,air_capacity:-1,field_capacity:6,n_field_capacity:4},{soil_type:"Su3","organic_matter*10":60,air_capacity:-2,field_capacity:10,n_field_capacity:6},{soil_type:"Su3","organic_matter*10":115,air_capacity:-3,field_capacity:15,n_field_capacity:9},{soil_type:"Su4","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Su4","organic_matter*10":30,air_capacity:0,field_capacity:6,n_field_capacity:4},{soil_type:"Su4","organic_matter*10":60,air_capacity:-1,field_capacity:9,n_field_capacity:6},{soil_type:"Su4","organic_matter*10":115,air_capacity:-2,field_capacity:14,n_field_capacity:9},{soil_type:"Tl","organic_matter*10":15,air_capacity:2,field_capacity:1,n_field_capacity:1},{soil_type:"Tl","organic_matter*10":30,air_capacity:3,field_capacity:2,n_field_capacity:2},{soil_type:"Tl","organic_matter*10":60,air_capacity:4,field_capacity:4,n_field_capacity:3},{soil_type:"Tl","organic_matter*10":115,air_capacity:5,field_capacity:7,n_field_capacity:5},{soil_type:"Ts2","organic_matter*10":15,air_capacity:1,field_capacity:3,n_field_capacity:2},{soil_type:"Ts2","organic_matter*10":30,air_capacity:2,field_capacity:5,n_field_capacity:4},{soil_type:"Ts2","organic_matter*10":60,air_capacity:3,field_capacity:8,n_field_capacity:6},{soil_type:"Ts2","organic_matter*10":115,air_capacity:5,field_capacity:12,n_field_capacity:8},{soil_type:"Ts3","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Ts3","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:4},{soil_type:"Ts3","organic_matter*10":60,air_capacity:2,field_capacity:8,n_field_capacity:6},{soil_type:"Ts3","organic_matter*10":115,air_capacity:5,field_capacity:12,n_field_capacity:9},{soil_type:"Ts4","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Ts4","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:4},{soil_type:"Ts4","organic_matter*10":60,air_capacity:2,field_capacity:8,n_field_capacity:6},{soil_type:"Ts4","organic_matter*10":115,air_capacity:4,field_capacity:12,n_field_capacity:9},{soil_type:"Tt","organic_matter*10":15,air_capacity:3,field_capacity:1,n_field_capacity:1},{soil_type:"Tt","organic_matter*10":30,air_capacity:4,field_capacity:2,n_field_capacity:2},{soil_type:"Tt","organic_matter*10":60,air_capacity:5,field_capacity:3,n_field_capacity:3},{soil_type:"Tt","organic_matter*10":115,air_capacity:7,field_capacity:6,n_field_capacity:5},{soil_type:"Tu2","organic_matter*10":15,air_capacity:2,field_capacity:1,n_field_capacity:1},{soil_type:"Tu2","organic_matter*10":30,air_capacity:3,field_capacity:2,n_field_capacity:2},{soil_type:"Tu2","organic_matter*10":60,air_capacity:4,field_capacity:4,n_field_capacity:3},{soil_type:"Tu2","organic_matter*10":115,air_capacity:5,field_capacity:7,n_field_capacity:5},{soil_type:"Tu3","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Tu3","organic_matter*10":30,air_capacity:2,field_capacity:3,n_field_capacity:2},{soil_type:"Tu3","organic_matter*10":60,air_capacity:3,field_capacity:5,n_field_capacity:4},{soil_type:"Tu3","organic_matter*10":115,air_capacity:5,field_capacity:8,n_field_capacity:6},{soil_type:"Tu4","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Tu4","organic_matter*10":30,air_capacity:2,field_capacity:4,n_field_capacity:2},{soil_type:"Tu4","organic_matter*10":60,air_capacity:3,field_capacity:6,n_field_capacity:4},{soil_type:"Tu4","organic_matter*10":115,air_capacity:5,field_capacity:9,n_field_capacity:7},{soil_type:"Uls","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Uls","organic_matter*10":30,air_capacity:1,field_capacity:4,n_field_capacity:3},{soil_type:"Uls","organic_matter*10":60,air_capacity:2,field_capacity:7,n_field_capacity:5},{soil_type:"Uls","organic_matter*10":115,air_capacity:3,field_capacity:12,n_field_capacity:8},{soil_type:"Us","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Us","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:3},{soil_type:"Us","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:5},{soil_type:"Us","organic_matter*10":115,air_capacity:2,field_capacity:12,n_field_capacity:8},{soil_type:"Ut2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Ut2","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:3},{soil_type:"Ut2","organic_matter*10":60,air_capacity:2,field_capacity:9,n_field_capacity:6},{soil_type:"Ut2","organic_matter*10":115,air_capacity:3,field_capacity:13,n_field_capacity:8},{soil_type:"Ut3","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Ut3","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:3},{soil_type:"Ut3","organic_matter*10":60,air_capacity:2,field_capacity:9,n_field_capacity:6},{soil_type:"Ut3","organic_matter*10":115,air_capacity:3,field_capacity:13,n_field_capacity:8},{soil_type:"Ut4","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Ut4","organic_matter*10":30,air_capacity:2,field_capacity:5,n_field_capacity:3},{soil_type:"Ut4","organic_matter*10":60,air_capacity:3,field_capacity:9,n_field_capacity:6},{soil_type:"Ut4","organic_matter*10":115,air_capacity:4,field_capacity:13,n_field_capacity:8},{soil_type:"Uu","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Uu","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:2},{soil_type:"Uu","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:4},{soil_type:"Uu","organic_matter*10":115,air_capacity:2,field_capacity:12,n_field_capacity:7}]},ue=function(t,e,a,i){var r=void 0!==t&&null!==t?t.toLowerCase():"",o=e||0,_=a||0,c=i||0;
return"ammonium nitrate"===r?(_=.5,c=.5,o=0):"ammonium phosphate"===r?(_=0,c=1,o=0):"ammonium sulphate"===r?(_=0,c=1,o=0):"potassium nitrate"===r?(_=1,c=0,o=0):"compound fertiliser (0 no3, 100 nh4)"===r?(_=0,c=1,o=0):"compound fertiliser (35 no3, 65 nh4)"===r?(_=.35,c=.65,o=0):"compound fertiliser (43 no3, 57 nh4)"===r?(_=.435,c=.565,o=0):"compound fertiliser (50 no3, 50 nh4)"===r?(_=.5,c=.5,o=0):"urea"===r?(_=0,c=0,o=1):"urea ammonium nitrate"===r?(_=.25,c=.25,o=.5):"urea ammonium sulphate"===r?(_=0,c=.18,o=.82):void 0!==r&&$(n,"Custom mineral fertilzer."),{getName:function(){return r},getCarbamid:function(){return o},getNH4:function(){return c},getNO3:function(){return _}}},fe=function(t,e,a,i,r){this.name=void 0!==t&&null!==t?t.toLowerCase():"",this.vo_AOM_DryMatterContent=r||0,this.vo_AOM_NH4Content=i||0,this.vo_AOM_NO3Content=a||0,this.vo_AOM_CarbamidContent=e||0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0,this.vo_DaysAfterApplication=0,"cattle deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.289,this.vo_AOM_NH4Content=.007,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=7.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"cattle manure"===this.name?(this.vo_AOM_DryMatterContent=.196,this.vo_AOM_NH4Content=.007,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"cattle slurry"===this.name?(this.vo_AOM_DryMatterContent=.103,this.vo_AOM_NH4Content=.032,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6.1,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"cattle urine"===this.name?(this.vo_AOM_DryMatterContent=.033,this.vo_AOM_NH4Content=.146,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=8.4,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"duck or goose deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.35,this.vo_AOM_NH4Content=.024,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=2.1,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"green-waste compost"===this.name?(this.vo_AOM_DryMatterContent=.5,this.vo_AOM_NH4Content=.002,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=8,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"horse deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.26,this.vo_AOM_NH4Content=.008,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=5.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"maize straw"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=50,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"mushroom compost"===this.name?(this.vo_AOM_DryMatterContent=.39,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"oilseed-rape cake fert. (5-1-10)"===this.name?(this.vo_AOM_DryMatterContent=.9,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=.012,this.vo_AOM_FastDecCoeffStandard=.05,this.vo_PartAOM_to_AOM_Slow=.38,this.vo_PartAOM_to_AOM_Fast=.62,this.vo_CN_Ratio_AOM_Slow=47.7,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.33,this.vo_AOM_NH4Content=.009,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=4.8,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig manue"===this.name?(this.vo_AOM_DryMatterContent=.039,this.vo_AOM_NH4Content=.014,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig slurry"===this.name?(this.vo_AOM_DryMatterContent=.054,this.vo_AOM_NH4Content=.068,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=5.7,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig slurry-dk"===this.name?(this.vo_AOM_DryMatterContent=.05,this.vo_AOM_NH4Content=.08,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=85,this.vo_CN_Ratio_AOM_Fast=5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig urine"===this.name?(this.vo_AOM_DryMatterContent=.02,this.vo_AOM_NH4Content=.162,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=7.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"potato liquid waste"===this.name?(this.vo_AOM_DryMatterContent=.02,this.vo_AOM_NH4Content=.028,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=4.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"poultry deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.633,this.vo_AOM_NH4Content=.037,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=1.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"poultry manure"===this.name?(this.vo_AOM_DryMatterContent=.4,this.vo_AOM_NH4Content=.019,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=3.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"sewage sludge"===this.name?(this.vo_AOM_DryMatterContent=.141,this.vo_AOM_NH4Content=.089,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"soybean straw"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=30,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"turkey deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.48,this.vo_AOM_NH4Content=.038,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=1.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"weeds"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=30,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"wheat straw"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=8,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"wood ashes"===this.name?(this.vo_AOM_DryMatterContent=1,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.9,this.vo_PartAOM_to_AOM_Fast=.1,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=10,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):void 0!==this.name&&$(n,"Custom organic fertilzer."),this.vo_NConcentration=this.vo_AOM_NO3Content+this.vo_AOM_NH4Content+this.vo_AOM_CarbamidContent},ve=function(t){this._date=t,this.date=function(){return this._date},this.setDate=function(t){this._date=t},this.apply=function(){},this.clone=function(){},this.toString=function(){return"date: "+this.date().toString()}},de=function(t,e){ae("Seed",t),ve.call(this,t),this._date=t,this._crop=e,ae("Seed",this._date),this.setDate=function(t){this._date=t,this._crop.setSeedAndHarvestDate(this.date(),this._crop.harvestDate())},this.apply=function(t){ae("Seed.apply",this._date),$(n,"seeding crop: "+this._crop.name()+" at: "+this._date.toISODateString()),t.seedCrop(this._crop)},this.clone=function(){return JSON.parse(JSON.stringify(this))},this.toString=function(){return"seeding at: "+this._date.toString()+" crop: "+this._crop.toString()}};de.prototype=Object.create(ve),de.prototype.constructor=de;var ge=function(t,e){ve.call(this,t),this._date=t,this._crop=e,this.setDate=function(t){this._date=t,this._crop.setSeedAndHarvestDate(this._crop.seedDate(),this.date())},this.apply=function(t){if(t.cropGrowth())if($(n,"harvesting crop: "+this._crop.name()+" at: "+this.date().toString()),t.currentCrop()==this._crop){if(t.cropGrowth()){var e=t.cropGrowth();this._crop.setHarvestYields(e.primaryYieldFreshMatter()/100,e.get_FreshSecondaryCropYield()/100),this._crop.setHarvestYieldsTM(e.primaryYield()/100,e.secondaryYield()/100),this._crop.setYieldNContent(e.primaryYieldNitrogenContent(),e.secondaryYieldNitrogenContent()),this._crop.setSumTotalNUptake(e.accumulatedNitrogenUptake()),this._crop.setCropHeight(e.height()),this._crop.setAccumulatedETa(e.accumulatedEvapotranspiration())}t.harvestCurrentCrop()}else $(n,"Crop: "+t.currentCrop().toString()+" to be harvested isn't actual crop of this Harvesting action: "+this._crop.toString())},this.clone=function(){return JSON.parse(JSON.stringify(this))},this.toString=function(){return"harvesting at: "+this.date().toString()+" crop: "+this._crop.toString()}};ge.prototype=Object.create(ve),ge.prototype.constructor=ge;var me=function(t,e,a){ve.call(this,t),this._date=t,this._crop=e,this._cropResult=a,this.apply=function(t){if($(n,"Cutting crop: "+this._crop.name()+" at: "+this.date().toString()),t.currentCrop()==this._crop){var e={id:this._crop.id(),name:this._crop.name(),date:this._date,primaryYieldTM:t.cropGrowth().primaryYield()/100};if(ke){var a="";a+=this._date.getFullYear()+";"+w(e.primaryYieldTM)+"\n",ke.appendFileSync("./out/cutting_yields.csv",a,{encoding:"utf8"})}this._cropResult.cuts||(this._cropResult.cuts=[]),this._cropResult.cuts.push(e),t.cropGrowth()&&t.cropGrowth().applyCutting()}},this.clone=function(){return JSON.parse(JSON.stringify(this))},this.toString=function(){return"Cutting at: "+this.date().toString()+" crop: "+this._crop.toString()}};me.prototype=Object.create(ve),me.prototype.constructor=me;var Se=function(t,e,a){ve.call(this,t),this._date=t,this._partition=e,this._amount=a,this.apply=function(t){t.applyMineralFertiliser(this._partition,this._amount)},this.partition=function(){return this._partition},this.amount=function(){return this._amount},this.toString=function(){return"applying mineral fertiliser at: "+this._date.toString()+" amount: "+this._amount+" partition: "+this.partition().toString()},this.clone=function(){return JSON.parse(JSON.stringify(this))}};Se.prototype=Object.create(ve),Se.prototype.constructor=Se;var ye=function(t,e,a,i){ve.call(this,t),this._date=t,this._parameters=e,this._amount=a,this._incrop=void 0===i?!0:i,this.apply=function(t){t.applyOrganicFertiliser(this._parameters,this._amount,this._incrop)},this.parameters=function(){return this._parameters},this.amount=function(){return this._amount},this.incorporation=function(){return this._incorporation},this.toString=function(){return"applying organic fertiliser at: "+this.date().toString()+" amount: "+this.amount()+"	N percentage: "+this._parameters.vo_NConcentration+"	N amount: "+this.amount()*this._parameters.vo_NConcentration},this.clone=function(){return JSON.parse(JSON.stringify(this))}};ye.prototype=Object.create(ve),ye.prototype.constructor=ye;var he=function(t,e){ve.call(this,t),this._date=t,this._depth=e,this.apply=function(t){t.applyTillage(this._depth)},this.toString=function(){return"applying tillage at: "+this.date().toString()+" depth: "+this._depth},this.clone=function(){return JSON.parse(JSON.stringify(this))}};he.prototype=Object.create(ve),he.prototype.constructor=he;var Me=function(t,e,a){ve.call(this,t),this._date=t,this._amount=e,this._parameters=a,this.apply=function(t){t.applyIrrigation(this.amount(),this.nitrateConcentration())},this.amount=function(){return this._amount},this.nitrateConcentration=function(){return this._parameters.nitrateConcentration},this.sulfateConcentration=function(){return this._parameters.sulfateConcentration},this.toString=function(){return"applying irrigation at: "+this.date().toString()+" amount: "+this.amount()+" nitrateConcentration: "+this.nitrateConcentration()+" sulfateConcentration: "+this.sulfateConcentration()},this.clone=function(){return JSON.parse(JSON.stringify(this))}};Me.prototype=Object.create(ve),Me.prototype.constructor=Me;var Oe=function(t,e){var a=t,i=e,r=[],o=[];r.equal_range=function(t){var e=[];return this.forEach(function(a){a.date().toISODateString()===t.toISODateString()&&e.push(a)}),e},r.upper_bound=function(t){for(var e=0,a=this.length;a>e;e++)if(this[e].date()>t)return this[e];return null};var n=function(t){r.push(t),r.sort(function(t,e){var a=t.date(),i=e.date();return i>a?-1:a>i?1:0})};n(new de(e.seedDate(),e)),ae("pp",e.seedDate()),n(new ge(e.harvestDate(),e,o));for(var _=e.getCuttingDates(),c=_.length,s=0;c>s;s++)n(new me(Date(_.at(s)),e));var p=function(t,e){var a=r.equal_range(t);a.forEach(function(t){t.apply(e)})},l=function(t){var e=r.upper_bound(t);return e?e.date():new Date(1/0)},u=function(t){var e=null;return r.forEach(function(a){a.date().toISODateString()===t.toISODateString()&&(e=a)}),e},f=function(){return 0===r.length?new Date(1/0):r[0].date()},v=function(){return 0===r.length?new Date(1/0):r[r.length-1]},d=function(){var t="";return t+="name: "+a+" start: "+f().toString()+" end: "+v().toString()+"\n",t+="worksteps:\n",r.forEach(function(e){t+="at: "+e.date().toString()+" what: "+e.toString()+"\n"}),t};return{getWorkstep:u,addApplication:n,apply:p,nextDate:l,name:function(){return a},crop:function(){return i},isFallow:function(){return!i.isValid()},start:f,end:v,getWorksteps:function(){return r},clearWorksteps:function(){r=[]},toString:d,setCustomId:function(t){_customId=t},cropResult:function(){return o}}},Ce=function(t,e){this._startDate=t,this._endDate=e,this._data=[],this._numberOfSteps=0,this._offset=0,this._dates=[],this.setData=function(t){this._data=t,this._offset=t[Q.ISODATESTRING].indexOf(this._startDate.toISODateString());var e=t[Q.ISODATESTRING].indexOf(this._endDate.toISODateString());this._offset<0&&(this._numberOfSteps=0,$(c,"Start date not valid: no. of steps is 0")),0>e&&(e=this._data[Q.ISODATESTRING].length-1,this._endDate=new Date(Date.parse(this._data[Q.ISODATESTRING][e])),$(_,"End date not found: end date adjusted to "+this._endDate.toISODateString()));for(var a=0;a<this._numberOfSteps;a++)this._dates[a]=new Date(Date.parse(this._data[Q.ISODATESTRING][a]));this._numberOfSteps=e-this._offset},this.date=function(t){return this._dates[t+this._offset]},this.isValid=function(){return this._numberOfSteps>0},this.dataForTimestep=function(t,e){return this._data[t][e+this._offset]},this.noOfStepsPossible=function(){return this._numberOfSteps},this.startDate=function(){return this._startDate},this.endDate=function(){return this._endDate},this.doy=function(t){if(this._data[Q.DOY].length>0)return this._data[Q.DOY][t+this._offset];var e=new Date(this._startDate.getFullYear(),this._startDate.getMonth(),this._startDate.getDate()+t);return m((e-new Date(e.getFullYear(),0,1))/864e5)+1},this.isAvailable=function(t){return this._data[t].length>0}};t.prototype={step:function(){},name:function(){return"unknown"},height:function(){return 0},kcFactor:function(){return 0},leafAreaIndex:function(){return 0},numberOfOrgans:function(){return 0},soilCoverage:function(){return 0},stomataResistance:function(){return 0},numberOfSpecies:function(){return 1},rootingDepth:function(){return 0},nitrogenStress:function(){return 1},heatStress:function(){return 1},oxygenStress:function(){return 1},waterStress:function(){return 1},biomass:function(){return 0},growthIncrement:function(){return 0},shootBiomass:function(){return 0},shootBiomassNitrogenConcentration:function(){return 0},rootBiomass:function(){return 0},rootNitrogenConcentration:function(){return 0},netPrimaryProduction:function(){return 0},netPhotosynthate:function(){return 0},grossPhotosynthate:function(){return 0},primaryYield:function(){return 0},primaryYieldFreshMatter:function(){return 0},primaryYieldNitrogenConcentration:function(){return 0},primaryYieldNitrogenContent:function(){return 0},primaryYieldCrudeProteinConcentration:function(){return 0},secondaryYield:function(){return 0},secondaryYieldNitrogenConcentration:function(){return 0},secondaryYieldNitrogenContent:function(){return 0},residueBiomass:function(){return 0},residuesNitrogenConcentration:function(){return 0},residuesNitrogenContent:function(){return 0},referenceEvapotranspiration:function(){return 0},accumulatedEvapotranspiration:function(){return 0},accumulateEvapotranspiration:function(){return 0},remainingEvapotranspiration:function(){return 0},transpiration:function(){return 0},potentialTranspiration:function(){return 0},evaporatedFromIntercept:function(){return 0},netPrecipitation:function(){return 0},nitrogenUptake:function(){return 0},potentialNitrogenUptake:function(){return 0},accumulatedNitrogenUptake:function(){return 0},currentTemperatureSum:function(){return 0},developmentalStage:function(){return 1},relativeTotalDevelopment:function(){return 0},heatSumIrrigationEnd:function(){return 0},heatSumIrrigationStart:function(){return 0},senescencedTissue:function(){return[]}};var Ae=function(t){var e=-1,a=t.toLowerCase(),i=0,r=0,o=0,n=1,_=[],c=[],s=new Date(1/0),p=new Date(1/0),l=0,u=0,f=0,v=0,d=0,g=0,m=0,S=null,y=null;return"winter wheat"===a?(e=1,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.2,.6,0],[.13,.2,.67,0],[0,0,.03,.97],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.05,0,0],[0,.05,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.9,1,1,.9,.8],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[148,284,380,200,420,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter wheat",pc_MaxAssimilationRate:52,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.83,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:6,pc_CropHeightP2:.5,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:620,pc_EndSensitivePhaseHeatStress:740,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter wheat",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter barley"===a?(e=2,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.3,.2,.5,0],[.1,.2,.4,.3],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.05,0,0],[0,.05,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[.8,.8,.8,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0019,.0018,.0017,.0016,.0016],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[108,284,300,120,260,25],pc_VernalisationRequirement:[0,33,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.04,.04,.04,.04,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter barley",pc_MaxAssimilationRate:40,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.87,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.6,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:560,pc_HeatSumIrrigationEnd:1032,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter barley",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:180,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter rye"===a?(e=3,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.53,.47,0,0],[.2,.6,.2,0],[.13,.37,.5,0],[0,0,.25,.75],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[148,284,200,400,350,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter rye",pc_MaxAssimilationRate:38,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:1.5,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:406,pc_HeatSumIrrigationEnd:934,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter rye",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring barley"===a?(e=4,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.25,.23,.52,0],[.17,.23,.5,.1],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,.002,0],[0,.03,.002,0]],pc_BaseDaylength:[0,0,7,0,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,0,0,0],pc_DroughtStressThreshold:[.8,.8,.8,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0019,.0018,.0017,.0016,.0016],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.6,1,1,.8,.25],pc_StageTemperatureSum:[108,284,330,120,200,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.04,.04,.04,.04,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring barley",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.87,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.6,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:560,pc_HeatSumIrrigationEnd:1032,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:550,pc_EndSensitivePhaseHeatStress:670,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"spring barley",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:180,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"grain maize"===a?(e=5,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.4,0,0],[.55,.25,.2,0],[.2,.2,.6,0],[.05,.05,.65,.25],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[.005,.001,0,0],[.1,.003,0,0],[.1,.005,.013,0],[0,.02,.02,0]],pc_BaseDaylength:[0,0,0,0,0,0,0],pc_BaseTemperature:[7,6,6,6,9,9,9],pc_OptimumTemperature:[30,30,30,30,30,30,30],pc_DaylengthRequirement:[0,0,0,0,0,0,0],pc_DroughtStressThreshold:[.5,.5,.5,.5,.6,.6,.2],pc_OrganMaintenanceRespiration:[.01,.03,.01,.007],pc_OrganGrowthRespiration:[.01,.03,.01,.007],pc_SpecificLeafArea:[.0028,.002,.002,.0019,.0018,.0018,.0018],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01,.01],pc_StageKcFactor:[.4,1,1,1.2,1.25,1.25,1],pc_StageTemperatureSum:[68,284,190,250,200,400,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[12,12,0,0],pc_CriticalOxygenContent:[.04,.02,.02,.02,.02,.02,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.78,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"grain maize",pc_MaxAssimilationRate:96,pc_CarboxylationPathway:2,pc_MinimumTemperatureForAssimilation:6,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.004,pc_NConcentrationPN:1,pc_NConcentrationB0:5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1,pc_MaxCropHeight:2,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:60,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.025,pc_StageAtMaxDiameter:4,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:993,pc_MaxNUptakeParam:7.4,pc_RootDistributionParam:.0035,pc_PlantDensity:10,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:9,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0014,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:.5,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"grain maize",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.61,vo_PartAOM_to_AOM_Fast:.39,vo_CN_Ratio_AOM_Slow:225,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"silage maize"===a?(e=7,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.65,.35,0,0],[.6,.2,.2,0],[.2,.2,.6,0],[.05,.05,.65,.25],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[.005,.001,0,0],[.1,.003,0,0],[.1,.005,.013,0],[0,.02,.02,0]],pc_BaseDaylength:[0,0,0,0,0,0,0],pc_BaseTemperature:[7,6,6,6,9,9,9],pc_OptimumTemperature:[30,30,30,30,30,30,30],pc_DaylengthRequirement:[0,0,0,0,0,0,0],pc_DroughtStressThreshold:[.5,.5,.5,.5,.6,.6,.2],pc_OrganMaintenanceRespiration:[.01,.03,.01,.007],pc_OrganGrowthRespiration:[.01,.03,.01,.007],pc_SpecificLeafArea:[.0025,.0017,.0015,.0014,.0012,.0012,.0012],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01,.01],pc_StageKcFactor:[.4,1,1,1.2,1.25,1.25,1],pc_StageTemperatureSum:[68,284,190,250,200,400,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[12,12,0,0],pc_CriticalOxygenContent:[.04,.02,.02,.02,.02,.02,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:2,yieldPercentage:.9,yieldDryMatter:.32},{organId:3,yieldPercentage:.9,yieldDryMatter:.32},{organId:4,yieldPercentage:1,yieldDryMatter:.32}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"silage maize",pc_MaxAssimilationRate:96,pc_CarboxylationPathway:2,pc_MinimumTemperatureForAssimilation:6,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.004,pc_NConcentrationPN:1,pc_NConcentrationB0:5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1,pc_MaxCropHeight:2,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:60,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.025,pc_StageAtMaxDiameter:4,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:993,pc_MaxNUptakeParam:7.4,pc_RootDistributionParam:.0035,pc_PlantDensity:10,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:9,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0014,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:.5,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"silage maize",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.61,vo_PartAOM_to_AOM_Fast:.39,vo_CN_Ratio_AOM_Slow:225,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter rape"===a?(e=9,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.4,.4,0],[.13,.17,.7,0],[0,0,.1,.9],[0,0,0,0],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.01,0,0],[0,.01,0,0],[0,.01,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.8,.8,.8,.8,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.6,1.1,1.3,1.1,.8,.6],pc_StageTemperatureSum:[130,284,160,160,900,25],pc_VernalisationRequirement:[0,35,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.03],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.55,yieldDryMatter:.91}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.35},{organId:3,yieldPercentage:.85,yieldDryMatter:.35}],organIdsForCutting:[],pc_CropName:"winter rape",pc_MaxAssimilationRate:50,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.5,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.35,pc_NConcentrationB0:3.5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1.1,pc_MaxCropHeight:.8,pc_ResidueNRatio:.3,pc_SamplingDepth:.6,pc_TargetNSamplingDepth:340,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:450,pc_HeatSumIrrigationEnd:1e3,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:100,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.002,pc_RootFormFactor:1.5,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter rape",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.78,vo_PartAOM_to_AOM_Fast:.22,vo_CN_Ratio_AOM_Slow:227,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"sugar beet"===a?(e=10,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.54,.28,.18,0],[.15,.41,.41,.02],[0,.15,.27,.58],[0,.01,.01,.98],[0,0,.01,.99],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.001,0,0],[.08,.005,0,0],[.08,.01,0,0]],pc_BaseDaylength:[0,0,0,0,0,0],pc_BaseTemperature:[3,3,0,0,0,0],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,0,0,0,0,0],pc_DroughtStressThreshold:[1,.7,.8,.8,.8,.7],pc_OrganMaintenanceRespiration:[.015,.03,.003,.01],pc_OrganGrowthRespiration:[.015,.03,.003,.01],pc_SpecificLeafArea:[9e-4,.001,.001,9e-4,9e-4,9e-4],pc_StageMaxRootNConcentration:[.02,.015,.012,.01,.009,.009],pc_StageKcFactor:[.4,.8,1,1.35,.85,.4],pc_StageTemperatureSum:[100,300,565,608,1600,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[5,10,0,0],pc_CriticalOxygenContent:[.03,.03,.03,.03,.03,.03],pc_AbovegroundOrgan:[!1,!0,!0,!1],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:1,yieldDryMatter:.23}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.95,yieldDryMatter:.16}],organIdsForCutting:[],pc_CropName:"sugar beet",pc_MaxAssimilationRate:100,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:7,pc_CropSpecificMaxRootingDepth:1.6,pc_MinimumNConcentration:.004,pc_NConcentrationPN:1.35,pc_NConcentrationB0:3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1.65,pc_MaxCropHeight:.5,pc_ResidueNRatio:2,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:200,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:0,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:600,pc_HeatSumIrrigationEnd:1691,pc_MaxNUptakeParam:5.645,pc_RootDistributionParam:.0012,pc_PlantDensity:8,pc_RootGrowthLag:-60,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.06,pc_RootPenetrationRate:.0011,pc_RootFormFactor:2,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"sugar beet",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"mustard"===a?(e=11,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,.2,0],[.2,.6,.2,0],[.13,.33,.54,0],[0,0,.04,.96],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.8,.8,.8,.8,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,0],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.6,1.1,1.3,1.1,.8,.6],pc_StageTemperatureSum:[40,284,200,400,350,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.03],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:2,yieldPercentage:.01,yieldDryMatter:.15},{organId:3,yieldPercentage:.01,yieldDryMatter:.15},{organId:4,yieldPercentage:.01,yieldDryMatter:.15}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"mustard",pc_MaxAssimilationRate:65,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.5,pc_MinimumNConcentration:.005,pc_NConcentrationPN:2.5,pc_NConcentrationB0:2.5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:1,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:20,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.6,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:450,pc_HeatSumIrrigationEnd:1e3,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:600,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:8e-4,pc_RootFormFactor:2,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"mustard",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:0,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.005,vo_AOM_FastDecCoeffStandard:.025,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"oil raddich"===a?(e=17,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.6,.2,0],[.13,.33,.54,0],[0,0,.04,.96],[0,0,0,0],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.8,.8,.8,.8,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.3,.7,.9,.99,.6,.6],pc_StageTemperatureSum:[148,150,200,200,325,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.03],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.3},{organId:3,yieldPercentage:.85,yieldDryMatter:.3},{organId:4,yieldPercentage:.85,yieldDryMatter:.91}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"oil raddich",pc_MaxAssimilationRate:60.08,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.5,pc_MinimumNConcentration:.005,pc_NConcentrationPN:2,pc_NConcentrationB0:9.492,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.1,pc_MaxCropHeight:.8,pc_ResidueNRatio:.3,pc_SamplingDepth:.6,pc_TargetNSamplingDepth:340,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:8.77,pc_CropHeightP2:.428,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:450,pc_HeatSumIrrigationEnd:1e3,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:100,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.002,pc_RootFormFactor:1.5,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"oil raddich",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.78,vo_PartAOM_to_AOM_Fast:.22,vo_CN_Ratio_AOM_Slow:227,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter triticale"===a?(e=19,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.3,.5,0],[.13,.3,.57,0],[0,0,.06,.94],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.04,0,0],[0,.04,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,0,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.04,.7,1,1.1,.8,.25],pc_StageTemperatureSum:[300,650,200,250,300,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter triticale",pc_MaxAssimilationRate:48,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:1.1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:6.84,pc_CropHeightP2:.53,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"winter triticale",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring rye"===a?(e=20,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.53,.47,0,0],[.2,.6,.2,0],[.13,.37,.5,0],[0,0,.25,.75],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.3,.3,.3,.3,.3],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[148,284,200,400,350,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring rye",pc_MaxAssimilationRate:38,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:1.3,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:406,pc_HeatSumIrrigationEnd:934,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"spring rye",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"oat compound"===a?(e=22,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.53,.47,0,0],[.2,.6,.2,0],[.13,.37,.5,0],[0,0,.25,.75],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4244,.7,.9,.9,.61,.25],pc_StageTemperatureSum:[100,299.9,419.2,200,200,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"oat compound",pc_MaxAssimilationRate:38.32,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:2,pc_NConcentrationB0:1.963,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.2,pc_MaxCropHeight:1,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:3.74,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:406,pc_HeatSumIrrigationEnd:934,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"oat compound",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring triticale"===a?(e=23,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.3,.5,0],[.13,.3,.57,0],[0,0,.06,.94],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.04,0,0],[0,.04,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,0,0,0],pc_DroughtStressThreshold:[0,0,0,0,0,0],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.1,.3,.6,.7,.7,.25],pc_StageTemperatureSum:[150,200,400,350,300,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring triticale",pc_MaxAssimilationRate:45,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.9,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"spring triticale",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"field pea"===a?(e=24,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.5,.3,0],[.13,.33,.54,0],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[25,160,210,180,480,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.8,.8,.8,.8,.8,.8],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.8,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.9,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"field pea",pc_MaxAssimilationRate:60,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:.7,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.35,pc_NConcentrationB0:3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.74,pc_LuxuryNCoeff:1,pc_MaxCropHeight:.5,pc_ResidueNRatio:.8,pc_SamplingDepth:.6,pc_TargetNSamplingDepth:110,pc_TargetN30:40,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:4,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:993,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.06,pc_RootPenetrationRate:7e-4,pc_RootFormFactor:1,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"field pea",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring wheat"===a?(e=25,y={pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.2,.6,0],[.13,.2,.67,0],[0,0,.03,.97],[0,0,0,1],[0,0,0,.8]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.05,0,0],[0,.05,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.9,1,1,.9,.8],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.6,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[120,284,380,180,435,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring wheat",pc_MaxAssimilationRate:52,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.83,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:6,pc_CropHeightP2:.5,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:780,pc_EndSensitivePhaseHeatStress:900,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},S={name:"spring wheat",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean 000"===a?(e=28,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-22.35,-22.35,-22.35,-22.35,-22.35,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,25,25,25,25,30],pc_DaylengthRequirement:[0,-14.6,-14.6,-14.6,-14.6,-14.6,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,457,323,500,770,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean 000",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1.2,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean 000",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean 00"===a?(e=29,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-21.1,-21.1,-21.1,-21.1,-21.1,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,25],pc_DaylengthRequirement:[0,-14.35,-14.35,-14.35,-14.35,-14.35,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,473,323,500,783,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean 00",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean 00",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean 0"===a?(e=30,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-19.95,-19.95,-19.95,-19.95,-19.95,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-14.1,-14.1,-14.1,-14.1,-14.1,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,500,350,500,804,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean 0",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean 0",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean i"===a?(e=31,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-18.75,-18.75,-18.75,-18.75,-18.75,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.84,-13.84,-13.84,-13.84,-13.84,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,506,350,500,825,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean i",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean i",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean ii"===a?(e=32,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-17.6,-17.6,-17.6,-17.6,-17.6,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.59,-13.59,-13.59,-13.59,-13.59,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,519,363,500,846,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean ii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean ii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean iii"===a?(e=33,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-16.9,-16.9,-16.9,-16.9,-16.9,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.4,-13.4,-13.4,-13.4,-13.4,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,571,377,500,867,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean iii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean iii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean iv"===a?(e=34,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-16.5,-16.5,-16.5,-16.5,-16.5,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.09,-13.09,-13.09,-13.09,-13.09,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,584,404,500,887,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean iv",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean iv",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean v"===a?(e=35,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-16.1,-16.1,-16.1,-16.1,-16.1,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.83,-12.83,-12.83,-12.83,-12.83,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,597,417,500,908,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean v",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean v",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean vi"===a?(e=36,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-15.8,-15.8,-15.8,-15.8,-15.8,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.58,-12.58,-12.58,-12.58,-12.58,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,611,430,500,929,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean vi",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean vi",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean vii"===a?(e=37,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-15.45,-15.45,-15.45,-15.45,-15.45,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.33,-12.33,-12.33,-12.33,-12.33,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.7,.9,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,630,430,500,950,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean vii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean vii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean viii"===a?(e=38,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-15.1,-15.1,-15.1,-15.1,-15.1,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.07,-12.07,-12.07,-12.07,-12.07,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,653,430,500,971,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean viii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean viii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean ix"===a?(e=39,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.82,-14.82,-14.82,-14.82,-14.82,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.88,-11.88,-11.88,-11.88,-11.88,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,702,430,500,976,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean ix",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean ix",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean x"===a?(e=40,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.65,-14.65,-14.65,-14.65,-14.65,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.78,-11.78,-11.78,-11.78,-11.78,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,718,430,500,976,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean x",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean x",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean xi"===a?(e=41,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.5,-14.5,-14.5,-14.5,-14.5,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.7,-11.7,-11.7,-11.7,-11.7,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,630,430,500,950,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean xi",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean xi",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean xii"===a&&(e=42,y={pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.4,-14.4,-14.4,-14.4,-14.4,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.65,-11.65,-11.65,-11.65,-11.65,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,630,430,500,950,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean xii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},S={name:"soy bean xii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}),{type:"generic",id:function(){return e
},name:function(){return a},isValid:function(){return e>-1},cropParameters:function(){return y},setCropParameters:function(t){y=t},residueParameters:function(){return S},setResidueParameters:function(t){S=t},seedDate:function(){return p},harvestDate:function(){return s},getCuttingDates:function(){return _},setSeedAndHarvestDate:function(t,e){p=t,s=e},addCuttingDate:function(t){_.push(t)},setHarvestYields:function(t,e){l+=t,v+=e},setHarvestYieldsTM:function(t,e){f+=t,g+=e},addCuttingYieldDM:function(t){c.push(t)},getCuttingYieldsDM:function(){return c},setYieldNContent:function(t,e){u+=t,d+=e},addAppliedIrrigationWater:function(t){r+=t},setSumTotalNUptake:function(t){m=t},setCropHeight:function(t){o=t},setAccumulatedETa:function(t){i=t},appliedIrrigationWater:function(){return r},sumTotalNUptake:function(){return m},primaryYield:function(){return l*n},secondaryYield:function(){return v*n},primaryYieldTM:function(){return f*n},secondaryYieldTM:function(){return g*n},primaryYieldN:function(){return u},aboveGroundBiomasseN:function(){return u+d},secondaryYieldN:function(){return d},cropHeight:function(){return o},reset:function(){l=v=r=0,u=d=i=0,f=v=0},get_AccumulatedETa:function(){return i}}},Ne=function(e,a,i,r,o){for(var c=e,s=a,p=i,g=o,m=e.vs_NumberOfLayers(),C=r.vs_Latitude,w=0,P=0,T=p.pc_AbovegroundOrgan,x=0,I=p.pc_AssimilatePartitioningCoeff,L=0,B=0,E=0,G=p.pc_BaseDaylength,k=p.pc_BaseTemperature,U=p.pc_BeginSensitivePhaseHeatStress,V=0,Y=0,W=3,q=p.pc_CarboxylationPathway,K=0,z=0,J=p.pc_CriticalOxygenContent,j=p.pc_CriticalTemperatureHeatStress,X=0,Z=1,Q=0,te=p.pc_CropHeightP1,ee=p.pc_CropHeightP2,ae=0,ie=1,re=p.pc_CropName,oe=p.pc_CropSpecificMaxRootingDepth,ne=new Float64Array(p.pc_NumberOfDevelopmentalStages),_e=0,ce=0,se=0,pe=p.pc_DaylengthRequirement,le=0,ue=0,fe=p.pc_DefaultRadiationUseEfficiency,ve=p.pc_DevelopmentAccelerationByNitrogenStress,de=0,ge=1,me=p.pc_DroughtImpactOnFertilityFactor,Se=p.pc_DroughtStressThreshold,ye=0,he=s.pc_EmergenceFloodingControlOn,Me=s.pc_EmergenceMoistureControlOn,Oe=p.pc_EndSensitivePhaseHeatStress,Ce=0,Ae=0,Ne=0,De=0,we=p.pc_FixingN,Pe=new Float64Array(m),Re=0,Fe=0,Te=0,He=0,be=0,xe=0,Ie=0,Le=0,Be=r.vs_HeightNN,Ee=p.pc_InitialKcFactor,Ge=p.pc_InitialOrganBiomass,ke=p.pc_InitialRootingDepth,Ue=0,Ve=.6,Ye=0,We=p.pc_LimitingTemperatureHeatStress,qe=p.pc_LuxuryNCoeff,Ke=0,ze=p.pc_MaxAssimilationRate,Je=p.pc_MaxCropDiameter,je=p.pc_MaxCropHeight,Xe=r.vs_MaxEffectiveRootingDepth,Ze=0,Qe=p.pc_MaxNUptakeParam,$e=0,ta=p.pc_MinimumNConcentration,ea=p.pc_MinimumTemperatureForAssimilation,aa=p.pc_MinimumTemperatureRootGrowth,ia=p.pc_NConcentrationAbovegroundBiomass,ra=0,oa=0,na=p.pc_NConcentrationB0,_a=p.pc_NConcentrationPN,ca=p.pc_NConcentrationRoot,sa=0,pa=0,la=new Float64Array(m),ua=0,fa=0,va=0,da=0,ga=s.pc_NitrogenResponseOn,ma=p.pc_NumberOfDevelopmentalStages,Sa=p.pc_NumberOfOrgans,ya=p.pc_OptimumTemperature,ha=new Float64Array(p.pc_NumberOfOrgans),Ma=new Float64Array(p.pc_NumberOfOrgans),Oa=new Float64Array(p.pc_NumberOfOrgans),Ca=new Float64Array(p.pc_NumberOfOrgans),Aa=p.pc_OrganGrowthRespiration,Na=p.pc_OrganMaintenanceRespiration,Da=new Float64Array(p.pc_NumberOfOrgans),wa=p.pc_OrganSenescenceRate,Pa=0,Ra=0,Fa=0,Ta=0,Ha=p.pc_PlantDensity,ba=0,xa=0,Ia=0,La=0,Ba=0,Ea=p.pc_ResidueNRatio,Ga=0,ka=0,Ua=0,Va=new Float64Array(m),Ya=new Float64Array(m),Wa=(p.pc_RootDistributionParam,new Float64Array(m)),qa=p.pc_RootFormFactor,Ka=p.pc_RootGrowthLag,za=p.pc_RootPenetrationRate,Ja=0,ja=0,Xa=0,Za=0,Qa=new Float64Array(m),$a=0,ti=0,ei=p.pc_SpecificLeafArea,ai=p.pc_SpecificRootLength,ii=p.pc_StageAtMaxDiameter,ri=p.pc_StageAtMaxHeight,oi=p.pc_StageKcFactor,ni=p.pc_StageMaxRootNConcentration,_i=p.pc_StageTemperatureSum,ci=0,si=p.pc_StorageOrgan,pi=4,li=0,ui=0,fi=1,vi=0,di=0,gi=0,mi=0,Si=0,yi=0,hi=0,Mi=0,Oi=0,Ci=new Float64Array(m),Ai=1,Ni=new Float64Array(m),Di=0,wi=0,Pi=p.pc_VernalisationRequirement,Ri=s.pc_WaterDeficitResponseOn,Fi=0,Ti=0,Hi=0;m>Hi;Hi++)Ni[Hi]=1;di=g.userCropParameters.pc_Tortuosity;for(var bi=1;ma-1>bi;bi++)Oi+=_i[bi];Ne=ma-1;for(var xi=0;Sa>xi;xi++)ha[xi]=Ge[xi],1==T[xi]&&(w+=Ge[xi]),gi+=Ge[xi],1==si[xi]&&(pi=xi),1==si[xi]&&(pi=xi);ka=Ge[0],Ye=ha[1]*ei[de],0>=Ye&&(Ye=.001),ka=ha[0],Mi=1e5*ka*100/7/(225e-6*b),mi=w*ia+ka*ca,ra=ia,sa=ca;var Ii=c[0].vs_SoilSandContent,Li=c[0].vs_SoilBulkDensity();.55>Ii&&(Ii=.55),$a=ti>0?ti:Ii*((1.1-Ii)/.275)*(1.4/(Li/1e3)+Li*Li/4e7),$e=($a+2*oe)/3;var Bi=function(t,e,a,i,r,o,n,_,s,p,l){Ti>0&&Ti--,Ei(t,C,r,o),Ra=Ui(J[de]),Vi(e,k,ya,_i,fi,c[0].get_Vs_SoilMoisture_m3(),c[0].get_FieldCapacity(),c[0].get_PermanentWiltingPoint(),ma,wi,se,ie),se=Gi(pe[de],ye,Ta,G[de]);var u=ki(e,fi,Pi[de],Di);wi=u[0],Di=u[1],Ia=_e/Oi,Ve=0==de?.4:Yi(de,_i[de],ne[de],Ee,oi[de],oi[de-1]),de>0&&(Wi(je,Je,ri,ii,_i,_e,te,ee),qi(Ca[1],Da[1],Q,X,ei[de-1],ei[de],ei[1],_i[de],ne[de],Ha,fi),Za=Ki(Ye),zi(e,a,i,Re,p,C,Ye,fe,ze,ea,E,ue,K,ye,Pa),Ji(a,i,_e),ji(Ai),Xi(),Zi(m,c.vs_LayerThickness(),de,L,e),xa=Qi(Be,a,i,n,e,_,s,Re,p,be),$i(m,c.vs_LayerThickness(),Za,Xa,c.vm_GroundwaterTable,xa,l,_e,Oi),tr(m,c.vs_LayerThickness(),Xa,c.vm_GroundwaterTable,_e,Oi),Ie=er(Te),da=ar(Ie,hi))},Ei=function(t,e,a,i){var r=0,o=0;ue=-23.4*S(2*b*((t+10)/365)),r=R(ue*b/180)*R(e*b/180),o=S(ue*b/180)*S(e*b/180),E=12*(b+2*d(r/o))/b;var n=(-R(8*b/180)+r)/o;ye=-1>n||n>1?.01:12*(b+2*d(n))/b,Ta=12*(b+2*d((-R(-6*b/180)+r)/o))/b,Fa=3600*(r*E+24/b*o*F(1-r/o*(r/o))),K=650*Fa*y(-.14/(Fa/(3600*E))),Pa=.2*K;var _=.082,c=1440/b*_*(1+.033*S(2*b*t/365)),s=v(-H(e*b/180)*H(ue*b/180));Ae=c*(s*r+o*R(s)),Re=a>0?a:Ae*(.19+.55*i/E)},Gi=function(t,e,a,i){if(t>0)se=(Ta-i)/(t-i);else if(0>t){var r=-t,o=-i;se=r>=ye?1:(ye-o)/(r-o)}else se=1;return se>1&&(se=1),0>se&&(se=0),se},ki=function(t,e,a,i){var r;if(0==a)wi=1;else{r=t>-4&&0>=t?(t+4)/4:t>0&&3>=t?1:t>3&&7>=t?1-.2*(t-3)/4:t>7&&9>=t?.8-.4*(t-7)/2:t>9&&18>=t?.4-.4*(t-9)/9:-4>=t||t>18?0:1,i+=r*e;var o=N(a,9)-1;o>=1?(wi=(i-o)/(a-o),0>wi&&(wi=0)):wi=1}return[wi,i]},Ui=function(t,e,a){var e=e||0,a=a||0;return e=(c[0].get_Saturation()+c[1].get_Saturation()+c[2].get_Saturation()-(c[0].get_Vs_SoilMoisture_m3()+c[1].get_Vs_SoilMoisture_m3()+c[2].get_Vs_SoilMoisture_m3()))/3,t>e?(vi+=M(fi),vi>4&&(vi=4),0>e&&(e=0),a=e/t,Ra=1-M(vi/4)*(1-a)):(vi=0,Ra=1),Ra>1&&(Ra=1),Ra},Vi=function(t,e,a,i,r,o,n,s,p,l,u,f){var v,d=0,g=0,m=0,S=c[0].get_Vs_SoilTemperature();0==de?S>e[de]&&(v=n-s,1==Me&&1==he?o>.2*v+s&&c.vs_SurfaceWaterStorage<.001&&(ne[de]+=(S-e[de])*r,ne[de]>=i[de]&&de++):1==Me&&0==he?o>.2*v+s&&(ne[de]+=(S-e[de])*r,ne[de]>=i[de]&&de++):0==Me&&1==he?c.vs_SurfaceWaterStorage<.001&&(ne[de]+=(S-e[de])*r,ne[de]>=i[de]&&de++):(ne[de]+=(S-e[de])*r,ne[de]>=i[de]&&de++)):de>0?(d=1==ve&&I[de][pi]>.9?1+(1-f)*(1-f):1,g=Ai<Se[de]&&I[de][pi]>.9?1>Ra?1:1+(1-Ai)*(1-Ai):1,m=A(d,g),t>e[de]&&(t>a[de]&&(t=a[de]),ne[de]+=(t-e[de])*l*u*m*r,_e+=(t-e[de])*l*u*m*r),ne[de]>=i[de]&&p-1>de&&de++):$(_,"irregular developmental stage")},Yi=function(t,e,a,i,r,o){var n,_=a/e;return _>1&&(_=1),n=0==t?i+(r-i)*_:o+(r-o)*_},Wi=function(t,e,a,i,r,o,n,_){for(var c=0,s=1;a+1>s;s++)c+=r[s];for(var p=0,s=1;i+1>s;s++)p+=r[s];var l=o/c;l>1&&(l=1);var u=o/p;u>1&&(u=1),Q=l>0?t/(1+y(-n*(l-_))):0,X=u>0?e*u:0},qi=function(t,e,a,i,r,o,n,_,c,s,p){Ye+=t*(r+c/_*(o-r))*p-e*n*p,0>=Ye&&(Ye=.001),Fe=Ye+a*b*i*s},Ki=function(t){return Za=1-y(-.5*t)},zi=function(t,e,a,i,r,o,n,_,c,s,l,u,f,v,d){var m=0,S=0,h=0,M=0,C=0,A=0,w=0,P=0,F=0,T=0,H=0,x=0,I=0,E=0,G=0,k=0,U=0,V=0,Y=0,K=0,z=0,J=0,j=0,X=0,Z=0,Q=0,$=0,te=0,ee=0,ae=0,ie=0,re=0,oe=0,ne=0,_e=0,ce=0,se=0,pe=0,le=0,ue=0,fe=0,ve=0,ge=0,me=0,ye=0,he=0,Me=0,Oe=0,Ce=0,Ae=0,Ne=0,De=0,we=0,Pe=0,Re=0,Fe=0,Ie=0,Be=0,Ee=0,Ge=0,ke=0,Ue=g.userCropParameters,Ve=Ue.pc_ReferenceLeafAreaIndex,Ye=Ue.pc_ReferenceMaxAssimilationRate,We=Ue.pc_MaintenanceRespirationParameter1,qe=Ue.pc_MaintenanceRespirationParameter2,ze=Ue.pc_GrowthRespirationParameter1,Je=Ue.pc_GrowthRespirationParameter2,je=Ue.pc_CanopyReflectionCoefficient;3==W?(C=y(68800*(t+273-298)/(298*(t+273)*8.314))*D((t+273)/298,.5),A=y(65800*(t+273-298)/(298*(t+273)*8.314))*D((t+273)/298,.5),w=y(1400*(t+273-298)/(298*(t+273)*8.314))*D((t+273)/298,.5),P=c/34.668,F=Ye/34.668,T=98*P*C,H=98*F*C,x=460*A,I=330*w,E=210+(.047-.0013087*t+25603e-9*t*t-2.1441e-7*t*t*t)/.026934,G=.7*r*(1.674-.061294*t+.0011688*t*t-88741e-10*t*t*t)/.73547,m=.105*T*E/(T*I),S=.105*H*E/(H*I),h=N(.77/2.1*(G-m)/(4.5*G+10.5*m)*8.3769,.5),M=N(.77/2.1*(G-S)/(4.5*G+10.5*S)*8.3769,.5)):(h=_,M=_),1==q?2==W?(s>t?(B=0,k=0):10>t?(B=c*t/10*.4,k=Ye*t/10*.4):15>t?(B=c*(.4+(t-10)/5*.5),k=Ye*(.4+(t-10)/5*.5)):25>t?(B=c*(.9+(t-15)/10*.1),k=Ye*(.9+(t-15)/10*.1)):35>t?(B=c*(1-(t-25)/10),k=Ye*(1-(t-25)/10)):(B=0,k=0),U=220+.158*(86400*i/1e6),V=80-.036*(86400*i/1e6),Y=(r-V)/(U+r-V)/((350-V)/(U+350-V)),B*=Y,k*=Y):3==W&&(B=(G-m)*T/(G+x*(1+E/I))*1.656,k=(G-S)*H/(G+x*(1+E/I))*1.656,s>t&&(B=0,k=0)):s>t?(B=0,k=0):9>t?(B=c*t/10*.08,k=Ye*t/10*.08):14>t?(B=c*(.071+.03*(t-9)),k=Ye*(.071+.03*(t-9))):20>t?(B=c*(.221+.09*(t-14)),k=Ye*(.221+.09*(t-14))):24>t?(B=c*(.761+.04*(t-20)),k=Ye*(.761+.04*(t-20))):32>t?(B=c*(.921+.01*(t-24)),k=Ye*(.921+.01*(t-24))):38>t?(B=c,k=Ye):42>t?(B=c*(1-.01*(t-38)),k=Ye*(1-.01*(t-38))):45>t?(B=c*(.96-.04*(t-42)),k=Ye*(.96-.04*(t-42))):54>t?(B=c*(.84-.09*(t-45)),k=Ye*(.84-.09*(t-45))):(B=0,k=0),Ti>0&&(B=0,k=0),.1>B&&(B=.1),.1>k&&(k=.1),K=(1-je)*h,z=(1-je)*M,J=R((90+u-o)*b/180),j=O(1+.45*f/(3600*v)*K/(J*B)),X=O(1+.45*f/(3600*v)*z/(J*k)),Z=J*B*v*j/(1+j),Q=J*k*v*X/(1+X),$=O(1+.55*f/(3600*v)*K/((5-J)*B)),te=O(1+.55*f/(3600*v)*K/((5-J)*k)),ee=(5-J)*B*v*$/(1+$),ae=(5-J)*k*v*te/(1+te),ie=.95*(Z+ee)+20.5,re=.95*(Q+ae)+20.5,oe=ie*(1-y(-.8*n)),ne=re*(1-y(-.8*Ve)),_e=l*n*B,ce=l*Ve*k,se=_e>oe?oe*(1-y(-_e/oe)):_e*(1-y(-oe/_e)),pe=ce>ne?ne*(1-y(-ce/ne)):ce*(1-y(-ne/ce)),le=d/(3600*v)*K/(5*B),ue=5*B*v*le/(1+le),fe=.9935*ue+1.1,ve=fe*(1-y(-.8*n)),ge=fe*(1-y(-.8*Ve)),me=_e>ve?ve*(1-y(-_e/ve)):_e*(1-y(-ve/_e)),ye=ce>ge?ge*(1-y(-ce/ge)):ce*(1-y(-ge/ce)),5>n?(Oe=se,Ce=me):(Oe=ie,Ce=fe),he=pe,Me=ye,De=(f-1e6*i*.5)/(.8*f),De>1&&(De=1),0>De&&(De=0),Ae=De*Ce+(1-De)*Oe,Ne=De*Me+(1-De)*he,Re=1>Ra?0:Se[de],Re>Ai&&(Ae=Ae),He=30*Ae/44,xe=22414*Ae/38016e3,be=22414*Ne/38016e3,L=30*Ae/44,L*=p.pc_FieldConditionModifier,Re>Ai&&(L*=Ai),Te=L,Fe=e-(e-a)/4,Ie=a+(e-a)/4;for(var Xe=0,Ze=0;Sa>Ze;Ze++)Xe+=(ha[Ze]-Ma[Ze])*Na[Ze];var Qe=2-Ta/12;Be=Xe*D(2,We*(Fe-qe))*(2-Qe),Ee=Xe*D(2,We*(Ie-qe))*Qe,Ke=Be+Ee,L-=Be+Ee;for(var $e=0,Ze=0;Sa>Ze;Ze++)$e+=(ha[Ze]-Ma[Ze])*Aa[Ze];L>0&&(Ge=$e*D(2,ze*(Fe-Je))*(2-Qe),L>Ge?L-=Ge:(Ge=L,L=0)),L>0&&(ke=$e*D(2,ze*(Fe-Je))*Qe,L>ke?L-=ke:(ke=L,L=0)),Le=Ge+ke,hi=Te-L,we=D(2,.1*t-2.5),Pe=0;for(var Ze=0;Sa>Ze;Ze++)Pe+=(ha[Ze]-Ma[Ze])*Na[Ze];ua=Pe*we>He?He:Pe*we,s>t&&(He=ua)},Ji=function(t,e,a){var i=t-(t-e)/4,r=0,o=0;if(0==U&&0==Oe&&(Si=1),a>=U&&Oe>a){var n=1-(i-j)/(We-j);n>1&&(n=1),0>n&&(n=0),r=1/(1+(1/.015-1)*y(-1.4*le)),o=le>0?1/(1+(1/.015-1)*y(-1.4*(le-1))):0;var _=r-o;Si+=n*_,le+=1}a>=Oe&&Z>Si&&(Z=Si)},ji=function(t){if(0>t&&(t=0),t<me*Se[de]&&I[de][pi]>0){var e=t/(me*Se[de]);ge=1>Ra?1:1-(1-e)*(1-e)}else ge=1},Xi=function(){var t=0,e=0,a=0;z=_a*(1+na*y(-.26*(w+V)/1e3))/100,ui=z*qe,oa=ra,pa=sa,.01>sa?.005>=sa?t=0:(e=(sa-.005)/.005,t=1-F(1-e*e)):t=1,0==we?z>ra?ta>=ra?ie=0:(a=(ra-ta)/(z-ta),ie=1-y(ta-5*a)):ie=1:1==we?z>ra&&(De=z-ra,ra=z,ie=1):ie=1,0==ga&&(ie=1)},Zi=function(t,e,a,i,r){var o=0,_=0,s=0,p=0,v=0,d=g.userCropParameters,m=d.pc_MaxCropNDemand;fa=i,Ba=0,P=w,w=0,Y=V,V=0,gi=0,mi+=1e4*c.vq_CropNUptake;for(var S=.3,O=0;Sa>O;O++){if(p=I[a-1][O],v=I[a][O],1==si[O]&&(p=p*Z*ge,v=v*Z*ge),ne[a]/_i[a]>1)Ca[O]=0,Da[O]=0;else{if(0>fa)if(ha[O],O==l){var C=S*fa;f(C)<=ha[O]?($(n,"ORGAN_LEAF - Reducing organ biomass - default case ("+(ha[O]+Ca[O])+")"),Ca[O]=C):($(n,"ORGAN_LEAF - Not enough biomass for reduction - Reducing only what is available "),Ca[O]=-1*ha[O])}else if(O==u){var C=S*fa;f(C)<=ha[O]?(Ca[O]=C,$(n,"ORGAN_STEM - Reducing organ biomass - default case ("+(ha[O]+Ca[O])+")")):($(n,"ORGAN_STEM - Not enough biomass for reduction - Reducing only what is available"),Ca[O]=-1*ha[O])}else Ca[O]=0;else Ca[O]=fa*(p+(v-p)*(ne[a]/_i[a]))*ie;Da[O]=(ha[O]-Ma[O])*(wa[a-1][O]+(wa[a][O]-wa[a-1][O])*(ne[a]/_i[a]))}O!=pi?(ha[O]+=Ca[O]*fi-Da[O]*fi,ha[pi]+=.35*Da[O]):ha[O]+=ma>a?Ca[O]*fi-Da[O]*fi+.3*(Da[O-1]*fi+Da[O-2]*fi+Da[O-3]*fi):Ca[O]*fi-Da[O]*fi,Ma[O]+=Da[O]*fi,Oa[O]=ha[O]-Ma[O],Oa[O]<0&&(Ma[O]=ha[O],Oa[O]=0),1==T[O]?w+=ha[O]:0==T[O]&&O>0&&(V+=ha[O]),gi+=ha[O]}Ba=0,Ua=ka,ka=ha[0],o=a>0?ni[a-1]-(ni[a-1]-ni[a])*ne[a]/_i[a]:ni[a],ae=(ui*w+ka*o+ui*V/Ea-mi)*fi,_=((ui-.15*(ui-z))*w+(ui-.15*(ui-z))*V/Ea+ka*o-mi)*fi,ae>m*fi&&(ae=m*fi),0>ae&&(ae=0),s=Ua>ka?(Ua-ka)*sa:0,Ai<.95*Se[a]&&ja>.95*$e&&ma-1>a&&($e+=.005),$e>t*e&&($e=t*e);var A=aa+20,N=0;N=r>=A?A-aa:r-aa,0>N&&(N=0),ce+=N;var D=0;D=c[Ja].vs_SoilClayContent<=.02?.5*za:c[Ja].vs_SoilClayContent<=.08?(1/3+.5/.06*c[Ja].vs_SoilClayContent)*za:za,Ka>=ce?ja=ke:ja+=N*D,ke>=ja&&(ja=ke),ja>$e&&(ja=$e),ja>Xe&&(ja=Xe),Ja=M(h(.5+ja/e)),Ja>t&&(Ja=t),Xa=M(h(.5+1.3*ja/e)),Xa>t&&(Xa=t),Mi=ka*ai;for(var R=new Array(t),F=0;t>F;F++)R[F]=Ja>F?y(-qa*F*e):Xa>F?y(-qa*F*e)*(1-M((F-Ja)/(Xa-Ja))):0;for(var H=0,F=0;Xa>F;F++)H+=R[F];for(var F=0;Xa>F;F++)Va[F]=R[F]/H*Mi;for(var F=0;Xa>F;F++)Ya[F]=0==T[3]?1e-4:2e-4-1e-5*(F+1),Pe[F]+=s*Va[F]*10/Mi;Ze=Qe-_e/Oi,ae/1e4>Mi*Ze*fi?ae=Mi*Ze*fi:ae/=1e4},Qi=function(t,e,a,i,r,o,n,_,c,s){var p,l,u,f,v,d,m,S,h,M,C,A,N,w=g.userCropParameters,P=w.pc_SaturationBeta,R=w.pc_StomataConductanceAlpha,T=w.pc_ReferenceAlbedo;p=101.3*D((293-.0065*t)/293,5.26),l=665e-6*p,u=.6108*y(17.27*e/(237.3+e)),f=.6108*y(17.27*a/(237.3+a)),v=(u+f)/2,d=0>=i?f:i*v,m=v-d,S=2503.0584*y(17.27*r/(r+237.3))/((r+237.3)*(r+237.3)),h=o*(4.87/O(67.8*n-5.42)),M=208/h,ci=0>=s?999999.9:c*(1+m/P)/(R*s),C=ci/1.44;var H=(.75+2e-5*t)*Ae,b=_/H,x=(1-T)*_,I=4.9e-9;return N=x-I*(D(a+273.16,4)+D(e+273.16,4))/2*(1.35*b-.35)*(.34-.14*F(d)),A=(.408*S*N+l*(900/(r+273))*h*m)/(S+l*(1+C/M))},$i=function(t,e,a,i,r,o,n){i=M(i),r=M(r);var _=0;ba=0;var s=0,p=0;x=0;var l=0,u=0,f=0,v=0,d=0;La=0;for(var g=0;t>g;g++)Ci[g]=0,Ni[g]=0,Wa[g]=0;var m=Ue;if(d=2.5*Q*a-Ue,0>d&&(d=0),0>=n&&(d=0),d>=n?(d=n,va=0):va=n-d,Ue=m+d,s=o*Ve,s>6.5&&(s=6.5),La=s,Ue>0?La>=Ue?(La-=Ue,Ce=Ue,Ue=0):(Ue-=La,Ce=La,La=0):Ce=0,Ne>de){ba=La*a;for(var g=0;i>g;g++){var S=c[g].get_FieldCapacity()-c[g].get_PermanentWiltingPoint(),y=(c[g].get_Vs_SoilMoisture_m3()-c[g].get_PermanentWiltingPoint())/S;0>y&&(y=0),.15>y?(Ni[g]=3*y,Wa[g]=.15+.45*y/.15):.3>y?(Ni[g]=.45+.25*(y-.15)/.15,Wa[g]=.6+.2*(y-.15)/.15):.5>y?(Ni[g]=.7+.275*(y-.3)/.2,Wa[g]=.8+.2*(y-.3)/.2):.75>y?(Ni[g]=.975+.025*(y-.5)/.25,Wa[g]=1):(Ni[g]=1,Wa[g]=1),Ni[g]<0&&(Ni[g]=0),Wa[g]<0&&(Wa[g]=0),g==r&&(Wa[g]=.5),g>r&&(Wa[g]=0),(g+1)*e>=Xe&&(Wa[g]=0),f+=Wa[g]*Va[g],l=f}for(var g=0;t>g;g++)Ci[g]=g>N(i,r+1)?0:ba*(Wa[g]*Va[g]/f)*Ra;for(var g=0;g<N(i,r+1);g++){if(l-=Wa[g]*Va[g],0>=l&&(l=1e-5),Ci[g]/1e3/e>c[g].get_Vs_SoilMoisture_m3()-c[g].get_PermanentWiltingPoint()?(_=(Ci[g]/1e3/e-(c[g].get_Vs_SoilMoisture_m3()-c[g].get_PermanentWiltingPoint()))*e*1e3,0>_&&(_=0),_>Ci[g]&&(_=Ci[g])):_=0,p=Ci[g]*(1-Ni[g]),v=A(p,_),v>0&&g<N(i,r+1))for(var h=g+1;h<N(i,r+1);h++)Ci[h]+=v*(Wa[h]*Va[h]/l);Ci[g]=Ci[g]-v,Ci[g]<0&&(Ci[g]=0),x+=Ci[g],g==r&&(u=Ci[g]/1e3/e)}Ai=ba>0?x/ba:1;var O=M(r-Ja);1>=O&&(Ai=1),0==Ri&&(Ai=1)}},tr=function(t,e,a,i){a=M(a),i=M(i);for(var r=0,o=0,n=[],_=[],s=[],p=0;t>p;p++)n[p]=0,_[p]=0,s[p]=0;var l=0,u=0,f=g.userCropParameters,v=f.pc_MinimumAvailableN,d=f.pc_MinimumNConcentrationRoot,m=f.pc_MaxCropNDemand;yi=0;for(var S=0;t>S;S++)la[S]=0;if(Ne>de){for(var S=0;S<N(a,i);S++)Qa[S]=c[S].vs_SoilNO3,n[S]=Ci[S]/1e3*(Qa[S]/c[S].get_Vs_SoilMoisture_m3())*fi,r+=n[S],_[S]=214e-6*di*y(10*c[S].get_Vs_SoilMoisture_m3())/c[S].get_Vs_SoilMoisture_m3(),s[S]=_[S]*c[S].get_Vs_SoilMoisture_m3()*2*b*Ya[S]*(Qa[S]/1e3/c[S].get_Vs_SoilMoisture_m3()-14e-6)*F(b*Va[S])*Va[S]*1e3*fi,s[S]<0&&(s[S]=0),o+=s[S];for(var S=0;S<N(a,i);S++)ae>0?(la[S]=r>=ae?ae*n[S]/r:o>ae-r?n[S]+(ae-r)*s[S]/o:n[S]+s[S],l+=n[S],u+=s[S],la[S]>Qa[S]*e-v&&(la[S]=Qa[S]*e-v),la[S]>m/1e4*.75&&(la[S]=m/1e4*.75),la[S]<0&&(la[S]=0)):la[S]=0,yi+=1e4*la[S]}li+=yi,ka>Ua&&(sa=(Ua*sa+(ka-Ua)/(w-P+V-Y+ka-Ua)*yi)/ka,sa=N(sa,ni[de]),d>sa&&(sa=d)),ra=(mi+yi-ka*sa)/(w+V/Ea),P*oa>ra*w&&(ra=P*oa/w,sa=(mi+yi-w*ra-ra/Ea*V)/ka)},er=function(t){var e=0;return e=t/30*12},ar=function(t,e){var a=0;return Ga=e/30*12,a=t-Ga},ir=function(t){return Ca[t]},rr=function(t){return Ci[t]},or=function(t){return ha[t]},nr=function(t){return la[t]},_r=function(t,e){for(var a=0,i=0,r=t.length;r>i;i++)a+=e[t[i].organId-1]*t[i].yieldPercentage;return a},cr=function(t,e){for(var a=0,i=0,r=t.length;r>i;i++)a+=e[t[i].organId-1]*t[i].yieldPercentage/t[i].yieldDryMatter;return a},sr=function(){return 0===p.organIdsForPrimaryYield.length?_r(p.organIdsForCutting,ha):_r(p.organIdsForPrimaryYield,ha)},pr=function(){return _r(p.organIdsForSecondaryYield,ha)},lr=function(){return 0===p.organIdsForPrimaryYield.length?cr(p.organIdsForCutting,ha):cr(p.organIdsForPrimaryYield,ha)},ur=function(t){return gi-or(0)-sr()-(t?pr():0)},fr=function(){return(mi-or(0)*Mr())/(sr()/Ea+(gi-or(0)-sr()))},vr=function(){return(mi-or(0)*Mr())/(sr()+Ea*(gi-or(0)-sr()))},dr=function(t){return ur(t)*fr()},gr=function(){return sr()*vr()},mr=function(){return 6.25*vr()},Sr=function(){return pr()*fr()},yr=function(){return ae},hr=function(t){Fi+=t},Mr=function(){return sa},Or=function(){return ka},Cr=function(){return re},Ar=function(){return wi},Nr=function(){return fa},Dr=function(){return He},wr=function(){return xa},Pr=function(){return La},Rr=function(){return Ce},Fr=function(){return va},Tr=function(){return Ye},Hr=function(){return Q},br=function(){return Ja},xr=function(){return Za},Ir=function(){return Ve},Lr=function(){return ci},Br=function(){return ba},Er=function(){return Ai},Gr=function(){return Ra},kr=function(){return ie},Ur=function(){return Z},Vr=function(){return _e},Yr=function(){return de},Wr=function(){return Ia},qr=function(){return w},Kr=function(){return ra},zr=function(){return p.pc_HeatSumIrrigationStart},Jr=function(){return p.pc_HeatSumIrrigationEnd},jr=function(){return li/1e4},Xr=function(t){return void 0===t?yi/1e4:nr(t)},Zr=function(){return da},Qr=function(){return Fi},$r=function(){return Sa},to=function(t){return void 0!==t?or(t):gi};return Object.create(t.prototype,{step:{value:Bi},name:{value:Cr},height:{value:Hr},kcFactor:{value:Ir},leafAreaIndex:{value:Tr},numberOfOrgans:{value:$r},soilCoverage:{value:xr},stomataResistance:{value:Lr},rootingDepth:{value:br},nitrogenStress:{value:kr},heatStress:{value:Ur},oxygenStress:{value:Gr},waterStress:{value:Er},biomass:{value:to},growthIncrement:{value:ir},shootBiomass:{value:qr},shootBiomassNitrogenConcentration:{value:Kr},rootBiomass:{value:Or},rootNitrogenConcentration:{value:Mr},netPrimaryProduction:{value:Zr},netPhotosynthate:{value:Nr},grossPhotosynthate:{value:Dr},primaryYield:{value:sr},primaryYieldFreshMatter:{value:lr},primaryYieldNitrogenConcentration:{value:vr},primaryYieldNitrogenContent:{value:gr},primaryYieldCrudeProteinConcentration:{value:mr},secondaryYield:{value:pr},secondaryYieldNitrogenConcentration:{value:fr},secondaryYieldNitrogenContent:{value:Sr},residueBiomass:{value:ur},residuesNitrogenConcentration:{value:fr},residuesNitrogenContent:{value:dr},referenceEvapotranspiration:{value:wr},accumulatedEvapotranspiration:{value:Qr},accumulateEvapotranspiration:{value:hr},remainingEvapotranspiration:{value:Pr},transpiration:{value:rr},potentialTranspiration:{value:Br},evaporatedFromIntercept:{value:Rr},netPrecipitation:{value:Fr},nitrogenUptake:{value:Xr},potentialNitrogenUptake:{value:yr},accumulatedNitrogenUptake:{value:jr},currentTemperatureSum:{value:Vr},developmentalStage:{value:Yr},relativeTotalDevelopment:{value:Wr},heatSumIrrigationEnd:{value:Jr},heatSumIrrigationStart:{value:zr},vernalisationFactor:{value:Ar}})},De=function(t,e,a,i){this.mixture=null,this._seedDate=t,this._harvestDates=e;for(var r=(new Date(1/0),new Date(1/0),function(t){var e=this;if(this.isLegume=!1,this.isC4=!1,this.name="generic grass",this.cons={index:0,f_cover:1,h_m:.5,L_half:2,"σ":20,d_r_h:.15,d_r_mx:.4,"δ_ndf_live_l_1":.8,"δ_ndf_live_l_2":.5,"δ_ndf_live_l_3":.3,"δ_ndf_dead_l":.2,"δ_ndf_live_s_1":.7,"δ_ndf_live_s_2":.4,"δ_ndf_live_s_3":.3,"δ_ndf_dead_s":.2,"δ_nfc":1,T_mn_high:5,T_mn_low:0,T_mx_high:35,T_mx_low:30,T_sum_low:100,T_sum_high:100,f_GtoD:0,f_DtoG:0,photo:{T_ref:20,T_mn:3,T_opt_Pm_amb:23,"ξ":.8,"α_amb_15":.05,k:.5,P_m_ref:16,"λ":1.2,f_C_m:1.49,"γ_Pm":10,"λ_α":.02,"γ_α":6},resp:{m_ref:.025,T_ref:20,T_m_mn:3,"λ_N_up":.6,"λ_N_fix":6},part:{"ρ_shoot_ref":.75,"ρ_l_max":.7,GDD_flower:500},N_leaf:{opt:.04/.45,max:.045/.45,ref:.04/.45},"τ_veg":200,fAsh_dm_l_ref:.09,fAsh_dm_s_ref:.04,fAsh_dm_r_ref:.04,fH2O_fm_l_ref:.8,fH2O_fm_s_ref:.7},this.vars={GDD:0,"Ω_N":1,"Ω_water":1,"τ_T_low":1,"τ_T_high":1,"ζ_T_low":0,"ζ_T_high":0,P_g_day:0,R_m:0,R_N:0,G:0,G_leaf:0,G_stem:0,G_root:0,Y:.75,Y_leaf:.75,Y_stem:.75,Y_root:.75,d_r:1,"τ":0,k_sum:0,N_up:0,N_fix:0,N_avail:0,N_assim:0,N_req:0,N_remob:0,N_add:0,"ρ_shoot":.7,"ρ_root":.3,"ρ_l":.7,G_l_fC_om:{sc:0,nc:0,pn:0},G_s_fC_om:{sc:0,nc:0,pn:0},G_r_fC_om:{sc:0,nc:0,pn:0},SC:{live_l_1:0,live_l_2:0,live_l_3:0,dead_l:0,live_s_1:0,live_s_2:0,live_s_3:0,dead_s:0,r:0},dSC:{live_l_1:0,live_l_2:0,live_l_3:0,dead_l:0,live_s_1:0,live_s_2:0,live_s_3:0,dead_s:0,r:0},NC:{l:0,dead_l:0,s:0,dead_s:0,r:0},dNC:{l:0,dead_l:0,s:0,dead_s:0,r:0},PN:{l:0,dead_l:0,s:0,dead_s:0,r:0},dPN:{l:0,dead_l:0,s:0,dead_s:0,r:0},AH:{l:0,dead_l:0,s:0,dead_s:0,r:0},dAH:{l:0,dead_l:0,s:0,dead_s:0,r:0},"Λ_litter":{sc:0,pn:0,nc:0},"Λ_r":{sc:0,pn:0,nc:0},D_nc:0,dD_nc:0},t&&t.name)switch(t.name){case"white clover":this.isLegume=!0,this.name="white clover",this.cons.h_m=.15,this.cons.L_half=2,this.cons.σ=36.8,this.cons.photo.T_ref=20,this.cons.photo.T_mn=3,this.cons.photo.T_opt_Pm_amb=23,this.cons.photo.ξ=.8,this.cons.photo.k=.8,this.cons.photo.m=0,this.cons.photo.α_amb_15=.05,this.cons.photo.P_m_ref=16,this.cons.photo.λ=1.2,this.cons.photo.f_C_m=1.49,this.cons.photo.γ_Pm=10,this.cons.photo.λ_α=.02,this.cons.photo.γ_α=6,this.cons.part.ρ_shoot_ref=.71,this.cons.part.ρ_l=.33;break;case"red clover":this.isLegume=!0,this.name="red clover",this.cons.h_m=.3,this.cons.L_half=2,this.cons.σ=24,this.cons.photo.T_ref=25,this.cons.photo.T_mn=3,this.cons.photo.T_opt_Pm_amb=25,this.cons.photo.ξ=.8,this.cons.photo.k=1,this.cons.photo.m=0,this.cons.photo.α_amb_15=.05,this.cons.photo.P_m_ref=12.9,this.cons.photo.λ=1.2,this.cons.photo.f_C_m=1.49,this.cons.photo.γ_Pm=10,this.cons.photo.λ_α=.02,this.cons.photo.γ_α=6,this.cons.part.ρ_shoot_ref=.71,this.cons.part.ρ_l=.55;break;case"ryegrass":this.isLegume=!1,this.name="ryegrass",this.cons.h_m=.25,this.cons.L_half=2,this.cons.σ=25.8,this.cons.photo.T_ref=20,this.cons.photo.T_mn=3,this.cons.photo.T_opt_Pm_amb=23,this.cons.photo.ξ=.8,this.cons.photo.k=.5,this.cons.photo.m=0,this.cons.photo.α_amb_15=.05,this.cons.photo.P_m_ref=16,this.cons.photo.λ=1.2,this.cons.photo.f_C_m=1.49,this.cons.photo.γ_Pm=10,this.cons.photo.λ_α=.02,this.cons.photo.γ_α=6,this.cons.part.ρ_shoot_ref=.8,this.cons.part.ρ_l=.7}if(t&&t.hasOwnProperty("constants")){var a=t.constants;for(var i in a)a.hasOwnProperty(i)&&this.cons.hasOwnProperty(i)&&null!==a[i]&&(this.cons[i]=a[i])}this.fOM_pn=function(){var t=e.vars.PN;return(t.l+t.s+t.dead_l+t.dead_s)/j/e.DM_shoot()},this.δ_pn=function(t){return.956-34.3/t},this.OMD_shoot=function(){var t=e.cons,a=e.vars,i=e.vars.SC,r=e.vars.NC,o=e.vars.PN,n=e.δ_pn(1e3*this.fOM_pn()),_=i.live_l_1/z,c=i.live_l_2/z,s=i.live_l_3/z,p=i.dead_l/z,l=i.live_s_1/z,u=i.live_s_2/z,f=i.live_s_3/z,v=i.dead_s/z,d=(r.l+r.s+a.NC.dead_l+a.NC.dead_s)/J,g=(o.l+o.s+a.PN.dead_l+a.PN.dead_s)/j,m=t.δ_ndf_live_l_1*_+t.δ_ndf_live_l_2*c+t.δ_ndf_live_l_3*s+t.δ_ndf_dead_l*p+t.δ_ndf_live_s_1*l+t.δ_ndf_live_s_2*u+t.δ_ndf_live_s_3*f+t.δ_ndf_dead_s*v,S=t.δ_nfc*d,y=n*g;return(m+S+y)/(_+c+s+p+l+u+f+v+d+g)},this.NDFD_leaf=function(){var t=e.cons,a=e.vars.SC,i=a.live_l_1/z,r=a.live_l_2/z,o=a.live_l_3/z,n=a.dead_l/z,_=t.δ_ndf_live_l_1*i+t.δ_ndf_live_l_2*r+t.δ_ndf_live_l_3*o+t.δ_ndf_dead_l*n;return _/(i+r+o+n)},this.NDFD_stem=function(){var t=e.cons,a=e.vars.SC,i=a.live_s_1/z,r=a.live_s_2/z,o=a.live_s_3/z,n=a.dead_s/z,_=t.δ_ndf_live_s_1*i+t.δ_ndf_live_s_2*r+t.δ_ndf_live_s_3*o+t.δ_ndf_dead_s*n;return _/(i+r+o+n)},this.NDF_leaf=function(){var t=e.vars.SC;return 1e3*((t.live_l_1+t.live_l_2+t.live_l_3+t.dead_l)/z)/e.DM_leaf()},this.NDF_stem=function(){var t=e.vars.SC;return 1e3*((t.live_s_1+t.live_s_2+t.live_s_3+t.dead_s)/z)/e.DM_stem()},this.NFC_leaf=function(){var t=e.vars;return 1e3*((t.NC.l+t.NC.dead_l)/J)/e.DM_leaf()},this.NFC_stem=function(){var t=e.vars;return 1e3*((t.NC.s+t.NC.dead_s)/J)/e.DM_stem()},this.CP_leaf=function(){var t=e.vars;return 1e3*((t.PN.l+t.PN.dead_l)/j)/e.DM_leaf()},this.CP_stem=function(){var t=e.vars;return 1e3*((t.PN.s+t.PN.dead_s)/j)/e.DM_stem()},this.CP_shoot=function(){var t=e.vars;return 1e3*((t.PN.l+t.PN.dead_l+t.PN.s+t.PN.dead_s)/j)/(e.DM_leaf()+e.DM_stem())},this.ASH_leaf=function(){var t=e.vars;return 1e3*t.AH.l/(e.DM_leaf()+t.AH.l)},this.ASH_stem=function(){var t=e.vars;return 1e3*t.AH.s/(e.DM_stem()+t.AH.s)},this.ASH_shoot=function(){var t=e.vars;return 1e3*(t.AH.l+t.AH.s)/(e.DM_leaf()+t.AH.l+e.DM_stem()+t.AH.s)},this.CF_shoot=function(){var t=e.vars.SC,a=1e3*((t.live_l_1+t.live_l_2+t.live_l_3+t.dead_l+t.live_s_1+t.live_s_2+t.live_s_3+t.dead_s)/z/e.DM_shoot());return e.isLegume?69.58+.453*a:14.15+.512*a},this.C_root=function(){var t=e.vars;return t.SC.r+t.NC.r+t.PN.r},this.C_live_shoot=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return a.live_l_1+a.live_l_2+a.live_l_3+a.live_s_1+a.live_s_2+a.live_s_3+i.l+i.s+r.l+r.s},this.C_live_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return a.live_l_1+a.live_l_2+a.live_l_3+i.l+r.l},this.C_live_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return a.live_s_1+a.live_s_2+a.live_s_3+i.s+r.s},this.N_root=function(){return e.vars.PN.r*X/j},this.N_live_shoot=function(){var t=e.vars.PN;return(t.l+t.s)*X/j},this.N_live_leaf=function(){return e.vars.PN.l*X/j},this.N_live_stem=function(){return e.vars.PN.s*X/j},this.dDM_leaf=function(){var t=e.vars,a=t.dSC,i=t.dNC,r=t.dPN,o=t.dAH;return(a.live_l_1+a.live_l_2+a.live_l_3+a.dead_l)/z+(i.l+i.dead_l)/J+(r.l+r.dead_l)/j+o.l},this.dDM_stem=function(){var t=e.vars,a=t.dSC,i=t.dNC,r=t.dPN,o=t.dAH;return(a.live_s_1+a.live_s_2+a.live_s_3+a.dead_s)/z+(i.s+i.dead_s)/J+(r.s+r.dead_s)/j+o.s},this.dDM_root=function(){var t=e.vars,a=t.dSC,i=t.dNC,r=t.dPN,o=t.dAH;return a.r/z+i.r/J+r.r/j+o.r},this.dDM_shoot=function(){return e.dDM_leaf()+e.dDM_stem()},this.DM_shoot=function(){return e.DM_leaf()+e.DM_stem()},this.OM_shoot=function(){return e.OM_leaf()+e.OM_stem()},this.DM_live_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_l_1+a.live_l_2+a.live_l_3)/z+i.l/J+r.l/j+o.l},this.DM_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_l_1+a.live_l_2+a.live_l_3+a.dead_l)/z+(i.l+i.dead_l)/J+(r.l+r.dead_l)/j+o.l+o.dead_l},this.OM_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return(a.live_l_1+a.live_l_2+a.live_l_3+a.dead_l)/z+(i.l+i.dead_l)/J+(r.l+r.dead_l)/j},this.DM_dead_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return a.dead_l/z+i.dead_l/J+r.dead_l/j+o.dead_l},this.DM_live_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_s_1+a.live_s_2+a.live_s_3)/z+i.s/J+r.s/j+o.s},this.DM_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_s_1+a.live_s_2+a.live_s_3+a.dead_s)/z+(i.s+i.dead_s)/J+(r.s+r.dead_s)/j+o.s+o.dead_s},this.OM_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return(a.live_s_1+a.live_s_2+a.live_s_3+a.dead_s)/z+(i.s+i.dead_s)/J+(r.s+r.dead_s)/j},this.DM_dead_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return a.dead_s/z+i.dead_s/J+r.dead_s/j+o.dead_s},this.DM_root=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return a.r/z+i.r/J+r.r/j+o.r},this.L=function(){return e.cons.σ*e.DM_leaf()},this.h_=function(){var t=0,a=e.cons,i=1*e.L()/a.f_cover,r=a.h_m,o=a.L_half,n=.9,_=r*(2-n)/(2*o);return t=1/(2*n)*(_*i+r-F(D(_*i+r,2)-4*_*n*r*i))},this.h=function(){var t=0,a=e.cons,i=1*e.L()/a.f_cover,r=a.h_m,o=1,n=O((100*r-1)/(20*r-1))/o;return t=.01*r/(.01+(r-.01)*y(-n*i))},this.f_N_live_leaf=function(){return e.N_live_leaf()/e.C_live_leaf()},this.f_N_live_shoot=function(){return e.N_live_shoot()/e.C_live_shoot()},this.f_N_live=function(){return(e.N_live_shoot()+e.N_root())/(e.C_live_shoot()+e.C_root())},this.f_N_live_shoot_DM=function(){return(e.N_live_stem()+e.N_live_leaf())/(e.DM_live_stem()+e.DM_live_leaf())},this.f_N_root_DM=function(){return e.N_root()/e.DM_root()}}),o=function(t,e){var i=Array.isArray(t)?t:[t],r=4,o=.7,n=1-o,_=.1,c=1e-4*(a||1e3),s=[];if(e&&e.DM)s=e.DM;else for(var p=0,l=t.length;l>p;p++)s[p]=1/l;i.homogeneity=i.length>1?e.hasOwnProperty("homogeneity")?e.homogeneity:.75:1;for(var p=0,l=t.length;l>p;p++){var t=i[p],u=t.vars.SC,f=t.vars.NC,v=t.vars.PN,d=t.vars.AH;t.cons.f_cover=s[p],u.live_l_1=o*(c*s[p]/r)*.5*z,f.l+=o*(c*s[p]/r)*.25*J,v.l+=o*(c*s[p]/r)*.25*J,u.live_l_2=o*(c*s[p]/r)*.6*z,f.l+=o*(c*s[p]/r)*.2*J,v.l+=o*(c*s[p]/r)*.2*j,u.live_l_3=o*(c*s[p]/r)*.7*z,f.l+=o*(c*s[p]/r)*.15*J,v.l+=o*(c*s[p]/r)*.15*j,u.dead_l=o*(c*s[p]/r)*1*z,f.l+=o*(c*s[p]/r)*0*z,v.l+=o*(c*s[p]/r)*0*z,d.l=o*c*s[p]*t.cons.fAsh_dm_l_ref,u.live_s_1=n*(c*s[p]/r)*.7*z,f.s+=n*(c*s[p]/r)*.15*J,v.s+=n*(c*s[p]/r)*.15*J,u.live_s_2=n*(c*s[p]/r)*.8*z,f.s+=n*(c*s[p]/r)*.1*J,v.s+=n*(c*s[p]/r)*.1*j,u.live_s_3=n*(c*s[p]/r)*.9*z,f.s+=n*(c*s[p]/r)*.05*J,v.s+=n*(c*s[p]/r)*.05*j,u.dead_s=n*(c*s[p]/r)*1*z,f.s+=n*(c*s[p]/r)*0*z,v.s+=n*(c*s[p]/r)*0*z,d.s=n*c*s[p]*t.cons.fAsh_dm_s_ref,u.r=_*s[p]*.8*z,f.r+=_*s[p]*.1*z,v.r+=_*s[p]*.1*z,d.r=_*s[p]*t.cons.fAsh_dm_r_ref}return i.DM_dead_shoot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_dead_leaf()+this[e].DM_dead_stem();return t},i.DM_live_shoot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_live_leaf()+this[e].DM_live_stem();return t},i.DM_shoot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_leaf()+this[e].DM_stem();return t},i.DM_leaf=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_leaf();return t},i.DM_stem=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_stem();return t},i.DM_root=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_root();return t},i.dDM_leaf=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].dDM_leaf();return t},i.dDM_stem=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].dDM_stem();return t},i.dDM_root=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].dDM_root();return t},i.C_root=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].C_root();return t},i.f_N_live_leaf=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)t+=this[a].N_live_leaf(),e+=this[a].C_live_leaf();return t/e},i.f_N_live_leaf_DM=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)t+=this[a].N_live_leaf(),e+=this[a].DM_live_leaf();return t/e},i.f_N_live_stem_DM=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)t+=this[a].N_live_stem(),e+=this[a].DM_live_stem();return t/e},i.f_N_live_shoot_DM=function(){for(var t=0,e=0,a=null,i=0,r=this.length;r>i;i++)a=this[i],t+=a.N_live_stem()+a.N_live_leaf(),e+=a.DM_live_stem()+a.DM_live_leaf();return t/e},i.f_N_root_DM=function(){for(var t=0,e=0,a=null,i=0,r=this.length;r>i;i++)a=this[i],t+=a.N_root(),e+=a.DM_root();return t/e},i.L_tot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].L();return t},i.h_mx=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)e=this[a].h(),t=e>t?e:t;return t},i.d_r_mx=function(){for(var t=0,e=0,a=this.length;a>e;e++)this[e].vars.d_r>t&&(t=this[e].vars.d_r);return t},i.δL=.1,i.n_L=function(){return h(this.L_tot()/this.δL)},i.n_start_p=function(t){for(var e=[],a=(this.L_tot(),this.h_mx()),i=0,r=this.length;r>i;i++)e[i]=1+m((1-this[i].h()/a)*t);return e},i.δL_p=function(t,e){for(var a=[],i=0,r=this.length;r>i;i++)a[i]=this[i].L()/(e-t[i]===0?t[i]:e-t[i]);return a},i.δL_i=function(t,e,a){for(var i=[0],r=0,o=1;e>=o;o++){r=0;for(var n=0,_=this.length;_>n;n++)t[n]<=o&&(r+=a[n]);i[o]=r}return i},i.k_e_i=function(t,e,a){for(var i=[0],r=0,o=0,n=1;t>=n;n++){r=o=0;
for(var _=0,c=this.length;c>_;_++)e[_]<=n&&(r+=this[_].cons.photo.k*a[_],o+=a[_]);i[n]=r/o}return i},i.Ω_water=function(){return this.avg("Ω_water")},i.Ω_N=function(){return this.avg("Ω_N")},i.τ_T_low=function(){return this.avg("τ_T_low")},i.τ_T_high=function(){return this.avg("τ_T_high")},i.avg=function(t,e){return this.reduce(function(a,i){return a+(void 0===e?i.vars[t]:i.vars[e][t])},0)/this.length},i.sum=function(t,e){return this.reduce(function(a,i){return a+(void 0===e?i.vars[t]:i.vars[e][t])},0)},i.f_r=[],i.f_r_sum=[],i.W_r=[],i.W_r_sum=[],i.N_up=[],i.N_up_sum=[],i.E_T=[],i.E_T_sum=[],i.f_g=0,i.isRegrowth=!1,i},n=[],_=[],c=0;c<i.length;c++)i[c].dryMatterFraction>0&&(n.push(new r({name:i[c].name,constants:i[c].constants})),_.push(i[c].dryMatterFraction),n[n.length-1].cons.index=n.length-1);this.mixture=new o(n,{DM:_}),this.seedDate=function(){return this._seedDate},this.harvestDate=function(){return new Date(1/0)},this.getCuttingDates=function(){return[]},this.name=function(){return"grassland"},this.isValid=function(){return!0},this.reset=function(){},this.type="grassland"},we=function(e,a,i,o,n){function c(t,e,a){for(var r=0;R>r;r++){var o=i[r],n=o.vars,_=o.cons,c=_.T_mn_high,s=_.T_mn_low,p=_.T_mx_high,l=_.T_mx_low,u=1,f=1;q&&(c>e?(u=s>=e?0:(e-s)/(c-s),n.τ_T_low*=u):(n.ζ_T_low+=t/_.T_sum_low,n.τ_T_low=N(1,n.τ_T_low+n.ζ_T_low),1===n.τ_T_low&&(n.ζ_T_low=0))),K&&(a>l?(f=a>=p?0:(a-l)/(p-l),n.τ_T_high*=f):(n.ζ_T_high+=A(0,25-t)/_.T_sum_high,n.τ_T_high=N(1,n.τ_T_high+n.ζ_T_high),1===n.τ_T_high&&(n.ζ_T_high=0)))}}function s(t,e,a,r,o,n,c){function s(t,e,a){a>=e/(2-e)&&(a=e/(2-e)-1e-10,$(_,"Adjusted f_C_m to "+a+" since f_C_m >= λ / (2 - λ)"));var i=1,r=380,o=a*(e*(a-1)-2*(a-e))/(D(e,2)*(a-1)-2*(a-e)),n=e*(a-o*e)/(2*r*(a-e));return i=1/(2*o)*(n*t+a-F(D(n*t+a,2)-4*o*n*a*t))}function p(t,e){return N(1,t/e)}function l(t,e,a,i,r,o,n,_,c){var p=0,l=2,u=o+a*(s(e,_,c)-1),f=((1+l)*u-i)/l;return r>u&&(r=u),t=n&&t>u?u:t,p=i>=t||t>=f?0:D((t-i)/(r-i),l)*(((1+l)*u-i-l*t)/((1+l)*u-i-l*r))}function u(t,e,a,i,r,o){var n=0,_=380,c=15+i*(s(e,r,o)-1);return n=c>t?1:1-a*(_/e)*(t-c)}function f(t,e){var a=0;return a=t>e?1:.5+.5*(t/e)}function v(t,e,a,i){var r=0;return r=1/(2*i)*(e*t+a-F(D(e*t+a,2)-4*i*e*t*a))}function d(t,e,a,r,o,n){for(var _=[],c=(i.δL,i.n_L()),d=i.n_start_p(c),g=i.δL_p(d,c),m=i.δL_i(d,c,g),S=i.k_e_i(c,d,g),y=[],h=[],M=[],O=[],C=[],A=[],N=t*o,D=e*o,w=t*(1-o),P=e*(1-o),F=0;R>F;F++){_[F]=0;var T=i[F],H=T.cons,b=H.photo,x=b.α_amb_15,I=b.P_m_ref,L=T.isC4,B=b.λ_α,E=b.γ_α,G=b.γ_Pm,k=b.T_mn,U=b.T_ref,V=b.T_opt_Pm_amb,Y=b.λ,W=b.f_C_m,q=T.N_live_leaf()/T.C_live_leaf(),K=H.N_leaf.ref;A[F]=b.k,C[F]=b.ξ,L?y[F]=a_mn[F]=x*s(n,Y,W)*f(q,K):(y[F]=x*s(n,Y,W)*u(a,n,B,E,Y,W)*f(q,K),h[F]=x*s(n,Y,W)*u(r,n,B,E,Y,W)*f(q,K)),M[F]=I*s(n,Y,W)*l(a,n,G,k,U,V,L,Y,W)*p(q,K),O[F]=I*s(n,Y,W)*l(r,n,G,k,U,V,L,Y,W)*p(q,K)}for(var z=0,J=0,j=0,X=0,Z=1,Q=0,$=1;c>=$;$++){for(var F=0;R>F;F++)d[F]<=$&&(z=A[F]*(N+w),J=A[F]*(D+P),j=A[F]*w,X=A[F]*P,_[F]+=v(z,y[F],M[F],C[F])*Z*g[F],_[F]+=v(J,h[F],O[F],C[F])*Z*g[F],_[F]+=v(j,y[F],M[F],C[F])*Q*g[F],_[F]+=v(X,h[F],O[F],C[F])*Q*g[F]);w*=1-S[$]*m[$],P*=1-S[$]*m[$],Z*=1-S[$]*m[$],Q=1-Z}return _}function g(t,e,a,r,o,n,_){for(var c=[],d=0;R>d;d++){c[d]=0;var g=i[d],m=g.cons,S=m.photo,h=S.α_amb_15,M=S.P_m_ref,O=S.k,C=g.isC4,A=S.ξ,N=S.λ_α,D=S.γ_α,w=S.γ_Pm,P=S.T_mn,F=S.T_ref,T=S.T_opt_Pm_amb,H=S.λ,b=S.f_C_m,x=g.f_N_live_leaf(),I=m.N_leaf.ref,L=g.L()*_,B=h*s(n,H,b)*f(x,I),E=h*s(n,H,b)*f(x,I);C||(B*=u(a,n,N,D,H,b),E=B*u(r,n,N,D,H,b));for(var G=M*s(n,H,b)*l(a,n,w,P,F,T,C,H,b)*p(x,I),k=M*s(n,H,b)*l(r,n,w,P,F,T,C,H,b)*p(x,I),U=.1,V=L/U,Y=1;V>=Y;Y++){var W=(2*Y-1)*U/2,q=O*t*(o+(1-o)*y(-O*W)),K=O*t*(1-o)*y(-O*W),z=O*e*(o+(1-o)*y(-O*W)),J=O*e*(1-o)*y(-O*W);c[d]+=v(q,B,G,A)*y(-O*W)*U,c[d]+=v(K,B,G,A)*(1-y(-O*W))*U,c[d]+=v(z,E,k,A)*y(-O*W)*U,c[d]+=v(J,E,k,A)*(1-y(-O*W))*U}}return c}var m=[],S=[],h=1===R?1:(1-i.homogeneity)/((1-i.homogeneity)/R),M=4/3*(r/o),O=.5*M,C=(a+t)/2,A=t;if(R>1){m=d(M,O,C,A,c,n),i.homogeneity<1&&(S=g(M,O,C,A,c,n,h));for(var w=0;R>w;w++){var P=i[w].vars,T=P.Ω_water*F(P.Ω_N)*P.τ_T_low*P.τ_T_high;i[w].vars.P_g_day=1.2e-8*(o/2)*m[w]*T*i.homogeneity,i.homogeneity<1&&(i[w].vars.P_g_day+=1.2e-8*(o/2)*S[w]*T/h*(1-i.homogeneity))}}else{S=g(M,O,C,A,c,n,h);var P=i[0].vars,T=P.Ω_water*F(P.Ω_N)*P.τ_T_low*P.τ_T_high;i[0].vars.P_g_day=1.2e-8*(o/2)*S[0]*T}}function f(t){function e(t,e,i,r){var o=0,n=f.resp.m_ref;return o=n*a(t)*(e/i)*r}function a(t){var e=1,a=f.resp.T_m_mn,i=f.resp.T_ref;return e=a>=t?0:(t-a)/(i-a)}function o(t,e){var a=0,i=f.resp.λ_N_up,r=f.resp.λ_N_fix;return a=i*t+r*e}for(var n=0,_=R;_>n;n++){{var c=i[n],s=c.vars,f=c.cons,v=(c.f_N_live_shoot(),s.P_g_day),d=(c.C_live_shoot()+c.C_root(),c.vars.N_avail,c.isC4,c.isLegume),g=c.C_live_leaf(),m=c.N_live_leaf(),S=c.C_live_stem(),y=c.N_live_stem();c.C_root(),c.N_root()}s.R_m=e(t,m/g,f.N_leaf.ref,g),s.R_m+=e(t,y/S,.5*f.N_leaf.ref,S),s.R_N=o(c.vars.N_up,c.vars.N_fix);var h=v-s.R_m-s.R_N;if(h>0){var M=s.ρ_l,O=1-M,C=f.part.ρ_shoot_ref*F(s.Ω_water*s.Ω_N),D=1-C,w=0,H=0,b=0,x=f.N_leaf.opt,I=f.N_leaf.max;s.ρ_shoot=C,s.ρ_root=D;var L={leaf:c.N_live_leaf()/c.C_live_leaf(),stem:c.N_live_stem()/c.C_live_stem(),root:c.N_root()/c.C_root()},B=[{organ:l,N:L.leaf/x},{organ:u,N:L.stem/(.5*x)},{organ:p,N:L.root/(.5*x)}];B.sort(function(t,e){return t.N-e.N});for(var U=T(i.N_up[n]),V=0;3>V;V++){var W=0,q=0,K=0,z=0;if(B[V].organ===l?(W=C*M,q=.5,z=x,K=I/X*j):B[V].organ===u?(W=C*O,q=.7,z=.5*x,K=.5*I/X*j):B[V].organ===p&&(W=D,q=.7,z=.5*x,K=.5*I/X*j),r&&q+K>1)throw new Error("f_sc + f_pn > 1");var J=1-(q+K),Z=1/(1+(1-E)/E*q+(1-G)/G*J+(1-k)/k*K),Q=Z*h*W,$=Q*K*X/j;if(!d&&$>U){var te=K;if(K=U*(j/X)*k*(-q*E+q*G+E)/(E*(U*(j/X)*(k-G)+h*W*k*G)),q+=.8*(te-K),K=U*(j/X)*k*(-q*E+q*G+E)/(E*(U*(j/X)*(k-G)+h*W*k*G)),J=1-(q+K),r&&q+K>1)throw ae("f_sc",q),ae("f_pn",K),ae("f_nc",J),new Error("x f_sc + f_pn > 1");if(Z=1/(1+(1-E)/E*q+(1-G)/G*J+(1-k)/k*K),Q=Z*h*W,$=Q*K*X/j,r&&P(10,$)!=P(10,U))throw new Error($!=U);U=0}else d&&$>U?(b+=$-U,U-=$):U-=$;w+=0===$?z*Q:N(z*Q,$),H+=$,B[V].organ===l?(s.Y_leaf=Z,s.G_leaf=Q,s.G_l_fC_om.sc=q,s.G_l_fC_om.nc=J,s.G_l_fC_om.pn=K):B[V].organ===u?(s.Y_stem=Z,s.G_stem=Q,s.G_s_fC_om.sc=q,s.G_s_fC_om.nc=J,s.G_s_fC_om.pn=K):B[V].organ===p&&(s.Y_root=Z,s.G_root=Q,s.G_r_fC_om.sc=q,s.G_r_fC_om.nc=J,s.G_r_fC_om.pn=K)}s.Ω_N=Y?N(1,H/w):1,s.N_assim=H,s.N_req=w,s.N_fix=b,s.G=s.G_leaf+s.G_stem+s.G_root,s.N_ass_add=0;for(var ee=.1,V=0;3>V;V++)if(U>0)if(B[V].organ===l&&L.leaf<x){var ie=ee*(x-L.leaf)*c.C_live_leaf(),re=N(ie,U),oe=re/X*j*1/k;oe>s.NC.l&&(re=s.NC.l*X*k/j,oe=s.NC.l),s.NC.l-=oe,s.PN.l+=re/X*j,U-=re,s.N_assim+=re,s.N_ass_add+=re}else if(B[V].organ===u&&L.stem<.5*x){var ie=ee*(.5*x-L.stem)*c.C_live_stem(),re=N(ie,U),oe=re/X*j*1/k;oe>s.NC.s&&(re=s.NC.s*X*k/j,oe=s.NC.s),s.NC.s-=oe,s.PN.s+=re/X*j,U-=re,s.N_assim+=re,s.N_ass_add+=re}else if(B[V].organ===p&&L.root<.5*x){var ie=ee*(.5*x-L.root)*c.C_root(),re=N(ie,U),oe=re/X*j*1/k;oe>s.NC.r&&(re=s.NC.r*X*k/j,oe=s.NC.r),s.NC.r-=oe,s.PN.r+=re/X*j,U-=re,s.N_assim+=re,s.N_ass_add+=re}}else{var ne=s.NC,_e=ne.l+ne.s+ne.r;_e>0&&(ne.l>0&&(ne.l=A(0,ne.l+h*ne.l/_e)),ne.s>0&&(ne.s=A(0,ne.s+h*ne.s/_e)),ne.r>0&&(ne.r=A(0,ne.r+h*ne.r/_e))),c.vars.Ω_N=1,c.vars.N_assim=0,c.vars.N_req=0,s.G=s.G=s.G_leaf=s.G_stem=s.G_root=0}}}function v(t){function e(t){var e=0,a=3,i=20,r=20,o=2;return r>i&&(r=i),a>=t?e=0:i>(t>a)?e=D((t-a)/(r-a),o)*(((1+o)*i-a-o*t)/((1+o)*i-a-o*r)):t>=i&&(e=D((i-a)/(r-a),o)*((i-a)/((1+o)*i-a-o*r))),e}for(var a=0,r=i.length;r>a;a++){var o=i[a],n=o.vars,_=o.cons,c=n.G_root,s=n.G_leaf,p=n.G_stem,l=n.SC,u=n.dSC,f=n.NC,v=n.dNC,d=n.PN,g=n.dPN,m=n.AH,S=n.dAH,y=n.Λ_r,h=n.Λ_litter,M=n.G_l_fC_om,O=n.G_s_fC_om,C=n.G_r_fC_om,A=s*(M.sc/z+M.nc/J+M.pn/j),N=p*(O.sc/z+O.nc/J+O.pn/j),w=c*(C.sc/z+C.nc/J+C.pn/j),P=.05*e(t),R=.8*P,T=.02*e(t),H=.11,b=o.N_live_leaf()/o.C_live_leaf()<_.N_leaf.max?.5:0,x=o.N_live_stem()/o.C_live_stem()<.5*_.N_leaf.max?.5:0,I=o.N_root()/o.C_root()<.5*_.N_leaf.max?.5:0,L=.8,B=P*l.live_l_3/(l.live_l_1+l.live_l_2),E=R*l.live_s_3/(l.live_s_1+l.live_s_2);g.l=s*M.pn-d.l*B*(1-b),g.dead_l=d.l*B*(1-b)-H*d.dead_l,g.s=p*O.pn-d.s*E*(1-x),g.dead_s=d.s*E*(1-x)-H*d.dead_s,g.r=c*C.pn-(1-I)*T*d.r,v.l=s*M.nc-f.l*B*(1-L),v.dead_l=f.l*B*(1-L)-H*f.dead_l,v.s=p*O.nc-f.s*E*(1-L),v.dead_s=f.s*E*(1-L)-H*f.dead_s,v.r=c*C.nc-(1-L)*T*f.r,u.live_l_1=s*M.sc-2*P*l.live_l_1,u.live_l_2=2*P*l.live_l_1-P*l.live_l_2,u.live_l_3=P*l.live_l_2-P*l.live_l_3,u.dead_l=P*l.live_l_3-H*l.dead_l,u.live_s_1=p*O.sc-2*R*l.live_s_1,u.live_s_2=2*R*l.live_s_1-R*l.live_s_2,u.live_s_3=R*l.live_s_2-R*l.live_s_3,u.dead_s=R*l.live_s_3-H*l.dead_s,u.r=c*C.sc-T*l.r,y.pn+=(1-I)*T*d.r,y.nc+=(1-L)*T*f.r,y.sc+=T*l.r,h.sc+=H*(l.dead_l+l.dead_s),h.nc+=H*(f.dead_l+f.dead_s),h.pn+=H*(d.dead_l+d.dead_s),n.N_remob=(b*d.l*B+x*d.s*E+I*T*d.r)/j*X,S.l=F(n.Ω_water)*_.fAsh_dm_l_ref/(1-_.fAsh_dm_l_ref)*A,S.s=F(n.Ω_water)*_.fAsh_dm_s_ref/(1-_.fAsh_dm_s_ref)*N,S.r=F(n.Ω_water)*_.fAsh_dm_r_ref/(1-_.fAsh_dm_r_ref)*w,m.l+=S.l-H*m.l*l.dead_l/(l.live_l_1+l.live_l_2+l.live_l_3),m.s+=S.s-H*m.s*l.dead_s/(l.live_s_1+l.live_s_2+l.live_s_3),m.r+=S.r-T*m.r,l.live_l_1+=u.live_l_1,l.live_l_2+=u.live_l_2,l.live_l_3+=u.live_l_3,l.dead_l+=u.dead_l,f.l+=v.l,f.dead_l+=v.dead_l,d.l+=g.l,d.dead_l+=g.dead_l,l.live_s_1+=u.live_s_1,l.live_s_2+=u.live_s_2,l.live_s_3+=u.live_s_3,l.dead_s+=u.dead_s,f.s+=v.s,f.dead_s+=v.dead_s,d.s+=g.s,d.dead_s+=g.dead_s,l.r+=u.r,f.r+=v.r,d.r+=g.r}}function d(){for(var t=0;R>t;t++){var e=i[t].cons.part,a=i[t].vars;a.ρ_l=i.isRegrowth?A(.2,1-e.ρ_l_max+1*(2*e.ρ_l_max-1)/(1+y(10*(a.GDD/(3*e.GDD_flower)-.5)))):A(.2,1-e.ρ_l_max+1*(2*e.ρ_l_max-1)/(1+y(10*(a.GDD/(2*e.GDD_flower)-.5))))}}function g(){for(var t=3,e=0;R>e;e++){var a=i[e];a.vars.τ++,a.vars.k_sum=N(1,a.vars.τ/a.cons.τ_veg);var r=a.DM_root();a.vars.d_r=.05+(a.cons.d_r_mx-.05)*a.vars.k_sum,i.f_r_sum[e]=0;for(var o=0;H>o;o++){var n=x*o;n>a.vars.d_r?i.f_r[e][o]=0:(i.f_r[e][o]=1/(1+D(n/a.cons.d_r_h*(a.cons.d_r_mx/a.vars.d_r),t))-1/(1+D((n+x)/a.cons.d_r_h*(a.cons.d_r_mx/a.vars.d_r),t)),i.f_r_sum[e]+=i.f_r[e][o])}for(var o=0;H>o;o++)i.W_r[e][o]=r*i.f_r[e][o]/i.f_r_sum[e]}for(var o=0;H>o;o++){i.W_r_sum[o]=0;for(var e=0;R>e;e++)i.W_r_sum[o]+=i.W_r[e][o]}}function m(){for(var t=(i.d_r_mx(),0);H>t;t++){var e=C[t],a=e.get_SoilNO3()/e.vs_SoilBulkDensity(),r=200;i.N_up_sum[t]=N(e.get_SoilNO3()*x,r*a*i.W_r_sum[t])}for(var t=0;H>t;t++)for(var o=0;R>o;o++)i.N_up[o][t]=0===i.W_r_sum[t]?0:i.N_up_sum[t]*i.W_r[o][t]/i.W_r_sum[t]}function S(t,e,a,i,r,o,n,_,c){var s,p,l,u,f,v,d,g,m,S,h,M,C,A=w.userCropParameters,N=(A.pc_SaturationBeta,A.pc_StomataConductanceAlpha,A.pc_ReferenceAlbedo);s=101.3*D((293-.0065*I)/293,5.26),p=665e-6*s,l=.6108*y(17.27*e/(237.3+e)),u=.6108*y(17.27*a/(237.3+a)),f=(l+u)/2,v=0>=i?u:i*f,d=f-v,g=2503.0584*y(17.27*t/(t+237.3))/((t+237.3)*(t+237.3)),m=r*(4.87/O(67.8*o-5.42)),S=208/m,_e=1/.015,h=_e/1.44;var P=(.75+2e-5*I)*c,R=n/P,T=(1-N)*n,H=4.9e-9;return C=T-H*(D(a+273.16,4)+D(e+273.16,4))/2*(1.35*R-.35)*(.34-.14*F(v)),M=(.408*g*C+p*(900/(t+273))*m*d)/(g+p*(1+h/S))}function h(t){var e=U,a=A(0,2.5*i.h_mx()*i.f_g-U);0>=t&&(a=0),a>=t?(a=t,Z=0):Z=t-a,U=e+a}function M(t){var e=[],a=[],o=i.L_tot(),n=[],_=[],c=[],s=[],p=[],l=[];i.f_g=1-y(-.5*o),t=i.f_g*t,ee=t;for(var u=0;R>u;u++){e[u]=t*i[u].L()/o,a[u]=e[u];for(var f=0;H>f;f++)i.E_T[u][f]=0}for(var f=0;H>f;f++)n[f]=1e3*C[f].get_PermanentWiltingPoint()*x,_[f]=1e3*C[f].get_FieldCapacity()*x,c[f]=.8*_[f],s[f]=1e3*C[f].get_Saturation()*x,p[f]=1e3*C[f].get_Vs_SoilMoisture_m3()*x,l[f]=p[f]<n[f]?0:p[f]<c[f]?(p[f]-n[f])/(c[f]-n[f]):p[f]<_[f]?1:1-.5*(p[f]-_[f])/(s[f]-_[f]);i.sort(function(t,e){return t.vars.Ω_water-e.vars.Ω_water});for(var v=0,d=0;5>d;d++)for(var f=0;H>f;f++)for(var u=0;R>u;u++)if(v=i[u].cons.index,!(a[v]<=0||0===i.f_r[v][f]||p[f]<=n[f])){var g=N(p[f]-n[f],i.f_r[v][f]/i.f_r_sum[v]*l[f]*a[v]);if(i.E_T[v][f]+=g,p[f]-=g,a[v]-=g,r&&(p[f]<0||p[f]>s[f]))throw new Error("θ < 0 || θ > θ_sat")}if(i.sort(function(t,e){return t.cons.index-e.cons.index}),W)for(var u=0;R>u;u++)i.E_T_sum[u]=T(i.E_T[u]),i[u].vars.Ω_water=0===i.E_T_sum[u]?1:N(1,i.E_T_sum[u]/e[u]);else for(var u=0;R>u;u++)i[u].vars.Ω_water=1}for(var C=e,w=n,R=i.length,H=e.vs_NumberOfLayers(),b=e.vs_NumberOfOrganicLayers(),x=C.vs_LayerThickness(),I=(o.vs_Latitude,o.vs_HeightNN),U=0,V=0,Y=a.pc_NitrogenResponseOn,W=a.pc_WaterDeficitResponseOn,q=a.pc_LowTemperatureStressResponseOn,K=a.pc_HighTemperatureStressResponseOn,Z=0,U=0,Q=0,te=0,ee=0,ie=0,re=0,ne=.4,_e=0,ce=0;R>ce;ce++){i.f_r[ce]=[],i.W_r[ce]=[],i.N_up[ce]=[],i.E_T[ce]=[],i.f_r_sum[ce]=0;for(var se=0;H>se;se++)i.f_r[ce][se]=0,i.W_r[ce][se]=0,i.N_up[ce][se]=0,i.E_T[ce][se]=0}for(var se=0;H>se;se++)i.W_r_sum[se]=0,i.N_up_sum[se]=0;var pe=function(t,e,a,r,o,n,_,p,l,u,y,O,C,D,w){var P=o*B;g(),m(),Q=S(e,a,r,_,p,l,o,u,D),h(y),te=N(6.5,Q*ne),ie=te,U>0?ie>=U?(ie-=U,re=U,U=0):(U-=ie,re=ie,ie=0):re=0;var F=ie;M(F),c(e,r,a),s(e,r,a,P,C,u,O),f(e);for(var b=0;R>b;b++){var x=i[b].vars,I=T(i.N_up[b]);x.N_up=x.N_assim;for(var L=0;H>L;L++)i.N_up[b][L]=x.N_up*i.N_up[b][L]/I;w?i[b].DM_leaf()/i[b].DM_stem()<.5?x.GDD=0:x.GDD+=A(0,e-5):(x.GDD=0,i.isRegrowth=!1)}v(e),d()},le=function(t,e){var a=0;if(void 0===t&&void 0===e)a=i.dDM_shoot()+i.dDM_root();else if(void 0!==t&&void 0!==e)a=t===p?i[e].dDM_root():t===l?i[e].dDM_leaf():t===u?i[e].dDM_stem():0;else if(void 0===t){var r=i[e];a=r.dDM_leaf()+r.dDM_stem()+r.dDM_root()}else a=t===p?i.dDM_root():t===l?i.dDM_leaf():t===u?i.dDM_stem():0;return a*L},ue=function(t,e){var a=0,r=0,o=0;if(void 0===t&&void 0===e)for(r=0;R>r;r++)for(o=0;H>o;o++)a+=i.E_T[r][o];else if(void 0!==t&&void 0!==e)a=i.E_T[e][t];else if(void 0===t)for(r=0;H>r;r++)a+=i.E_T[e][r];else for(r=0;R>r;r++)a+=i.E_T[r][t];return a},fe=function(t){var e=0;if(void 0===t)e=i.DM_shoot();else{var a=i[t];e=a.DM_leaf()+a.DM_stem()}return e*L},ve=function(t){if(0>=t)return fe();for(var e=0,a=0;R>a;a++){var r=i[a],o=r.h();if(o>t){var n=(r.vars,r.cons),_=n.h_m,c=1,s=1*r.L()/n.f_cover,p=O((100*_-1)/(20*_-1))/c,l=O((t-100*t*_)/(t-_))/p,u=(r.DM_leaf()-(s-l)*n.f_cover/n.σ)/r.DM_leaf(),f=t/o,v=r.DM_leaf()*(1-u),d=r.DM_stem()*(1-f);e+=(v+d)*L}}return e},de=function(){if(1===R)return i[0].OMD_shoot();for(var t=0,e=0;R>e;e++){var a=i[e];t+=a.OM_shoot()*a.OMD_shoot()}return t/(fe()/L)},ge=function(){if(1===R)return i[0].OM_shoot()/i[0].DM_shoot()*1e3;for(var t=0,e=0;R>e;e++){var a=i[e];t+=1e3*a.OM_shoot()}return t/(fe()/L)},me=function(){if(1===R)return i[0].CP_shoot();for(var t=0,e=0;R>e;e++){var a=i[e];t+=a.DM_shoot()*a.CP_shoot()}return t/(fe()/L)},Se=function(){if(1===R)return i[0].CF_shoot();for(var t=0,e=0;R>e;e++){var a=i[e];t+=a.DM_shoot()*a.CF_shoot()}return t/(fe()/L)},ye=function(t){return(void 0===t?i.DM_root():i[t].DM_root())*L},he=function(){return Q},Me=function(){return ie},Oe=function(){return re},Ce=function(){return Z},Ae=function(t){return void 0===t?i.d_r_mx():i[t].vars.d_r},Ne=function(t){return void 0===t?i.f_g:1-y(-.5*i[t].L())},De=function(){return _e},we=function(){return ee},Pe=function(t,e){var a=0,r=0,o=0;if(void 0===t&&void 0===e)for(r=0;R>r;r++)for(o=0;H>o;o++)a+=i.N_up[r][o];else if(void 0!==t&&void 0!==e)a=i.N_up[e][t];else if(void 0===t)for(r=0;H>r;r++)a+=i.N_up[e][r];else for(r=0;R>r;r++)a+=i.N_up[r][t];return a},Re=function(t){var e=0,a=0;if(void 0===t)for(a=0;R>a;a++)e+=i[a].vars.N_req;else e=i[t].vars.N_req;return e},Fe=function(){return V},Te=function(t,e){var a=0;if(void 0===t&&void 0===e)a=i.DM_shoot()+i.DM_root();else if(void 0!==t&&void 0!==e)a=t===p?i[e].DM_root():t===l?i[e].DM_leaf():t===u?i[e].DM_stem():0;else if(void 0===t){var r=i[e];a=r.DM_leaf()+r.DM_stem()+r.DM_root()}else a=t===p?i.DM_root():t===l?i.DM_leaf():t===u?i.DM_stem():0;return a*L},He=function(t){var e=0;if(void 0===species)for(var a=0;R>a;a++)e+=i[a].vars.P_g_day;else e=i[t].vars.P_g_day;return e/12*30*L},be=function(){var t=0;if(void 0===species)for(var e=0;R>e;e++)t+=i[e].vars.G;else t=i[speciesIdx].vars.G;return t/12*30*L},xe=function(t){return void 0===t?i.f_N_live_shoot_DM():i[t].f_N_live_shoot_DM()},Ie=function(t){return void 0===t?i.f_N_root_DM():i[t].f_N_root_DM()},Le=function(t){return void 0===t?i.h_mx():i[t].h()},Be=function(){return ne},Ee=function(t){return void 0===t?i.L_tot():i[t].L()},Ge=function(t){return void 0===t?i.Ω_water():i[t].vars.Ω_water},ke=function(t){return void 0===t?i.Ω_N():i[t].vars.Ω_N},Ue=function(t){return void 0===t?i.τ_T_high():i[t].vars.τ_T_high},Ve=function(){for(var t=[],e=.1,a=0;b>a;a++){for(var r=new oe,o=0,n=0;R>n;n++){var _=i[n],c=_.vars,s=c.Λ_r,p=c.Λ_litter,l=i.f_r[n][a]/i.f_r_sum[n]/x;0===a&&(r.vo_AOM_Slow+=(p.sc+p.nc+p.pn)*e/x,o+=p.pn*e/j*X/x,p.sc*=1-e,p.nc*=1-e,p.pn*=1-e),r.vo_AOM_Slow+=(s.sc+s.nc+s.pn)*l,o+=s.pn/j*X*l}r.vo_CN_Ratio_AOM_Slow=0===r.vo_AOM_Slow?0:0===o?200:r.vo_AOM_Slow/o,t[a]=r}for(var n=0;R>n;n++){var s=i[n].vars.Λ_r;s.sc=s.nc=s.pn=0}return t};return Object.create(t.prototype,{step:{value:pe},name:{value:function(){return"grassland"}},height:{value:Le},kcFactor:{value:Be},leafAreaIndex:{value:Ee},numberOfOrgans:{value:function(){return 3}},numberOfSpecies:{value:function(){return R}},soilCoverage:{value:Ne},stomataResistance:{value:De},rootingDepth:{value:Ae},nitrogenStress:{value:ke},heatStress:{value:Ue},waterStress:{value:Ge},biomass:{value:Te},growthIncrement:{value:le},shootBiomass:{value:fe},shootBiomassNitrogenConcentration:{value:xe},rootBiomass:{value:ye},rootNitrogenConcentration:{value:Ie},netPhotosynthate:{value:be},grossPhotosynthate:{value:He},referenceEvapotranspiration:{value:he},accumulatedEvapotranspiration:{value:Fe},remainingEvapotranspiration:{value:Me},transpiration:{value:ue},potentialTranspiration:{value:we},evaporatedFromIntercept:{value:Oe},netPrecipitation:{value:Ce},nitrogenUptake:{value:Pe},potentialNitrogenUptake:{value:Re},senescencedTissue:{value:Ve},shootBiomassByHeight:{value:ve},shootOrganicMatterDigestibility:{value:de},shootOrganicMatterContent:{value:ge},shootCrudeProteinContent:{value:me},shootCrudeFibreContent:{value:Se}})},Pe=function(t,e){this.mode="MyMode",arguments[0]instanceof Pe?(ae("Copy constructor: Env	soil param size: "+env.soilParams.length),this.env=arguments[0],this.customId=env.customId,this.soilParams=env.soilParams,this.noOfLayers=env.noOfLayers,this.layerThickness=env.layerThickness,this.useNMinMineralFertilisingMethod=env.useNMinMineralFertilisingMethod,this.useAutomaticIrrigation=env.useAutomaticIrrigation,this.useSecondaryYields=env.useSecondaryYields,this.windSpeedHeight=env.windSpeedHeight,this.atmosphericCO2=env.atmosphericCO2,this.albedo=env.albedo,this.da=env.da,this.cropRotation=env.cropRotation,this.site=env.site,this.general=env.general,this.organic=env.organic,this.nMinFertiliserPartition=env.nMinFertiliserPartition,this.nMinUserParams=env.nMinUserParams,this.autoIrrigationParams=env.autoIrrigationParams,this.centralParameterProvider=env.centralParameterProvider,this.pathToOutputDir=env.pathToOutputDir,this.mode=env.mode):(this.soilParams=t,this.customId=-1,this.centralParameterProvider=e,this.pathToOutputDir=null,this.user_env=this.centralParameterProvider.userEnvironmentParameters,this.windSpeedHeight=this.user_env.p_WindSpeedHeight,this.atmosphericCO2=this.user_env.p_AthmosphericCO2,this.albedo=this.user_env.p_Albedo,this.noOfLayers=this.user_env.p_NumberOfLayers,this.layerThickness=this.user_env.p_LayerThickness,this.useNMinMineralFertilisingMethod=this.user_env.p_UseNMinMineralFertilisingMethod,this.useAutomaticIrrigation=this.user_env.p_UseAutomaticIrrigation,this.useSecondaryYields=this.user_env.p_UseSecondaryYields,this.cropRotation=null);this.getMode=function(){return mode},this.setCropRotation=function(t){this.cropRotation=t}},Re=function(t){var e=[];return e.weather=t,e.run=function(t){var e=this.weather,a=e.noOfStepsPossible(),i=e.startDate(),r=i.toISODateString(),o=i.isLeapYear(),_=_=i.getFullYear(),c=0,s=null,p=t.length,l=this.length,u=0,f=0,v=0,d=0,g=0,m=0,S=0,y=0,h=2,M=380,O=0,C=0,A=0,N=0,D=!1;for(c;a>c;c++){$(n,r+" / "+c),o=i.isLeapYear(),_=_=i.getFullYear(),u=e.doy(c),f=e.dataForTimestep(Q.TAVG,c),v=e.dataForTimestep(Q.TMAX,c),d=e.dataForTimestep(Q.TMIN,c),g=e.dataForTimestep(Q.GLOBRAD,c),m=e.isAvailable(Q.SUNHOURS)?e.dataForTimestep(Q.SUNHOURS,c):-1,S=e.isAvailable(Q.RELHUMID)?e.dataForTimestep(Q.RELHUMID,c):-1,y=e.dataForTimestep(Q.WIND,c),O=e.dataForTimestep(Q.PRECIP,c),C=e.dataForTimestep(Q.F_DIRECTRAD,c),A=e.dataForTimestep(Q.DAYLENGTH,c)*I,N=e.dataForTimestep(Q.EXRAD,c),c>4&&!D&&e.dataForTimestep(Q.TAVG,c)>5&&e.dataForTimestep(Q.TAVG,c-1)>5&&e.dataForTimestep(Q.TAVG,c-2)>5&&e.dataForTimestep(Q.TAVG,c-3)>5&&e.dataForTimestep(Q.TAVG,c-4)>5?D=!0:c>4&&D&&e.dataForTimestep(Q.TAVG,c)<5&&e.dataForTimestep(Q.TAVG,c-1)<5&&e.dataForTimestep(Q.TAVG,c-2)<5&&e.dataForTimestep(Q.TAVG,c-3)<5&&e.dataForTimestep(Q.TAVG,c-4)<5&&(D=!1);for(var w=0;l>w;w++)s=this[w],s.prodProcessStep(i),s.isCropPlanted()&&s.cropStep(u,f,v,d,g,m,S,y,h,M,O,C,A,N,D),s.generalStep(u,_,o,d,f,v,O,y,g,S);for(var P=0;p>P;P++)t[P](c,r,this);i.setDate(i.getDate()+1),r=i.toISODateString()}for(var P=0;p>P;P++)t[P](c,r,this,!0)},e},Fe=function(e){var a=this;this._currentCropGrowth=null,this.cropGrowth=function(){return a._currentCropGrowth},this.vw_AtmosphericCO2Concentration,this.vs_GroundwaterDepth;var i=e,r=new He(i.general,i.soilParams,i.centralParameterProvider),o=new Ee(r,this,i.centralParameterProvider),_=new Le(r,i.site,this,i.centralParameterProvider),s=new be(r,i.general,i.site,i.centralParameterProvider),p=new Be(r,i.site,i.centralParameterProvider),l=0,u=0,f=0,v=(i.da,i.centralParameterProvider),d=v.userEnvironmentParameters,g=0,m=0,S=0,h=0,M=0,O=null,C=!1,A=0,N=e.cropRotation[A],D=N.start();ae(N);var w=function(t){if(0===e.cropRotation.length)return void $(c,"rotation is empty");var a=e.da.startDate(),i=e.da.noOfStepsPossible();if($(n,"next app-date: "+D.toISODateString()),!D.isValid())return void $(c,"start of production-process: "+N.toString()+" is not valid");for(var r=0;i>r;r++){if(a.setDate(a.getDate()+1),$(n,a.toISODateString()),Ae(),D.setHours(0,0,0,0)===a.setHours(0,0,0,0)){N.apply(D,this),$(n,"applied at: "+D.toISODateString());D=N.nextDate(D),!D.isValid()&&O instanceof FieldCrop?(Ce(),N.crop().reset(),A++,A<e.cropRotation.length&&(N=e.cropRotation[A],D=N.start(),$(n,"new valid next app-date: "+D.toISODateString()))):D.isValid()&&$(n,"next app-date: "+D.toISODateString())}if(Se()&&G(r),t.length)for(var o=0,_=t.length;_>o;o++)t[o](r,a,this);E(r)}if($(n,"returning from runModel"),t)for(var o=0,_=t.length;_>o;o++)t[o](null,null)},P=function(e){O=e;var o=null;if(a._currentCropGrowth=null,g=0,m=0,S=0,h=0,M=0,O.isValid()&&"generic"===O.type){if(o=O.cropParameters(),a._currentCropGrowth=new Ne(r,i.general,o,i.site,i.centralParameterProvider),p.put_Crop(a._currentCropGrowth),r.put_Crop(a._currentCropGrowth),_.put_Crop(a._currentCropGrowth),s.put_Crop(a._currentCropGrowth),$(n,"seeding crop: "+e.name()),i.useNMinMineralFertilisingMethod&&O.seedDate().dayOfYear()<=O.harvestDate().dayOfYear()){$(n,"N_min fertilising summer crop");var l=x(i.nMinFertiliserPartition,NMinCropParameters(o.pc_SamplingDepth,o.pc_TargetNSamplingDepth,o.pc_TargetN30));de(l)}}else O.isValid()&&"grassland"===O.type&&(o={},a._currentCropGrowth=new we(r,i.general,O.mixture,i.site,i.centralParameterProvider),p.put_Crop(a._currentCropGrowth),r.put_Crop(a._currentCropGrowth),_.put_Crop(a._currentCropGrowth),s.put_Crop(a._currentCropGrowth),$(n,"seeding crop: "+e.name()));a._currentCropGrowth instanceof t||$(c,"Crop growth ("+e.name()+") not instance of CropGrowthAPI.")},F=function(){if(O&&O.isValid()){var t=a._currentCropGrowth.biomass(0),e=a._currentCropGrowth.rootNitrogenConcentration();$(n,"Harvest: adding organic matter from root to soilOrganic"),$(n,"Root biomass: "+t+" Root N concentration: "+e),s.addOrganicMatter(O.residueParameters(),t,e);var o=a._currentCropGrowth.residueBiomass(i.useSecondaryYields),c=a._currentCropGrowth.residuesNitrogenConcentration();$(n,"Adding organic matter from residues to soilOrganic"),$(n,"Residue biomass: "+o+" Residue N concentration: "+c),$(n,"Primary yield biomass: "+a._currentCropGrowth.primaryYield()+" Primary yield N concentration: "+a._currentCropGrowth.primaryYieldNitrogenConcentration()),$(n,"Secondary yield biomass: "+a._currentCropGrowth.secondaryYield()+" Secondary yield N concentration: ??"),$(n,"Residues N content: "+a._currentCropGrowth.residuesNitrogenContent()+" Primary yield N content: "+a._currentCropGrowth.primaryYieldNitrogenContent()+" Secondary yield N content: "+a._currentCropGrowth.secondaryYieldNitrogenContent()),s.addOrganicMatter(O.residueParameters(),o,c)}a._currentCropGrowth=null,O=null,p.remove_Crop(),r.remove_Crop(),_.remove_Crop(),s.remove_Crop()},T=function(){if(O&&O.isValid()){var t=a._currentCropGrowth.biomass(),e=a._currentCropGrowth.shootBiomassNitrogenConcentration()+a._currentCropGrowth.rootNitrogenConcentration();$(n,"Incorporation: adding organic matter from total biomass of crop to soilOrganic"),$(n,"Total biomass: "+t+" Total N concentration: "+e),s.addOrganicMatter(O.residueParameters(),t,e)}a._currentCropGrowth=null,O=null,p.remove_Crop(),r.remove_Crop(),_.remove_Crop(),s.remove_Crop()},H=function(t,e){i.useNMinMineralFertilisingMethod||($(n,"Apply mineral fertiliser. Amount: "+e),r.applyMineralFertiliser(t,e),de(e))},b=function(t,e,a){$(n,"apply organic fertiliser: amount: "+e+", vo_NConcentration: "+t.vo_NConcentration),s.setIncorporation(a),s.addOrganicMatter(t,e,t.vo_NConcentration),de(e*t.vo_AOM_DryMatterContent*t.vo_NConcentration)},x=function(t,e){var a=i.nMinUserParams,o=r.applyMineralFertiliserViaNMinMethod(t,e.samplingDepth,e.nTarget,e.nTarget30,a.min,a.max,a.delayInDays);return o},I=function(t,e){i.useAutomaticIrrigation||($(n,"apply irrigation: amount: "+t+", nitrateConcentration: "+e),s.addIrrigationWater(t),r.applyIrrigation(t,e),O&&(O.addAppliedIrrigationWater(t),this.addDailySumIrrigationWater(t)))},L=function(t){r.applyTillage(t)},B=function(t){D.toISODateString()===t.toISODateString()&&(N.apply(D,this),D=N.nextDate(D),D.isValid()||(Ce(),N.crop().reset(),A++,A<e.cropRotation.length&&(N=e.cropRotation[A],D=N.start(),$(n,"next app-date: "+D.toISODateString()))))},E=function(t,c,l,u,f,v,g,m,S,y){a.vs_GroundwaterDepth=U(d.p_MaxGroundwaterDepth,d.p_MinGroundwaterDepth,d.p_MinGroundwaterDepthMonth,t,l);var h=d.p_JulianDayAutomaticFertilising;r.deleteAOMPool(),r.applyPossibleDelayedFerilizer();var M=r.applyPossibleTopDressing();if(de(M),O&&O.isValid()&&i.useNMinMineralFertilisingMethod&&O.seedDate().dayOfYear()>O.harvestDate().dayOfYear()&&t==h){$(n,"N_min fertilising winter crop");var C=O.cropParameters(),A=x(i.nMinFertiliserPartition,NMinCropParameters(C.pc_SamplingDepth,C.pc_TargetNSamplingDepth,C.pc_TargetN30));de(A)}o.step(u,v,S),_.step(a.vs_GroundwaterDepth,g,v,u,y/100,f,m,e.windSpeedHeight,S,t),s.step(f,g,m),p.step()},G=function(t,e,o,n,_,c,p,l,u,v,d,y,C,A){if(a._currentCropGrowth){if(g++,a._currentCropGrowth.step(t,e,o,n,_,c,p/100,l,u,v,d,y,C,A),i.useAutomaticIrrigation){var N=i.autoIrrigationParams;r.applyIrrigationViaTrigger(N.treshold,N.amount,N.nitrateConcentration)&&(s.addIrrigationWater(N.amount),O.addAppliedIrrigationWater(N.amount),f+=N.amount)}m+=a._currentCropGrowth.nitrogenStress(),S+=a._currentCropGrowth.waterStress(),h+=a._currentCropGrowth.heatStress(),M+=a._currentCropGrowth.oxygenStress()}},k=function(t,e,a){var i=380,r=0;return r=a?t+e/366:t+e/365,i=222+y(.0119*(r-1580))+2.5*R((r-.5)/.1592)},U=function(t,e,a,i,r){var o=20,n=r?366:365,_=(t+e)/2,c=(t-e)/2,s=R(3.14159265358979*(i/n*360-90-(30*a-15))/180);return o=_+s*c,0>o&&(o=20),o},V=function(t){for(var e=0,a=0,o=0,n=0,_=i.noOfLayers;_>n&&(o++,a+=r[n].vs_SoilOrganicCarbon(),e+=r[n].vs_LayerThickness,!(e>=t));n++);return a/o*100},Y=function(){return _.meanWaterContent(.9)},W=function(t,e){return _.meanWaterContent(t,e)},q=function(t){for(var e=0,a=0,o=0,n=0,_=i.noOfLayers;_>n&&(o++,a+=r[n].get_SoilNmin(),e+=r[n].vs_LayerThickness,!(e>=t));n++);return a/o*e*1e4},K=function(t){for(var e=0,a=0,o=0,n=0,_=i.noOfLayers;_>n&&(o++,a+=r[n].get_SoilNO3(),e+=r[n].vs_LayerThickness,!(e>=t));n++);return a},z=function(){return _.get_GroundwaterRecharge()},J=function(){return p.get_NLeaching()},j=function(t){return r.sumSoilTemperature(t)},X=function(){return _.getMaxSnowDepth()},Z=function(){return _.accumulatedSnowDepth()},Q=function(){return _.getAccumulatedFrostDepth()},te=function(){for(var t=3,e=0,a=0;t>a;a++)e+=r.soilLayer(a).get_Vs_SoilTemperature();return e/t},ee=function(t,e){for(var a=0,i=0,o=t;e>o;o++)i+=r.soilLayer(o).get_Vs_SoilMoisture_m3(),a++;return i/a},ie=function(t,e){for(var a=0,i=0,r=t;e>r;r++)i+=_.get_CapillaryRise(r),a++;return i/a},re=function(t,e){for(var a=0,i=0,r=t;e>r;r++)i+=_.get_PercolationRate(r),a++;return i/a},oe=function(){return _.get_SumSurfaceRunOff()},ne=function(){return _.get_SurfaceRunOff()},_e=function(){return a._currentCropGrowth?a._currentCropGrowth.remainingEvapotranspiration():0},ce=function(){return a._currentCropGrowth?a._currentCropGrowth.get_ActualTranspiration():0},se=function(){return a._currentCropGrowth?a._currentCropGrowth.evaporatedFromIntercept():0},pe=function(){return _.get_Evapotranspiration()},le=function(){for(var t=0,e=0;3>e;e++)t+=s.get_SMB_CO2EvolutionRate(e);return t},ue=function(){return s.get_NH3_Volatilised()},fe=function(){return s.get_SumNH3_Volatilised()},ve=function(){for(var t=0,e=0;3>e;e++)t+=s.get_ActDenitrificationRate(e);return t},de=function(t){u+=t,l+=t},ge=function(){return i.useNMinMineralFertilisingMethod},me=function(){return O},Se=function(){return O&&O.isValid()},ye=function(){return u},he=function(){return f},Me=function(t){f+=t},Oe=function(){return l},Ce=function(){l=0},Ae=function(){f=0,u=0},De=function(){return a.vw_AtmosphericCO2Concentration},Pe=function(){return a.vs_GroundwaterDepth},Re=function(){return v.writeOutputFiles},Fe=function(){return v},Te=function(){return i},xe=function(){return o},Ie=function(){return _},Ge=function(){return s},ke=function(){return p},Ue=function(){return r},Ve=function(){return r},Ye=function(t){return t*(1-i.albedo)},We=function(){return g},qe=function(){return m},Ke=function(){return S},ze=function(){return h},Je=function(){return M},je=function(){return Number(C)};return{run:w,getCentralParameterProvider:Fe,getEnvironment:Te,cropGrowth:this.cropGrowth,prodProcessStep:B,generalStep:E,cropStep:G,CO2ForDate:k,GroundwaterDepthForDate:U,seedCrop:P,incorporateCurrentCrop:T,applyMineralFertiliser:H,applyOrganicFertiliser:b,harvestCurrentCrop:F,applyMineralFertiliserViaNMinMethod:x,applyIrrigation:I,applyTillage:L,avgCorg:V,mean90cmWaterContent:Y,meanWaterContent:W,sumNmin:q,groundWaterRecharge:z,nLeaching:J,sumSoilTemperature:j,sumNO3AtDay:K,maxSnowDepth:X,accumulatedSnowDepth:Z,accumulatedFrostDepth:Q,avg30cmSoilTemperature:te,avgSoilMoisture:ee,avgCapillaryRise:ie,avgPercolationRate:re,sumSurfaceRunOff:oe,surfaceRunoff:ne,getEvapotranspiration:_e,getTranspiration:ce,getEvaporation:se,get_sum30cmSMB_CO2EvolutionRate:le,getNH3Volatilised:ue,getSumNH3Volatilised:fe,getsum30cmActDenitrificationRate:ve,getETa:pe,vw_AtmosphericCO2Concentration:this.vw_AtmosphericCO2Concentration,vs_GroundwaterDepth:this.vs_GroundwaterDepth,addDailySumFertiliser:de,useNMinMineralFertilisingMethod:ge,currentCrop:me,isCropPlanted:Se,dailySumFertiliser:ye,dailySumIrrigationWater:he,addDailySumIrrigationWater:Me,sumFertiliser:Oe,resetFertiliserCounter:Ce,resetDailyCounter:Ae,get_AtmosphericCO2Concentration:De,get_GroundwaterDepth:Pe,writeOutputFiles:Re,soilTemperature:xe,soilMoisture:Ie,soilOrganic:Ge,soilTransport:ke,soilColumn:Ue,soilColumnNC:Ve,netRadiation:Ye,daysWithCrop:We,getAccumulatedNStress:qe,getAccumulatedWaterStress:Ke,getAccumulatedHeatStress:ze,getAccumulatedOxygenStress:Je,getIsVegPeriod:je}},Te=function(t,e,a){var i=this;if(0===arguments.length){this.vs_SoilSandContent=.9,this.vs_SoilClayContent=.05,this.vs_SoilStoneContent=0,this.vs_SoilTexture="Ss",this.vs_SoilpH=7,this.vs_SoilMoistureOld_m3=.25,this.vs_SoilWaterFlux=0,this.vs_Lambda=.5,this.vs_FieldCapacity=.21,this.vs_Saturation=.43,this.vs_PermanentWiltingPoint=.08,this.vs_SOM_Slow=0,this.vs_SOM_Fast=0,this.vs_SMB_Slow=0,this.vs_SMB_Fast=0,this.vs_SoilCarbamid=0,this.vs_SoilNH4=1e-4,this.vs_SoilNO2=.001,this.vs_SoilNO3=.001,this.vs_SoilFrozen=!1;
var o=-1,n=-1,_=0,c=-1,s=.25,p=0;this.vo_AOM_Pool=[];var l=new se;this.vs_SoilMoisture_m3=this.vs_FieldCapacity*l.userInitValues.p_initPercentageFC,this.vs_SoilMoistureOld_m3=this.vs_FieldCapacity*l.userInitValues.p_initPercentageFC,this.vs_SoilNO3=l.userInitValues.p_initSoilNitrate,this.vs_SoilNH4=l.userInitValues.p_initSoilAmmonium}else{if(3!==arguments.length||!(arguments[2]instanceof se))throw new Error("arguments.length !== 3 || !(arguments[2] instanceof ParameterProvider");this.vs_LayerThickness=t,this.vs_SoilSandContent=e.vs_SoilSandContent,this.vs_SoilClayContent=e.vs_SoilClayContent,this.vs_SoilStoneContent=e.vs_SoilStoneContent,this.vs_SoilTexture=e.vs_SoilTexture,this.vs_SoilpH=e.vs_SoilpH,this.vs_SoilMoistureOld_m3=.25,this.vs_SoilWaterFlux=0,this.vs_Lambda=e.vs_Lambda,this.vs_FieldCapacity=e.vs_FieldCapacity,this.vs_Saturation=e.vs_Saturation,this.vs_PermanentWiltingPoint=e.vs_PermanentWiltingPoint,this.vs_SOM_Slow=0,this.vs_SOM_Fast=0,this.vs_SMB_Slow=0,this.vs_SMB_Fast=0,this.vs_SoilCarbamid=0,this.vs_SoilNH4=1e-4,this.vs_SoilNO2=.001,this.vs_SoilNO3=.005,this.vs_SoilFrozen=!1,this.centralParameterProvider=a;var o=e.vs_SoilOrganicCarbon(),n=e.vs_SoilOrganicMatter(),_=e.vs_SoilBulkDensity(),c=0,s=.25,p=0;if(this.vo_AOM_Pool=[],r&&!(o-n*Z.PO_SOM_TO_C<1e-5))throw new Error("_vs_SoilOrganicCarbon - (_vs_SoilOrganicMatter * ORGANIC_CONSTANTS.PO_SOM_TO_C)) < 0.00001)");s=this.vs_FieldCapacity*a.userInitValues.p_initPercentageFC,this.vs_SoilMoistureOld_m3=this.vs_FieldCapacity*a.userInitValues.p_initPercentageFC,this.vs_SoilNH4=e.vs_SoilAmmonium<0?a.userInitValues.p_initSoilAmmonium:e.vs_SoilAmmonium,this.vs_SoilNO3=e.vs_SoilNitrate<0?a.userInitValues.p_initSoilNitrate:e.vs_SoilNitrate}this.vs_SoilNH4_a=0;var u=function(){return o>=0?o:n*Z.PO_SOM_TO_C},f=function(){return n>=0?n:o/Z.PO_SOM_TO_C},v=function(){return 1-i.vs_SoilSandContent-i.vs_SoilClayContent},d=function(){var t,e;t=i.vs_PermanentWiltingPoint>0?i.vs_PermanentWiltingPoint:S(),e=i.vs_Saturation>0?i.vs_Saturation:m();var a,r=y(-2.486+2.5*i.vs_SoilSandContent-35.1*u()-2.617*(h()/1e3)-2.3*i.vs_SoilClayContent),o=1,n=y(.053-.9*i.vs_SoilSandContent-1.3*i.vs_SoilClayContent+1.5*D(i.vs_SoilSandContent,2));a=b()<=t?5e7:1/r*D(D((e-t)/(b()-t),1/o)-1,1/n),c=C(a),c=0>c?5e-7:c},g=function(){if(""==i.vs_SoilTexture){var t,e;t=i.vs_PermanentWiltingPoint>0?i.vs_PermanentWiltingPoint:S(),e=i.vs_Saturation>0?i.vs_Saturation:m();var a=y(-2.486+2.5*i.vs_SoilSandContent-35.1*u()-2.617*(h()/1e3)-2.3*i.vs_SoilClayContent),r=1,o=y(.053-.9*i.vs_SoilSandContent-1.3*i.vs_SoilClayContent+1.5*D(i.vs_SoilSandContent,2)),n=2.1;i.vs_SoilSandContent>.48&&i.vs_SoilSandContent<=.9&&i.vs_SoilClayContent<=.12?n=2.1-.476*(i.vs_SoilSandContent-.48):i.vs_SoilSandContent>.9&&i.vs_SoilClayContent<=.05?n=1.9:i.vs_SoilClayContent>.45?n=2.5:i.vs_SoilClayContent>.3&&i.vs_SoilSandContent<.2?n=2.4:i.vs_SoilClayContent>.35?n=2.3:i.vs_SoilClayContent>.25&&i.vs_SoilSandContent<.1?n=2.3:i.vs_SoilClayContent>.17&&i.vs_SoilSandContent>.68?n=2.2:i.vs_SoilClayContent>.17&&i.vs_SoilSandContent<.33?n=2.2:i.vs_SoilClayContent>.08&&i.vs_SoilSandContent<.27?n=2.2:i.vs_SoilClayContent>.25&&i.vs_SoilSandContent<.25&&(n=2.2);var _=D(10,n);i.vs_FieldCapacity=t+(e-t)/D(1+D(a*_,o),r),i.vs_FieldCapacity*=1-i.vs_SoilStoneContent}return i.vs_FieldCapacity},m=function(){return""==i.vs_SoilTexture&&(i.vs_Saturation=.81-.283*(h()/1e3)+.1*i.vs_SoilClayContent,i.vs_Saturation*=1-i.vs_SoilStoneContent),i.vs_Saturation},S=function(){return""==i.vs_SoilTexture&&(i.vs_PermanentWiltingPoint=.015+.5*i.vs_SoilClayContent+1.4*i.vs_SoilOrganicCarbon(),i.vs_PermanentWiltingPoint*=1-i.vs_SoilStoneContent),i.vs_PermanentWiltingPoint},h=function(){return _},M=function(t){n=t},O=function(t){o=t},A=function(){return i.vs_SoilpH},N=function(){return d(),c},w=function(){return this.vs_SoilNH4},P=function(){return this.vs_SoilNH4_a},R=function(){return this.vs_SoilNO2},F=function(){return this.vs_SoilNO3},T=function(){return this.vs_SoilCarbamid},H=function(){return this.vs_SoilNO3+this.vs_SoilNO2+this.vs_SoilNH4},b=function(){return s},x=function(t){s=t},I=function(){return p},L=function(t){p=t},u=function(){return o},f=function(){return n},v=function(){return this.vs_SoilSiltContent};return{calc_vs_SoilMoisture_pF:d,centralParameterProvider:this.centralParameterProvider,get_FieldCapacity:g,get_PermanentWiltingPoint:S,get_Saturation:m,get_SoilCarbamid:T,get_SoilNH4:w,get_SoilNH4_a:P,get_SoilNmin:H,get_SoilNO2:R,get_SoilNO3:F,get_SoilpH:A,get_Vs_SoilMoisture_m3:b,get_Vs_SoilTemperature:I,set_SoilOrganicCarbon:O,set_SoilOrganicMatter:M,set_Vs_SoilMoisture_m3:x,set_Vs_SoilTemperature:L,vo_AOM_Pool:this.vo_AOM_Pool,vs_FieldCapacity:this.vs_FieldCapacity,vs_Lambda:this.vs_Lambda,vs_LayerThickness:this.vs_LayerThickness,vs_PermanentWiltingPoint:this.vs_PermanentWiltingPoint,vs_Saturation:this.vs_Saturation,vs_SMB_Fast:this.vs_SMB_Fast,vs_SMB_Slow:this.vs_SMB_Slow,vs_SoilBulkDensity:h,vs_SoilCarbamid:this.vs_SoilCarbamid,vs_SoilClayContent:this.vs_SoilClayContent,vs_SoilFrozen:this.vs_SoilFrozen,vs_SoilMoisture_pF:N,vs_SoilMoistureOld_m3:this.vs_SoilMoistureOld_m3,vs_SoilNH4:this.vs_SoilNH4,vs_SoilNH4_a:this.vs_SoilNH4_a,vs_SoilNO2:this.vs_SoilNO2,vs_SoilNO3:this.vs_SoilNO3,vs_SoilOrganicCarbon:u,vs_SoilOrganicMatter:f,vs_SoilpH:this.vs_SoilpH,vs_SoilSandContent:this.vs_SoilSandContent,vs_SoilSiltContent:v,vs_SoilStoneContent:this.vs_SoilStoneContent,vs_SoilTexture:this.vs_SoilTexture,vs_SoilWaterFlux:this.vs_SoilWaterFlux,vs_SOM_Fast:this.vs_SOM_Fast,vs_SOM_Slow:this.vs_SOM_Slow}},He=function(t,e,a){var i=this;this.generalParams=t,this.soilParams=e,this.centralParameterProvider=a,this.cropGrowth=null,this._delayedNMinApplications=[],this._vf_TopDressing=0,this._vf_TopDressingDelay=0,this._vs_NumberOfOrganicLayers=0;var o=[];o.vs_SurfaceWaterStorage=0,o.vs_InterceptionStorage=0,o.vm_GroundwaterTable=0,o.vs_FluxAtLowerBoundary=0,o.vq_CropNUptake=0,o.vs_SoilLayers=[],$(n,"Constructor: SoilColumn "+e.length);for(var s=0;s<this.soilParams.length;s++){var p=new Te(t.ps_LayerThickness[0],e[s],a);o.vs_SoilLayers.push(p),o[s]=p}o.applyMineralFertiliser=function(t,e){if(this[0].vs_SoilNO3+=e*t.getNO3()/1e4/this[0].vs_LayerThickness,this[0].vs_SoilNH4+=e*t.getNH4()/1e4/this[0].vs_LayerThickness,this[0].vs_SoilCarbamid+=e*t.getCarbamid()/1e4/this[0].vs_LayerThickness,r&&this[0].vs_SoilNH4<0)throw new Error(this[0].vs_SoilNH4)},o.applyPossibleTopDressing=function(){if(i._vf_TopDressingDelay>0&&(i._vf_TopDressingDelay--,0==i._vf_TopDressingDelay)){var t=i._vf_TopDressing;return this.applyMineralFertiliser(i._vf_TopDressingPartition,t),i._vf_TopDressing=0,t}return 0},o.applyPossibleDelayedFerilizer=function(){for(var t=i._delayedNMinApplications,e=0;0===!t.length;)if(e+=t[0].func.apply(this,t[0].args),t.shift(),r&&t!=_delayedNMinApplications)throw new Error(t);return e},o.applyMineralFertiliserViaNMinMethod=function(t,e,a,r,o,c,s){if(this[0].get_Vs_SoilMoisture_m3()>this[0].get_FieldCapacity())return i._delayedNMinApplications.push({func:this.applyMineralFertiliserViaNMinMethod,args:[t,e,a,r,o,c,s]}),$(_,"Soil too wet for fertilisation. Fertiliser event adjourned to next day."),0;for(var p=0,l=0,u=0,f=0,v=this.getLayerNumberForDepth(.3),d=m(e/this[g].vs_LayerThickness),g=0;d>g;g++)p+=this[g].vs_SoilNO3,u+=this[g].vs_SoilNH4;for(var g=0;v>g;g++)l+=this[g].vs_SoilNO3,f+=this[g].vs_SoilNH4;var S=a/1e4/this[0].vs_LayerThickness,y=r/1e4/this[0].vs_LayerThickness,h=S-(p+u),M=y-(l+f),O=1e4*h*this[0].vs_LayerThickness,C=1e4*M*this[0].vs_LayerThickness,N=A(O,C);return o>N&&(N=0,$(_,"Fertiliser demand below minimum application value. No fertiliser applied.")),N>c&&(i._vf_TopDressing=N-c,i._vf_TopDressingPartition=t,i._vf_TopDressingDelay=s,N=c,$(_,"Fertiliser demand above maximum application value. A top dressing of "+_vf_TopDressing+" will be applied from now on day"+s+".")),this.applyMineralFertiliser(t,N),$(n,"SoilColumn::applyMineralFertiliserViaNMinMethod:	"+N),N},o.soilColumnArrayapplyIrrigationViaTrigger=function(t,e,a){null===i.cropGrowth&&$(c,"crop is null");var r=i.cropGrowth.heatSumIrrigationStart(),o=i.cropGrowth.heatSumIrrigationEnd(),_=i.cropGrowth.currentTemperatureSum();if(r>_||_>o)return!1;for(var s=i.centralParameterProvider.userSoilMoistureParameters.pm_CriticalMoistureDepth,p=0,l=0,u=0,f=M(m(s/i[0].vs_LayerThickness)),v=0;f>v;v++)p+=(this[v].get_Vs_SoilMoisture_m3()-this[v].get_PermanentWiltingPoint())*this.vs_LayerThickness()*1e3,l+=(this[v].get_FieldCapacity()-this[v].get_PermanentWiltingPoint())*this.vs_LayerThickness()*1e3,u=p/l;return t>=u?(this.applyIrrigation(e,a),$(n,"applying automatic irrigation treshold: "+t+" amount: "+e+" N concentration: "+a),!0):!1},o.applyIrrigation=function(t,e){var a=0;this.vs_SurfaceWaterStorage+=t,a=e*t/this[0].vs_LayerThickness/1e6,this[0].vs_SoilNO3+=a},o.deleteAOMPool=function(){for(var t=1;t<this[0].vo_AOM_Pool.length;){for(var e=0,a=0,r=0;r<i._vs_NumberOfOrganicLayers;r++)e+=this[r].vo_AOM_Pool[t].vo_AOM_Slow,a+=this[r].vo_AOM_Pool[t].vo_AOM_Fast;if(1e-5>e+a)for(var r=0;r<i._vs_NumberOfOrganicLayers;r++){var o=0;o+=t,this[r].vo_AOM_Pool.splice(o,1)}else t++}},o.vs_NumberOfLayers=function(){return this.length},o.applyTillage=function(t){for(var e=this.getLayerNumberForDepth(t)+1,a=0,i=0,o=0,n=0,_=0,c=0,s=0,p=0,l=0,u=0,f=0,v=0,d=0,g=0;e>g;g++)a+=this[g].vs_SoilOrganicCarbon(),i+=this[g].vs_SoilOrganicMatter(),o+=this[g].get_Vs_SoilTemperature(),n+=this[g].get_Vs_SoilMoisture_m3(),_+=this[g].vs_SoilMoistureOld_m3,c+=this[g].vs_SOM_Slow,s+=this[g].vs_SOM_Fast,p+=this[g].vs_SMB_Slow,l+=this[g].vs_SMB_Fast,u+=this[g].vs_SoilCarbamid,f+=this[g].vs_SoilNH4,v+=this[g].vs_SoilNO2,d+=this[g].vs_SoilNO3;if(r&&this[0].vs_SoilNH4<0)throw new Error(this[0].vs_SoilNH4);if(r&&this[0].vs_SoilNO2<0)throw new Error(this[0].vs_SoilNO2);if(r&&this[0].vs_SoilNO3<0)throw new Error(this[0].vs_SoilNO3);a/=e,i/=e,o/=e,n/=e,_/=e,c/=e,s/=e,p/=e,l/=e,u/=e,f/=e,v/=e,d/=e;for(var g=0;e>g;g++){if(this[g].set_SoilOrganicCarbon(a),this[g].set_SoilOrganicMatter(i),this[g].set_Vs_SoilTemperature(o),this[g].set_Vs_SoilMoisture_m3(n),this[g].vs_SoilMoistureOld_m3=_,this[g].vs_SOM_Slow=c,this[g].vs_SOM_Fast=s,this[g].vs_SMB_Slow=p,this[g].vs_SMB_Fast=l,this[g].vs_SoilCarbamid=u,this[g].vs_SoilNH4=f,this[g].vs_SoilNO2=v,this[g].vs_SoilNO3=d,r&&this[g].vs_SoilNH4<0)throw new Error(this[g].vs_SoilNH4);if(r&&this[g].vs_SoilNO2<0)throw new Error(this[g].vs_SoilNO2);if(r&&this[g].vs_SoilNO3<0)throw new Error(this[g].vs_SoilNO3)}var m=this[0].vo_AOM_Pool.length;if(m>0){for(var S=new Array(m),y=new Array(m),h=0;m>h;h++)S[h]=0,y[h]=0;e=N(e,this.vs_NumberOfOrganicLayers());for(var M=0;e>M;M++){var O=this[M],h=0;O.vo_AOM_Pool.forEach(function(t){S[h]+=t.vo_AOM_Slow,y[h]+=t.vo_AOM_Fast,h++})}for(var h=0;m>h;h++)S[h]=S[h]/e,y[h]=y[h]/e;for(var M=0;e>M;M++){O=this[M];var h=0;O.vo_AOM_Pool.forEach(function(t){t.vo_AOM_Slow=S[h],t.vo_AOM_Fast=y[h],h++})}}},o.vs_NumberOfOrganicLayers=function(){return i._vs_NumberOfOrganicLayers},o.soilLayer=function(t){return this[t]},o.vs_LayerThickness=function(){return this[0].vs_LayerThickness},o.get_DailyCropNUptake=function(){return 1e4*this.vq_CropNUptake},o.getLayerNumberForDepth=function(t){for(var e=0,a=this.length,i=0,r=this[0].vs_LayerThickness,o=0;a>o&&(i+=r,!(i>=t));o++)e++;return e},o.put_Crop=function(t){i.cropGrowth=t},o.remove_Crop=function(){i.cropGrowth=null},o.sumSoilTemperature=function(t){for(var e=0,a=0;t>a;a++)e+=this[a].get_Vs_SoilTemperature();return e},o.vs_NumberOfLayers=function(){return this.length};var l=function(){for(var t=0,e=0,a=0;a<o.vs_NumberOfLayers()&&(e++,t+=o.vs_SoilLayers[a].vs_LayerThickness,!(t>=i.generalParams.ps_MaxMineralisationDepth));a++);i._vs_NumberOfOrganicLayers=e};l();for(var u=0;u<i._vs_NumberOfOrganicLayers;u++){var f=new oe;f.vo_AOM_DryMatterContent=1,f.vo_AOM_NH4Content=0,f.vo_AOM_NO3Content=0,f.vo_AOM_CarbamidContent=0,f.vo_AOM_SlowDecCoeffStandard=.012,f.vo_AOM_FastDecCoeffStandard=.05,f.vo_PartAOM_to_AOM_Slow=.67,f.vo_PartAOM_to_AOM_Fast=.33,f.vo_CN_Ratio_AOM_Slow=200,f.vo_CN_Ratio_AOM_Fast=0,f.vo_PartAOM_Slow_to_SMB_Slow=.5,f.vo_PartAOM_Slow_to_SMB_Fast=.5,f.vo_NConcentration=0,o[u].vo_AOM_Pool[0]=f}return o},be=function(t,e,a,i){for(var o=t,n=a,_=i,c=(t.vs_NumberOfLayers(),t.vs_NumberOfOrganicLayers()),s=!1,p=0,l=new Float64Array(t.vs_NumberOfOrganicLayers()),u=new Float64Array(t.vs_NumberOfOrganicLayers()),v=0,d=new Float64Array(t.vs_NumberOfOrganicLayers()),g=new Float64Array(t.vs_NumberOfOrganicLayers()),m=0,S=new Float64Array(t.vs_NumberOfOrganicLayers()),h=new Float64Array(t.vs_NumberOfOrganicLayers()),M=0,O=new Float64Array(t.vs_NumberOfOrganicLayers()),C=0,A=0,w=0,P=0,R=new Float64Array(t.vs_NumberOfOrganicLayers()),F=0,T=0,H=new Float64Array(t.vs_NumberOfOrganicLayers()),b=new Float64Array(t.vs_NumberOfOrganicLayers()),x=new Float64Array(t.vs_NumberOfOrganicLayers()),I=new Float64Array(t.vs_NumberOfOrganicLayers()),L=new Float64Array(t.vs_NumberOfOrganicLayers()),B=0,E=new Float64Array(t.vs_NumberOfOrganicLayers()),G=0,k=0,U=0,V=0,Y=0,W=!1,q=null,K=_.userSoilOrganicParameters.po_SOM_SlowUtilizationEfficiency,z=_.userSoilOrganicParameters.po_PartSOM_to_SMB_Slow,J=_.userSoilOrganicParameters.po_SOM_FastUtilizationEfficiency,j=_.userSoilOrganicParameters.po_PartSOM_to_SMB_Fast,X=_.userSoilOrganicParameters.po_SOM_SlowDecCoeffStandard,Q=_.userSoilOrganicParameters.po_SOM_FastDecCoeffStandard,$=_.userSoilOrganicParameters.po_PartSOM_Fast_to_SOM_Slow,te=0;c>te;te++)I[te]=o[te].vs_SoilOrganicCarbon()*o[te].vs_SoilBulkDensity(),O[te]=.049*D(I[te]*o[te].vs_LayerThickness/1e3*1e4,1.139)/1e4*1e3/o[te].vs_LayerThickness,I[te]-=O[te],o[te].vs_SMB_Slow=K*z*I[te],o[te].vs_SMB_Fast=J*j*I[te],o[te].vs_SOM_Slow=I[te]/(1+X/(Q*$)),o[te].vs_SOM_Fast=I[te]-o[te].vs_SOM_Slow,I[te]-=o[te].vs_SMB_Slow+o[te].vs_SMB_Fast,o[te].set_SoilOrganicCarbon((I[te]+O[te])/o[te].vs_SoilBulkDensity()),o[te].set_SoilOrganicMatter((I[te]+O[te])/Z.PO_SOM_TO_C/o[te].vs_SoilBulkDensity()),l[te]=0;var ee=function(t,e,a){var i=q?q.netPrimaryProduction():0;if(ne(e+p),_e(),ce(s,t,a),se(),pe(),le(),ue(),w=Me(i,M),A=Oe(i,M),V+=T,U+=C,p=0,m=0,v=0,B=0,s=!1,q){var r=q.senescencedTissue(),n=o.vs_NumberOfOrganicLayers();if(r.length===n)for(var _=0;n>_;_++){var c=o[_].vo_AOM_Pool[0],l=r[_];l.vo_CN_Ratio_AOM_Slow>0&&(c.vo_CN_Ratio_AOM_Slow=(c.vo_AOM_Slow+l.vo_AOM_Slow)/(1/c.vo_CN_Ratio_AOM_Slow*c.vo_AOM_Slow+1/l.vo_CN_Ratio_AOM_Slow*l.vo_AOM_Slow)),c.vo_AOM_Slow+=l.vo_AOM_Slow}}},ie=function(t,e,a){var i=e,n=a,c=t.vo_AOM_DryMatterContent,p=t.vo_AOM_NH4Content,l=t.vo_AOM_NO3Content,u=t.vo_AOM_CarbamidContent,f=t.vo_PartAOM_to_AOM_Slow,d=t.vo_PartAOM_to_AOM_Fast,g=t.vo_CN_Ratio_AOM_Slow,S=t.vo_CN_Ratio_AOM_Fast,y=_.userSoilOrganicParameters.po_AOM_FastMaxC_to_N;o.vs_NumberOfOrganicLayers()>0&&(o[0].vs_SoilCarbamid+=i*c*u/1e4/o[0].vs_LayerThickness);for(var h=0,M=0,O=o.vs_NumberOfOrganicLayers(),C=0;O>C;C++)if(0==C){var A=new oe;A.vo_DaysAfterApplication=0,A.vo_AOM_DryMatterContent=c,A.vo_AOM_NH4Content=p,A.vo_AOM_Slow=0,A.vo_AOM_Fast=0,A.vo_AOM_SlowDecCoeffStandard=t.vo_AOM_SlowDecCoeffStandard,A.vo_AOM_FastDecCoeffStandard=t.vo_AOM_FastDecCoeffStandard,A.vo_CN_Ratio_AOM_Slow=g,A.incorporation=W,h=i*c*Z.PO_AOM_TO_C/1e4/o[0].vs_LayerThickness,1e-7>=S?(M=i*c*n/1e4/o[0].vs_LayerThickness,0>=n&&(M=.01),S=M>h*f/g?h*d/(M-h*f/g):y,S>y&&(S=y),A.vo_CN_Ratio_AOM_Fast=S):A.vo_CN_Ratio_AOM_Fast=t.vo_CN_Ratio_AOM_Fast,A.vo_PartAOM_Slow_to_SMB_Slow=t.vo_PartAOM_Slow_to_SMB_Slow,A.vo_PartAOM_Slow_to_SMB_Fast=t.vo_PartAOM_Slow_to_SMB_Fast,o[0].vo_AOM_Pool.push(A)}else{var A=new oe;A.vo_DaysAfterApplication=0,A.vo_AOM_DryMatterContent=0,A.vo_AOM_NH4Content=0,A.vo_AOM_Slow=0,A.vo_AOM_Fast=0,A.vo_AOM_SlowDecCoeffStandard=t.vo_AOM_SlowDecCoeffStandard,A.vo_AOM_FastDecCoeffStandard=t.vo_AOM_FastDecCoeffStandard,A.vo_CN_Ratio_AOM_Slow=g,A.vo_CN_Ratio_AOM_Fast=0===!o[0].vo_AOM_Pool.length?o[0].vo_AOM_Pool[o[0].vo_AOM_Pool.length-1].vo_CN_Ratio_AOM_Fast:S,A.vo_PartAOM_Slow_to_SMB_Slow=t.vo_PartAOM_Slow_to_SMB_Slow,A.vo_PartAOM_Slow_to_SMB_Fast=t.vo_PartAOM_Slow_to_SMB_Fast,A.incorporation=W,o[C].vo_AOM_Pool.push(A)}var N=f*h,D=d*h,w=p*i*c/1e4/o[0].vs_LayerThickness;ae("vo_SoilNH4Input",w);var P=l*i*c/1e4/o[0].vs_LayerThickness,R=(1-(f+d))*h;if(o[0].vo_AOM_Pool[o[0].vo_AOM_Pool.length-1].vo_AOM_Slow+=N,o[0].vo_AOM_Pool[o[0].vo_AOM_Pool.length-1].vo_AOM_Fast+=D,ae("soilColumn[0].vs_SoilNH4",o[0].vs_SoilNH4),o[0].vs_SoilNH4+=w,ae("soilColumn[0].vs_SoilNH4",o[0].vs_SoilNH4),o[0].vs_SoilNO3+=P,o[0].vs_SOM_Fast+=R,r&&(o[0].vs_SoilNO3<0||o[0].vs_SoilNH4<0))throw new Error("N < 0");m+=N,v+=D,B+=R,s=!0},re=function(t){p+=t},ne=function(){var t=(o.vs_NumberOfOrganicLayers(),[]),e=[],a=[],i=[],n=[],c=[],p=[],l=0,u=0,f=0,v=0,d=0,g=0,m=0,S=_.userSoilOrganicParameters.po_HydrolysisKM,h=_.userSoilOrganicParameters.po_HydrolysisP1,M=_.userSoilOrganicParameters.po_HydrolysisP2,O=_.userSoilOrganicParameters.po_ActivationEnergy;T=0;for(var C=0;C<o.vs_NumberOfOrganicLayers();C++)if(t[C]=o[C].vs_SoilCarbamid/Z.PO_UREAMOLECULARWEIGHT/Z.PO_UREA_TO_N/1e3,e[C]=-1258.9+13.2843*(o[C].get_Vs_SoilTemperature()+273.15)-.047381*(o[C].get_Vs_SoilTemperature()+273.15)*(o[C].get_Vs_SoilTemperature()+273.15)+577264e-10*D(o[C].get_Vs_SoilTemperature()+273.15,3),e[C]=e[C]/(1+.0453*e[C])*o[C].get_Vs_SoilMoisture_m3(),e[C]>=t[C]?(e[C]=t[C],t[C]=0):t[C]-=e[C],a[C]=(100*h*o[C].vs_SoilOrganicMatter()*Z.PO_SOM_TO_C+M)/Z.PO_UREAMOLECULARWEIGHT,i[C]=a[C]/y(-O/2577.34),n[C]=i[C]*y(-O/(8.314*(o[C].get_Vs_SoilTemperature()+273.15))),c[C]=y(-.064*(o[C].vs_SoilpH-6.5)*(o[C].vs_SoilpH-6.5)),p[C]=n[C]*ge(o[C].vs_SoilMoisture_pF())*c[C]*e[C]/(S+e[C]),p[C]=86400*p[C]*o[C].vs_SoilBulkDensity(),p[C]>=e[C]?(o[C].vs_SoilNH4+=o[C].vs_SoilCarbamid,o[C].vs_SoilCarbamid=0):(o[C].vs_SoilCarbamid-=p[C]*Z.PO_UREAMOLECULARWEIGHT*Z.PO_UREA_TO_N*1e3,o[C].vs_SoilNH4+=p[C]*Z.PO_UREAMOLECULARWEIGHT*Z.PO_UREA_TO_N*1e3),0==C&&(l=D(10,-o[0].vs_SoilpH),u=D(10,-2728.3/(o[0].get_Vs_SoilTemperature()+273.15)-.094219),f=D(10,1630.5/(o[0].get_Vs_SoilTemperature()+273.15)-2.301),v=o[0].vs_SoilNH4/(1e3*Z.PO_NH4MOLECULARWEIGHT),d=v/(1+l/u),g=d,m=g*Z.PO_NH3MOLECULARWEIGHT*1e3,m>=o[0].vs_SoilNH4?(m=o[0].vs_SoilNH4,o[0].vs_SoilNH4=0):o[0].vs_SoilNH4-=m,T=m*o[0].vs_LayerThickness,r&&o[0].vs_SoilNH4<0))throw new Error(o[0].vs_SoilNH4);e[0]<.001&&!s&&(W=!1)},_e=function(){for(var t=o.vs_NumberOfOrganicLayers(),e=_.userSoilOrganicParameters.po_SOM_SlowDecCoeffStandard,a=_.userSoilOrganicParameters.po_SOM_FastDecCoeffStandard,i=_.userSoilOrganicParameters.po_SMB_SlowDeathRateStandard,c=_.userSoilOrganicParameters.po_SMB_SlowMaintRateStandard,s=_.userSoilOrganicParameters.po_SMB_FastDeathRateStandard,p=_.userSoilOrganicParameters.po_SMB_FastMaintRateStandard,l=_.userSoilOrganicParameters.po_LimitClayEffect,u=_.userSoilOrganicParameters.po_SOM_SlowUtilizationEfficiency,v=_.userSoilOrganicParameters.po_SOM_FastUtilizationEfficiency,d=_.userSoilOrganicParameters.po_PartSOM_Fast_to_SOM_Slow,g=_.userSoilOrganicParameters.po_PartSMB_Slow_to_SOM_Fast,m=_.userSoilOrganicParameters.po_SMB_UtilizationEfficiency,S=_.userSoilOrganicParameters.po_CN_Ratio_SMB,y=_.userSoilOrganicParameters.po_AOM_SlowUtilizationEfficiency,O=_.userSoilOrganicParameters.po_AOM_FastUtilizationEfficiency,C=_.userSoilOrganicParameters.po_ImmobilisationRateCoeffNH4,A=_.userSoilOrganicParameters.po_ImmobilisationRateCoeffNO3,N=[],D=[],w=[],F=[],T=0,I=h.length;I>T;T++)h[T]=0;for(var B,G,U=[],V=[],Y=[],W=[],q=[],T=0,I=b.length;I>T;T++)b[T]=0;for(var K=[],z=[],J=[],j=[],T=0,I=x.length;I>T;T++)x[T]=0;for(var X=[],T=0,I=L.length;I>T;T++)L[T]=0;for(var Z=[],T=0,I=E.length;I>T;T++)E[T]=0;for(var Q,$,te=0;t>te;te++){var ee=ve(o[te].get_Vs_SoilTemperature()),ae=de(o[te].vs_SoilMoisture_pF());Z[te]=e*ee*ae,X[te]=a*ee*ae,j[te]=(i+c)*fe(o[te].vs_SoilClayContent,l)*ee*ae,q[te]=(s+p)*ee*ae,J[te]=i*ee*ae,W[te]=s*ee*ae,z[te]=J[te]*o[te].vs_SMB_Slow,Y[te]=W[te]*o[te].vs_SMB_Fast;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_SlowDecCoeff=Q.vo_AOM_SlowDecCoeffStandard*ee*ae,Q.vo_AOM_FastDecCoeff=Q.vo_AOM_FastDecCoeffStandard*ee*ae}for(var te=0;t>te;te++){for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_SlowDelta=-(Q.vo_AOM_SlowDecCoeff*Q.vo_AOM_Slow),-Q.vo_AOM_SlowDelta>Q.vo_AOM_Slow&&(Q.vo_AOM_SlowDelta=-Q.vo_AOM_Slow),Q.vo_AOM_FastDelta=-(Q.vo_AOM_FastDecCoeff*Q.vo_AOM_Fast),-Q.vo_AOM_FastDelta>Q.vo_AOM_Fast&&(Q.vo_AOM_FastDelta=-Q.vo_AOM_Fast);w[te]=0;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_SlowDecRate=Q.vo_AOM_SlowDecCoeff*Q.vo_AOM_Slow,w[te]+=Q.vo_AOM_SlowDecRate;x[te]=u*Z[te]*o[te].vs_SOM_Slow+v*(1-d)*X[te]*o[te].vs_SOM_Fast+y*w[te]-(j[te]*o[te].vs_SMB_Slow+z[te]),N[te]=0;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_FastDecRate=Q.vo_AOM_FastDecCoeff*Q.vo_AOM_Fast,N[te]+=Q.vo_AOM_FastDecRate;b[te]=m*(1-g)*(z[te]+Y[te])+O*N[te]-(q[te]*o[te].vs_SMB_Fast+Y[te]),E[te]=d*X[te]*o[te].vs_SOM_Fast-Z[te]*o[te].vs_SOM_Slow,L[te]=g*(z[te]+Y[te])-X[te]*o[te].vs_SOM_Fast,F[te]=0,D[te]=0;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],F[te]+=Q.vo_AOM_SlowDelta,D[te]+=Q.vo_AOM_FastDelta}M=0;for(var te=0;t>te;te++)K[te]=(1-u)*Z[te]*o[te].vs_SOM_Slow+(1-v)*(1-d)*X[te]*o[te].vs_SOM_Fast+(1-y)*w[te]+m*j[te]*o[te].vs_SMB_Slow,V[te]=(1-m)*(1-g)*(z[te]+Y[te])+(1-O)*N[te]+q[te]*o[te].vs_SMB_Fast,H[te]=K[te]+V[te],M+=H[te]*o[te].vs_LayerThickness;B=n.vs_Soil_CN_Ratio,G=n.vs_Soil_CN_Ratio;for(var te=0;t>te;te++){U[te]=-(x[te]/S)-b[te]/S-E[te]/B-L[te]/G,Q=o[te].vo_AOM_Pool;for(var ie=0,re=Q.length;re>ie;ie++)$=Q[ie],f($.vo_CN_Ratio_AOM_Fast)>=1e-7&&(U[te]-=$.vo_AOM_FastDelta/$.vo_CN_Ratio_AOM_Fast),f($.vo_CN_Ratio_AOM_Slow)>=1e-7&&(U[te]-=$.vo_AOM_SlowDelta/$.vo_CN_Ratio_AOM_Slow)}P=0;for(var te=0;t>te;te++){if(U[te]<0){if(f(U[te])>=o[te].vs_SoilNH4*C+o[te].vs_SoilNO3*A){F[te]=0,D[te]=0,Q=o[te].vo_AOM_Pool;for(var ie=0,re=Q.length;re>ie;ie++)$=Q[ie],$.vo_CN_Ratio_AOM_Slow>=S/y&&($.vo_AOM_SlowDelta=0),$.vo_CN_Ratio_AOM_Fast>=S/O&&($.vo_AOM_FastDelta=0),F[te]+=$.vo_AOM_SlowDelta,D[te]+=$.vo_AOM_FastDelta;B>=S/u&&(E[te]=0),G>=S/v&&(L[te]=0),x[te]=u*Z[te]*o[te].vs_SOM_Slow+v*(1-d)*X[te]*o[te].vs_SOM_Fast+y*-F[te]-(j[te]*o[te].vs_SMB_Slow+z[te]),b[te]=m*(1-g)*(z[te]+Y[te])+O*-D[te]-(q[te]*o[te].vs_SMB_Fast+Y[te]),U[te]=-(x[te]/S)-b[te]/S-E[te]/B-L[te]/G;for(var ie=0,re=Q.length;re>ie;ie++)$=Q[ie],f($.vo_CN_Ratio_AOM_Fast)>=1e-7&&(U[te]-=$.vo_AOM_FastDelta/$.vo_CN_Ratio_AOM_Fast),f($.vo_CN_Ratio_AOM_Slow)>=1e-7&&(U[te]-=$.vo_AOM_SlowDelta/$.vo_CN_Ratio_AOM_Slow);o[te].vs_SoilNH4+=f(U[te])}else if(f(U[te])>=o[te].vs_SoilNH4*C)o[te].vs_SoilNO3-=f(U[te])-o[te].vs_SoilNH4*C,o[te].vs_SoilNH4-=o[te].vs_SoilNH4*C;else if(o[te].vs_SoilNH4-=f(U[te]),r&&o[te].vs_SoilNH4<0)throw new Error(o[te].vs_SoilNH4)}else o[te].vs_SoilNH4+=f(U[te]);R[te]=f(U[te])*o[0].vs_LayerThickness,P+=f(U[te])*o[0].vs_LayerThickness,k+=f(U[te])*o[0].vs_LayerThickness}},ce=function(t,e,a){var i,n,_,c,s,p,l=0,u=0,f=0;i=o[0].vs_SoilMoisture_pF()>2.5?0:1;var v=o[0].vo_AOM_Pool;if(v.forEach(function(t,e){e>0&&(f+=t.vo_DaysAfterApplication)}),f>0||t?(l=0,v.forEach(function(t,r){r>0&&(n=0,_=0,c=0,s=0,p=0,n=1e3*t.vo_AOM_NH4Content*t.vo_AOM_DryMatterContent,_=.0495*D(1.102,i)*D(1.0223,e)*D(1.0417,a)*D(1.108,t.vo_AOM_DryMatterContent)*D(.828,n)*D(11.3,Number(t.incorporation)),c=1.038*D(1.102,i)*D(.96,e)*D(.95,a)*D(1.175,t.vo_AOM_DryMatterContent)*D(1.106,n)*D(1,Number(t.incorporation))*(18869.3*y(-o[0].vs_SoilpH/.63321)+.70165),s=_*(c/D(t.vo_DaysAfterApplication+c,2)),p=s*n*(t.vo_AOM_Slow+t.vo_AOM_Fast)/1e4/1e3,l+=p)}),u=o[0].vs_SoilNH4>l?l:o[0].vs_SoilNH4,o[0].vs_SoilNH4-=u/o[0].vs_LayerThickness,ae(u,"vo_N_ActVolatilised"),ae(o[0].vs_SoilNH4,"soilColumn[0].vs_SoilNH4"),o[0].vs_SoilNH4-=u,ae(o[0].vs_SoilNH4,"soilColumn[0].vs_SoilNH4")):u=0,r&&o[0].vs_SoilNH4<0)throw new Error(o[0].vs_SoilNH4);F=u+T,v.forEach(function(e,a){a>0&&e.vo_DaysAfterApplication>0&&!t&&e.vo_DaysAfterApplication++})},se=function(){if(r&&o[0].vs_SoilNO3<0)throw new error(o[0].vs_SoilNO3);for(var t=o.vs_NumberOfOrganicLayers(),e=_.userSoilOrganicParameters.po_AmmoniaOxidationRateCoeffStandard,a=_.userSoilOrganicParameters.po_NitriteOxidationRateCoeffStandard,i=new Array(t),n=new Array(t),c=new Array(t),s=new Array(t),p=0;t>p;p++)i[p]=e*me(o[p].get_Vs_SoilTemperature())*Se(o[p].vs_SoilMoisture_pF()),c[p]=i[p]*o[p].vs_SoilNH4,n[p]=a*me(o[p].get_Vs_SoilTemperature())*Se(o[p].vs_SoilMoisture_pF())*he(o[p].vs_SoilNH4,o[p].vs_SoilpH),s[p]=n[p]*o[p].vs_SoilNH4;if(r&&o[0].vs_SoilNH4<0)throw new Error(o[0].vs_SoilNH4);if(r&&o[0].vs_SoilNO2<0)throw new Error(o[0].vs_SoilNO2);if(r&&o[0].vs_SoilNO3<0)throw new Error(o[0].vs_SoilNO3);for(var p=0;t>p;p++)o[p].vs_SoilNH4>c[p]?(o[p].vs_SoilNH4-=c[p],o[p].vs_SoilNO2+=c[p]):(o[p].vs_SoilNO2+=o[p].vs_SoilNH4,o[p].vs_SoilNH4=0),o[p].vs_SoilNO2>s[p]?(o[p].vs_SoilNO2-=s[p],o[p].vs_SoilNO3+=s[p]):(o[p].vs_SoilNO3+=o[p].vs_SoilNO2,o[p].vs_SoilNO2=0);if(r&&o[0].vs_SoilNH4<0)throw new Error(o[0].vs_SoilNH4);if(r&&o[0].vs_SoilNO2<0)throw new Error(o[0].vs_SoilNO2);if(r&&o[0].vs_SoilNO3<0)throw new Error(o[0].vs_SoilNO3)},pe=function(){var t=o.vs_NumberOfOrganicLayers(),e=new Array(t),a=_.userSoilOrganicParameters.po_SpecAnaerobDenitrification,i=_.userSoilOrganicParameters.po_TransportRateCoeff;Y=0;for(var n=0;t>n;n++)e[n]=a*H[n]*me(o[n].get_Vs_SoilTemperature()),l[n]=N(e[n]*ye(o[n].get_Vs_SoilMoisture_m3(),o[n].get_Saturation()),i*o[n].vs_SoilNO3);for(var n=0;t>n;n++)o[n].vs_SoilNO3>l[n]?o[n].vs_SoilNO3-=l[n]:(l[n]=o[n].vs_SoilNO3,o[n].vs_SoilNO3=0),Y+=l[n]*o[0].vs_LayerThickness;if(G+=Y,r&&0>Y)throw new Error(Y)},le=function(){var t=o.vs_NumberOfOrganicLayers(),e=new Array(t),a=_.userSoilOrganicParameters.po_N2OProductionRate;C=0;for(var i=0;t>i;i++)e[i]=o[i].vs_SoilNO2*me(o[i].get_Vs_SoilTemperature())*a*(1/(1+(D(10,o[i].vs_SoilpH)-Z.PO_PKAHNO2))),C+=e[i]},ue=function(){for(var t=0;t<o.vs_NumberOfOrganicLayers();t++){var e=o[t].vo_AOM_Pool;g[t]=0,u[t]=0,S[t]=0,d[t]=0,e.forEach(function(e){e.vo_AOM_Slow+=e.vo_AOM_SlowDelta,e.vo_AOM_Fast+=e.vo_AOM_FastDelta,g[t]+=e.vo_AOM_SlowDelta,u[t]+=e.vo_AOM_FastDelta,S[t]+=e.vo_AOM_Slow,d[t]+=e.vo_AOM_Fast}),o[t].vs_SOM_Slow+=E[t],o[t].vs_SOM_Fast+=L[t],o[t].vs_SMB_Slow+=x[t],o[t].vs_SMB_Fast+=b[t],h[t]=0==t?m+v+g[t]+u[t]+x[t]+b[t]+E[t]+L[t]+B:g[t]+u[t]+x[t]+b[t]+E[t]+L[t],I[t]=o[t].vs_SoilOrganicCarbon()*o[t].vs_SoilBulkDensity()-O[t],I[t]+=h[t],o[t].set_SoilOrganicCarbon((I[t]+O[t])/o[t].vs_SoilBulkDensity()),o[t].set_SoilOrganicMatter((I[t]+O[t])/Z.PO_SOM_TO_C/o[t].vs_SoilBulkDensity())}},fe=function(t,e){var a=0;if(t>=0&&e>=t)a=1-2*t;else{if(!(t>e&&1>=t))throw new Error("irregular clay content");a=1-2*e}return a},ve=function(t){var e=0;if(0>=t&&t>-40)e=0;else if(t>0&&20>=t)e=.1*t;else{if(!(t>20&&70>=t))throw new Error("irregular soil temperature fo_TempOnDecompostion (d_SoilTemperature = "+t+")");e=y(.47-.027*t+.00193*t*t)}return e},de=function(t){var e=0;if(f(t)<=1e-7)e=.6;else if(t>0&&1.5>=t)e=.6+.4*(t/1.5);else if(t>1.5&&2.5>=t)e=1;else if(t>2.5&&6.5>=t)e=1-(t-2.5)/4;else{if(!(t>6.5))throw new Error("fo_MoistOnDecompostion ( d_SoilMoisture_pF ) : irregular soil water content");e=0}return e},ge=function(t){var e=0;if(t>0&&1.1>=t)e=.72;else if(t>1.1&&2.4>=t)e=.2207*t+.4672;else if(t>2.4&&3.4>=t)e=1;else if(t>3.4&&4.6>=t)e=-.8659*t+3.9849;else if(t>4.6)e=0;else{if(t!==-1/0)throw new Error("fo_MoistOnHydrolysis ( d_SoilMoisture_pF: "+t+" ) irregular soil water content");e=0}return e},me=function(t){var e=0;if(2>=t&&t>-40)e=0;else if(t>2&&6>=t)e=.15*(t-2);else if(t>6&&20>=t)e=.1*t;else{if(!(t>20&&70>=t))throw new Error("irregular soil temperature");e=y(.47-.027*t+.00193*t*t)}return e},Se=function(t){var e=0;if(f(t)<=1e-7)e=.6;else if(t>0&&1.5>=t)e=.6+.4*(t/1.5);else if(t>1.5&&2.5>=t)e=1;else if(t>2.5&&5>=t)e=1-(t-2.5)/2.5;else{if(!(t>5))throw new Error("irregular soil water content");e=0}return e},ye=function(t,e){var a=_.userSoilOrganicParameters.po_Denit1,i=_.userSoilOrganicParameters.po_Denit2,r=_.userSoilOrganicParameters.po_Denit3,o=0;if(.8>=t/e)o=0;else if(t/e>.8&&.9>=t/e)o=a*(t/e-i)/(r-i);else{if(!(t/e>.9&&1>=t/e))throw new Error("irregular soil water content");o=a+(1-a)*(t/e-r)/(1-r)}return o},he=function(t,e){var a=_.userSoilOrganicParameters.po_Inhibitor_NH3,i=0;return i=a+t*(1-1/(1+D(10,e-Z.PO_PKANH3)))/a},Me=function(t,e){var a=0;return a=t-1e4*e},Oe=function(t,e){var a=0;return a=-t+1e4*e},Ce=function(t){return I[t]/o[t].vs_SoilBulkDensity()},Ae=function(t){return d[t]},Ne=function(t){return S[t]},De=function(t){return o[t].vs_SMB_Fast},we=function(t){return o[t].vs_SMB_Slow},Pe=function(t){return o[t].vs_SOM_Fast},Re=function(t){return o[t].vs_SOM_Slow},Fe=function(t){return h[t]},Te=function(t){return H[t]},He=function(t){return l[t]},be=function(t){return 1e4*R[t]},xe=function(){return 1e4*P},Ie=function(){return 1e4*k},Le=function(){return 1e4*G},Be=function(){return 1e4*Y},Ee=function(){return 1e4*F},Ge=function(){return 1e4*V},ke=function(){return 1e4*C},Ue=function(){return 1e4*U},Ve=function(){return 1e4*M},Ye=function(){return w},We=function(){return A},qe=function(t){q=t},Ke=function(){q=null};return{step:ee,addOrganicMatter:ie,addIrrigationWater:re,setIncorporation:function(t){W=t},put_Crop:qe,remove_Crop:Ke,get_SoilOrganicC:Ce,get_AOM_FastSum:Ae,get_AOM_SlowSum:Ne,get_SMB_Fast:De,get_SMB_Slow:we,get_SOM_Fast:Pe,get_SOM_Slow:Re,get_CBalance:Fe,get_SMB_CO2EvolutionRate:Te,get_ActDenitrificationRate:He,get_NetNMineralisationRate:be,get_NH3_Volatilised:Ee,get_SumNH3_Volatilised:Ge,get_N2O_Produced:ke,get_SumN2O_Produced:Ue,get_NetNMineralisation:xe,get_SumNetNMineralisation:Ie,get_SumDenitrification:Le,get_Denitrification:Be,get_DecomposerRespiration:Ve,get_NetEcosystemProduction:Ye,get_NetEcosystemExchange:We}},xe=function(t,e){for(var a=t,i=e,r=0,o=0,n=0,_=0,c=0,s=new Float64Array(t.vs_NumberOfLayers()+1),p=i.userEnvironmentParameters.p_timeStep,l=i.userSoilMoistureParameters.pm_HydraulicConductivityRedux,u=0,f=s.length;f>u;u++)s[u]=1;var v=function(t,e){var a=g(),i=d(),n=m(a),c=S(i,n),s=O(i,a),p=N(t,e);if(r=A(a,c,p),isNaN(r))throw r;o+=r,_=C(p,s,a),w()},d=function(){for(var t=a.vs_NumberOfLayers(),e=0,i=0;t>i;i++)e+=a[i].vs_SoilBulkDensity();return e/t/1e3},g=function(){for(var t=a.vs_NumberOfLayers(),e=0,i=0;t>i;i++)e+=a[i].get_FieldCapacity();return e/t},m=function(t){var e=13.05,a=1.06,i=100*(t+(1+e*D(t,a)*t));return i},S=function(t,e){var a=.001*(3*t-1.7)/(1+(11.5-5*t)*y(-50*D(e/t,1.5)))*86400*p*4.184/1e6*100;return a},O=function(t,e){var a=.001*(3*t-1.7)/(1+(11.5-5*t)*y(-50*D(100*e/t,1.5)))*p*4.184*100;return a},C=function(t,e,a){var i=0,o=0,n=0,c=0,s=0;return i=0>t?-1*t:t,o=0==r?0:F(2*e*i/(79e5*a/100)),n=0>t?-1*o:o,c=_+n,s=0>c?0:c},A=function(t,e,a){var i=0,o=1e5*t/100*.335;r>0&&c++;var _=.3*c/o;return 0>a&&(n-=a),i=.01>n?0:F(_/2*(_/2)+2*e*n/o)-_/2,isNaN(i)?0:i},N=function(t,e){var a=0;return a=.01>e/100?t:.01>r?t:t/(1+10*e/100/r)},w=function(){for(var t=a.vs_NumberOfLayers(),e=0;t>e;e++)if(e<M(h(r/a[e].vs_LayerThickness+.5))&&(a[e].vs_SoilFrozen=!0,s[e]=0,0==e&&(l=0)),e<M(h(_/a[e].vs_LayerThickness+.5))&&(_<(e+1)*a[e].vs_LayerThickness&&r>_?(a[e].vs_SoilFrozen=!0,s[e]=0,0==e&&(l=0)):(a[e].vs_SoilFrozen=!1,s[e]=1,0==e&&(l=.1))),_>=r){_=0,r=0,n=0,c=0,l=i.userSoilMoistureParameters.pm_HydraulicConductivityRedux;for(var e=0;t>e;e++)a[e].vs_SoilFrozen=!1,s[e]=1}},P=function(t){return s[t]};return{calcSoilFrost:v,getFrostDepth:function(){return r},getThawDepth:function(){return _},getLambdaRedux:P,getAccumulatedFrostDepth:function(){return o}}},Ie=function(t){var e=0,a=0,i=0,r=0,o=0,n=0,_=t,c=_.userSoilMoistureParameters,s=0,p=c.pm_SnowMeltTemperature,l=c.pm_SnowAccumulationTresholdTemperature,u=c.pm_TemperatureLimitForLiquidWater,f=c.pm_CorrectionRain,v=c.pm_CorrectionSnow,d=c.pm_RefreezeTemperature,g=c.pm_RefreezeParameter1,m=c.pm_RefreezeParameter2,S=c.pm_NewSnowDensityMin,y=c.pm_SnowMaxAdditionalDensity,h=c.pm_SnowPacking,M=c.pm_SnowRetentionCapacityMin,O=c.pm_SnowRetentionCapacityMax,C=function(t,o){var n=0,_=0,c=N(t,o,_,n);
o=c.net_precipitation,n=c.net_precipitation_snow,_=c.net_precipitation_water;var p=A(t),l=w(t),u=P(t,n);e=R(n,u),i=i+n-p+l,r=r+_+p-l;var f=i+r,v=F(i,f),d=0;l>0?d=0:v>=r?d=0:(d=r-v,r-=d,f=i+r),H(f),s=T(o,d,a)},A=function(t){var a=1.4*(e/.1),r=0;return a>4.7&&(a=4.7),0>=i?r=0:p>t?r=0:(r=a*(t-p),r>i&&(r=i)),r},N=function(t,e,a,i){var r=0;return r=t>=l?1:u>=t?0:(t-u)/(l-u),a=r*f*e,i=(1-r)*v*e,e=i+a,{net_precipitation:e,net_precipitation_snow:i,net_precipitation_water:a}},w=function(t){var e=0,a=0;return a=t>0?0:t,d>a?(r>0&&(e=g*D(d-a,m)),e>r&&(e=r)):e=0,e},P=function(t,e){var a=0,i=0;return 0>=e?a=0:(i=(t-u)/(l-u),i>1&&(i=1),0>i&&(i=0),a=S+y*i),a},R=function(t,i){var r=0;return 0>=a+t?r=0:(r=((1+h)*e*a+i*t)/(a+t),r>S+y&&(r=S+y)),r},F=function(t,a){var i,r;return 0>=t||0>=e?i=0:(i=O/10/e,M>i&&(i=M),i>O&&(i=O)),r=i*a},T=function(t,e,a){var i=t;return a>=.01&&(s=e),i},H=function(t){var _=1;0>=t?a=0:(a=t*_/e,a>o&&(o=a),.01>a&&(a=0)),0==a&&(e=0,i=0,r=0),n+=a};return{calcSnowLayer:C,getVm_SnowDepth:function(){return a},getWaterToInfiltrate:function(){return s},getMaxSnowDepth:function(){return o},accumulatedSnowDepth:function(){return n}}},Le=function(t,e,a,i){for(var r=t,o=e,c=a,s=i,p=t.vs_NumberOfLayers()+1,l=t.vs_NumberOfLayers(),u=0,g=new Float64Array(p),m=0,C=(new Float64Array(p),new Float64Array(p)),w=new Float64Array(p),P=new Float64Array(p),T=new Float64Array(p),b=new Float64Array(p),x=0,I=new Float64Array(p),L=0,B=0,E=(new Float64Array(p),0),G=0,k=.6,U=new Float64Array(p),V=e.vs_Latitude,Y=new Float64Array(p),W=0,q=0,K=new Float64Array(p),z=0,J=new Float64Array(p),j=6,X=(new Float64Array(p),new Float64Array(p)),Z=0,Q=new Float64Array(p),te=0,ee=0,ae=0,ie=0,re=new Float64Array(p),oe=0,ne=new Float64Array(p),_e=0,ce=null,E=0,G=0,ee=0,m=0,L=0,se=0,pe=0,le=0;p>le;le++)X[le]=.2,Y[le]=.01;$(n,"Constructor: SoilMoisture");for(var ue=new Ie(s),fe=new xe(r,s),ve=s.userSoilMoistureParameters,de=s.userEnvironmentParameters,ge=ve.pm_HydraulicConductivityRedux,me=(s.userEnvironmentParameters.p_timeStep,ve.pm_SurfaceRoughness),Se=ve.pm_GroundwaterDischarge,ye=ve.pm_MaxPercolationRate,he=de.p_LeachingDepth,Me=de.p_LayerThickness,Oe=M(h(.5+he/Me))-1,Ce=new Array(p),le=0;p>le;le++)Ce[le]=ve.pm_SaturatedHydraulicConductivity;var Ae=function(t,e,a,i,n,_,u,f,v,d){for(var g=0;l>g;g++)X[g]=r[g].get_Vs_SoilMoisture_m3(),ne[g]=0,b[g]=r[g].get_FieldCapacity(),Q[g]=r[g].get_Saturation(),K[g]=r[g].get_PermanentWiltingPoint(),Y[g]=r[g].vs_LayerThickness,U[g]=r[g].vs_Lambda;X[p-1]=r[p-2].get_Vs_SoilMoisture_m3(),ne[p-1]=0,b[p-1]=r[p-2].get_FieldCapacity(),Q[p-1]=r[p-2].get_Saturation(),Y[p-1]=r[p-2].vs_LayerThickness,U[p-1]=r[p-2].vs_Lambda,ie=r.vs_SurfaceWaterStorage;var m=!1,S=0,y=0,h=null;c.cropGrowth()?(h=c.cropGrowth(),m=!0,z=h.soilCoverage(),k=h.kcFactor(),S=h.height(),y=h.developmentalStage(),W=y>0?h.netPrecipitation():e):(m=!1,k=s.userSoilMoistureParameters.pm_KcFactor,W=e,z=0),B=l+2;for(var O=l-1,g=l-1;g>=0;g--)X[g]==Q[g]&&O==g&&(O--,B=g);B>M(t/r[0].vs_LayerThickness)&&l+2>B?B=M(t/r[0].vs_LayerThickness):B>=l+2&&(B=M(t/r[0].vs_LayerThickness)),r.vm_GroundwaterTable=B,ue.calcSnowLayer(_,W);var C=ue.getWaterToInfiltrate();fe.calcSoilFrost(_,ue.getVm_SnowDepth()),Ne(C,z,B),10>=t&&t>0?(Fe(t),Te()):(He(),be()),Le(z,k,o.vs_HeightNN,a,i,n,_,u,f,v,y,d,V),Re();for(var g=0;l>g;g++)r[g].set_Vs_SoilMoisture_m3(X[g]),r[g].vs_SoilWaterFlux=ne[g],r[g].calc_vs_SoilMoisture_pF();r.vs_SurfaceWaterStorage=ie,r.vs_FluxAtLowerBoundary=x},Ne=function(t,e,a){var i,n,c,s,p;E=0,G=0,ee=0,m=0,L=0,se=0,s=0,p=0;var l=ie;if(ie+=t,Z=(Q[0]-X[0])/Q[0],c=Ce[0]*ge,c>0?(n=.2*c*Z*Z,E=N(ie,n),E=N(E,1e3*(Q[0]-X[0])*r[0].vs_LayerThickness),E=A(0,E)):E=0,E>0&&(ie-=E),ie>10*me/(o.vs_Slope+.001)&&(i=.02+me/4+e/15,o.vs_Slope<0||o.vs_Slope>1?$(_,"Slope value out ouf boundary"):0==o.vs_Slope?ee=0:ee+=o.vs_Slope>i?ie:o.vs_Slope*i/(i*i)*ie,ie-=ee),X[0]+=E/1e3/Y[0],ne[0]=E,X[0]>b[0]){if(I[0]=1e3*(X[0]-b[0])*Y[0],p=U[0]*fe.getLambdaRedux(0),s=1+p*I[0],J[0]=I[0]*I[0]*p/s,J[0]>ye&&(J[0]=ye),I[0]=I[0]-J[0],I[0]=A(0,I[0]),X[0]=b[0]+I[0]/1e3/Y[0],1>=a&&(J[0]=0),0==a&&(J[0]=0,X[0]>Q[0]))return ee+=1e3*(X[0]-Q[0])*Y[0],void(X[0]=Q[0])}else X[0]<=b[0]&&(J[0]=0,I[0]=0);f(l+t-(ee+E+ie))>.01&&$(_,"water balance wrong!"),ne[1]=J[0],ae+=ee},De=function(t){return r[t].get_Vs_SoilMoisture_m3()},we=function(t){return C[t]},Pe=function(t){return J[t]},Re=function(){var t,e,a;if(t=ce?ce.rootingDepth():0,e=B-t,1>e&&(e=1),e*Y[0]<=2.7){for(var i=0;l>i;i++)C[i]=b[i]-K[i],g[i]=X[i]-K[i],g[i]<0&&(g[i]=0),w[i]=.7*C[i];for(var o=.01,n=.01,_=N(B,l-1),i=_;i>=0;i--){var c=r[i].vs_SoilTexture;if(n=s.capillaryRiseRates.getRate(c,e),o>n&&(o=n),g[i]<w[i]){a=o,X[i]+=a;for(var p=_;p>=i;p--)ne[p]-=a;break}}}},Fe=function(t){var e,a;L=0;for(var i=0;p-1>i;i++)B-1>i&&(X[i+1]+=J[i]/1e3/Y[i],ne[i+1]=J[i],X[i+1]>b[i+1]?(I[i+1]=1e3*(X[i+1]-b[i+1])*Y[i+1],a=U[i+1]*fe.getLambdaRedux(i+1),e=1+a*I[i+1],J[i+1]=I[i+1]*I[i+1]*a/e,I[i+1]=I[i+1]-J[i+1],I[i+1]<0&&(I[i+1]=0),X[i+1]=b[i+1]+I[i+1]/1e3/Y[i+1],X[i+1]>Q[i+1]&&(I[i+1]=1e3*(X[i+1]-Q[i+1])*Y[i+1],X[i+1]=Q[i+1],J[i+1]+=I[i+1])):(J[i+1]=0,I[i+1]=0)),i==B-1&&(B>=M(t/Y[i])?(X[i+1]+=J[i]/1e3/Y[i],J[i+1]=Se,ne[i+1]=J[i]):(X[i+1]+=(J[i]-Se)/1e3/Y[i],J[i+1]=Se,ne[i+1]=Se),X[i+1]>=Q[i+1]&&(L=1e3*(X[i+1]-Q[i+1])*Y[i+1],X[i+1]=Q[i+1],0>=L&&(L=0))),i>B-1&&(X[i+1]=Q[i+1],B>=M(t/Y[i])?(J[i+1]=J[i],ne[i]=J[i+1]):(J[i+1]=Se,ne[i]=Se));x=ne[Oe]},Te=function(){var t;if(!(B>l)){t=B,t>p-2&&(t=p-2);for(var e=t;e>=0;e--)X[e]+=L/1e3/Y[e+1],e==t?J[e]=Se:(J[e]-=L,ne[e+1]=J[e]),X[e]>Q[e]?(L=1e3*(X[e]-Q[e])*Y[e+1],X[e]=Q[e],B--,0==e&&0==B&&(ie+=L,L=0)):L=0}},He=function(){for(var t,e,a=0;p-1>a;a++)X[a+1]+=J[a]/1e3/Y[a],X[a+1]>b[a+1]?(I[a+1]=1e3*(X[a+1]-b[a+1])*Y[0],e=U[a+1]*fe.getLambdaRedux(a+1),t=1+e*I[a+1],J[a+1]=I[a+1]*I[a+1]*e/t,J[a+1]>ye&&(J[a+1]=ye),I[a+1]=I[a+1]-J[a+1],I[a+1]<0&&(I[a+1]=0),X[a+1]=b[a+1]+I[a+1]/1e3/Y[a+1]):(J[a+1]=0,I[a+1]=0),ne[a+1]=J[a],L=J[a+1];x=Oe>0&&p-1>Oe?ne[Oe]:ne[p-2]},be=function(){for(var t=p-1,e=p-1,a=0,i=0;p-1>i;i++)X[i]>Q[i]&&(t=i,e=i);if(0!=e)for(var i=t;i>=0;i--)X[i]+=a/1e3/Y[i],i>0&&(ne[i-1]-=a),X[i]>Q[i]?(a=1e3*(X[i]-Q[i])*Y[i],X[i]=Q[i],e--,0==i&&0==e&&(ie+=a,a=0)):a=0},Le=function(t,e,a,i,r,o,n,_,p,f,v,d,g){var m=0,S=0,y=0,h=0,M=0,O=0,C=0,A=0,N=0,D=!1,w=c.cropGrowth(),R=ue.getVm_SnowDepth(),F=s.userSoilMoistureParameters;if(h=F.pm_EvaporationZeta,_e=F.pm_XSACriticalSoilMoisture,M=F.pm_MaximumEvaporationImpactDepth,v>0?(j=w.referenceEvapotranspiration(),C=w.remainingEvapotranspiration(),A=w.evaporatedFromIntercept()):(j=Be(a,i,r,o,n,_,p,f,d,g),C=j*e),pe=0,se=0,C>6.5&&(C=6.5),C>0&&(ie>0&&(D=!0,C*=1.1/e,R>0?N=0:C>ie?(C-=ie,N=ie,ie=0):(ie-=C,N=C,C=0),C*=e/1.1),C>0))for(var H=0;l>H;H++)m=Ee(H,t,C),S=H>=M?0:Ge(H+1,M,h,Y[H]),y=H>0&&X[H]<X[H-1]?.1:1,O=m*S*y,v>0?(t>=0&&1>t?P[H]=(1-t)*O*C:t>=1&&(P[H]=0),R>0&&(P[H]=0),re[H]=w.transpiration(H),D&&(re[H]=t*O*C)):(P[H]=R>0?0:C*O,re[H]=0),T[H]=P[H]+re[H],X[H]-=T[H]/1e3/Y[H],X[H]<.01&&(X[H]=.01),se+=re[H],pe+=P[H];u=se+pe+A+N,ce&&ce.accumulateEvapotranspiration(u)},Be=function(t,e,a,i,r,o,n,_,c,p){var l,u,f,g,m,h,M,C,A,N,w,P,T,b,x,I,L,B,E,G,k,U,V=s.userCropParameters.pc_ReferenceAlbedo,Y=3.141592653589793;l=-23.4*S(2*Y*((c+10)/365)),u=R(l*Y/180)*R(p*Y/180),f=S(l*Y/180)*S(p*Y/180),g=12*(Y+2*d(u/f))/Y,m=12*(Y+2*d((-R(8*Y/180)+u)/f))/Y,h=12*(Y+2*d((-R(-6*Y/180)+u)/f))/Y,M=3600*(u*g+24/Y*f*F(1-u/f*(u/f))),C=650*M*y(-.14/(M/(3600*g))),A=.2*C;var W=1440/Y*8.2*(1+.033*S(2*Y*c/365)),K=v(-H(p*Y/180)*H(l*Y/180));k=W*(K*u+f*R(K))/100,N=101.3*D((293-.0065*t)/293,5.26),w=665e-6*N,P=.6108*y(17.27*e/(237.3+e)),T=.6108*y(17.27*a/(237.3+a)),b=(P+T)/2,x=0>=i?T:i*b,I=b-x,L=2503.0584*y(17.27*r/(r+237.3))/((r+237.3)*(r+237.3)),B=o*(4.87/O(67.8*n-5.42)),E=208/B,te=100,G=te/1.44;var z=(.75+2e-5*t)*k,J=_/z;J>1&&(J=1);var j=4.9e-9,X=(1-V)*_,Z=j*((D(a+273.16,4)+D(e+273.16,4))/2)*(1.35*J-.35)*(.34-.14*F(x));return q=X-Z,U=(.408*L*q+w*(900/(r+273))*B*I)/(L+w*(1+G/208*B)),0>U&&(U=0),U},Ee=function(t,e,a){var i,o,n,_,c,s=1,p=r[t].get_Vs_SoilMoisture_m3(),l=r[t].get_PermanentWiltingPoint(),u=r[t].get_FieldCapacity();return.33*l>p&&(p=.33*l),o=(p-.33*l)/(u-.33*l),o>1&&(o=1),0==s?(n=.65*u,e>0&&(a>2.5?(_=(.65*u-l)*(u-l),c=_+(1-_)/17.5*(a-2.5)):c=_e/2.5*a,n=r[t].get_FieldCapacity()*c),i=p>n?1:p>.33*l?o:0):1==s&&(i=0,i=o>.33?1-.1*(1-o)/(1-.33):o>.22?.9-.625*(.33-o)/(.33-.22):o>.2?.275-.225*(.22-o)/(.22-.2):.05-.05*(.2-o)/.2),i},Ge=function(t,e,a,i){var r,o=e/(10*i);if(f(a)<3e-4)return r=2/o-1/(o*o)*(2*t-1);var n=0,_=0;return n=O((o+a*t)/(o+a*(t-1))),_=a/(o*(a+1)),r=(n-_)/(O(a+1)-a/(a+1))},ke=function(t){if(1===arguments.length){for(var e=0,a=0,i=0,o=0;l>o;o++){i++;var n=r[o].get_Vs_SoilMoisture_m3(),_=r[o].get_FieldCapacity(),c=r[o].get_PermanentWiltingPoint();if(a+=n/(_-c),e+=r[o].vs_LayerThickness,e>=t)break}return a/i}var s=arguments[0],p=arguments[1],a=0,i=0;if(s+p>l)return-1;for(var o=s;s+p>o;o++){i++;var n=r[o].get_Vs_SoilMoisture_m3(),_=r[o].get_FieldCapacity(),c=r[o].get_PermanentWiltingPoint();a+=n/(_-c)}return a/i},Ue=function(){return ue.getVm_SnowDepth()},Ve=function(){return ue.getMaxSnowDepth()},Ye=function(){return ue.accumulatedSnowDepth()},We=function(){return fe.getAccumulatedFrostDepth()},qe=function(t){ce=t},Ke=function(){ce=null},ze=function(){return E},Je=function(){return ie},je=function(){return ee},Xe=function(){return u},Ze=function(){return pe},Qe=function(){return j},$e=function(){return z},ta=function(){return te},ea=function(){return fe.getFrostDepth()},aa=function(){return fe.getThawDepth()},ia=function(){return x},ra=function(){return ae},oa=function(){return k},na=function(){return oe};return{step:Ae,get_SnowDepth:Ue,get_SoilMoisture:De,get_CapillaryRise:we,get_PercolationRate:Pe,get_Infiltration:ze,get_SurfaceWaterStorage:Je,get_SurfaceRunOff:je,get_Evapotranspiration:Xe,get_ActualEvaporation:Ze,get_ET0:Qe,get_PercentageSoilCoverage:$e,get_StomataResistance:ta,get_FrostDepth:ea,get_ThawDepth:aa,get_GroundwaterRecharge:ia,get_SumSurfaceRunOff:ra,get_KcFactor:oa,get_TranspirationDeficit:na,getMaxSnowDepth:Ve,accumulatedSnowDepth:Ye,getAccumulatedFrostDepth:We,get_EReducer_1:Ee,put_Crop:qe,remove_Crop:Ke,fm_Infiltration:Ne,get_DeprivationFactor:Ge,fm_CapillaryRise:Re,fm_PercolationWithGroundwater:Fe,fm_GroundwaterReplenishment:Te,fm_PercolationWithoutGroundwater:He,fm_BackwaterReplenishment:be,fm_Evapotranspiration:Le,ReferenceEvapotranspiration:Be,meanWaterContent:ke}},Be=function(t,e,a){for(var i=t,r=a,o=t.vs_NumberOfLayers(),n=new Float64Array(o),_=new Float64Array(o),c=new Float64Array(o),s=new Float64Array(o),p=new Float64Array(o),l=new Float64Array(o),u=0,v=e.vq_NDeposition,d=new Float64Array(o),g=new Float64Array(o),m=new Float64Array(o),S=new Float64Array(o),h=new Float64Array(o),M=1,O=(new Float64Array(o),new Float64Array(o)),C=null,A=0;o>A;A++)s[A]=1,l[A]=.1,m[A]=.2;var N=r.userEnvironmentParameters.p_LeachingDepth,M=r.userEnvironmentParameters.p_timeStep,D=function(){for(var t=1,e=0;o>e;e++)p[e]=i[e].get_FieldCapacity(),m[e]=i[e].get_Vs_SoilMoisture_m3(),S[e]=i[e].vs_SoilNO3,l[e]=i[0].vs_LayerThickness,d[e]=C?C.nitrogenUptake(e):0,O[e]=e==o-1?i.vs_FluxAtLowerBoundary:i[e+1].vs_SoilWaterFlux,O[e]<=5&&t>=1?t=1:O[e]>5&&O[e]<=10&&t>=1?t=.5:O[e]>10&&O[e]<=15&&t>=.5?t=.25:O[e]>15&&t>=.25&&(t=.125);w(v),P();for(var a=0;1/t>a;a++)R(N,t);for(var e=0;o>e;e++)S[e]=h[e]*m[e],S[e]<0&&(S[e]=0),i[e].vs_SoilNO3=S[e]},w=function(t){var e=t/365;S[0]+=e/(1e4*i[0].vs_LayerThickness)},P=function(){for(var t=0,e=r.userCropParameters.pc_MinimumAvailableN,a=0;o>a;a++)d[a]>S[a]*l[a]-e&&(d[a]=S[a]*l[a]-e),d[a]<0&&(d[a]=0),t+=d[a],S[a]-=d[a]/l[a],h[a]=S[a]/m[a],h[a]<0;i.vq_CropNUptake=t},R=function(t,e){var a=r.userSoilTransportParameters,v=a.pq_DiffusionCoefficientStandard,d=a.pq_AD,S=a.pq_DispersionLength,C=0,A=0;u=0;for(var N=new Array(o),D=0;o>D;D++)C+=l[D],t>C-.001&&(A=D);for(var D=0;o>D;D++){var w=i[0].vs_SoilWaterFlux,P=i[D].vs_LayerThickness,R=h[D];if(0==D){var F=O[D]/1e3*e,T=h[D+1];F>=0&&w>=0?n[D]=R*F/P:F>=0&&0>w?n[D]=R*F/P:0>F&&0>w?n[D]=T*F/P:0>F&&w>=0&&(n[D]=T*F/P)}else if(o-1>D){var H=O[D-1]/1e3*e,F=O[D]/1e3*e,T=h[D+1];if(F>=0&&H>=0){var b=h[D-1];n[D]=(R*F-b*H)/P}else if(F>=0&&0>H)n[D]=(R*F-R*H)/P;else if(0>F&&0>H)n[D]=(T*F-R*H)/P;else if(0>F&&H>=0){var b=h[D-1];n[D]=(T*F-b*H)/P}}else{var H=O[D-1]/1e3*e,F=i.vs_FluxAtLowerBoundary/1e3*e;if(F>=0&&H>=0){var b=h[D-1];n[D]=(R*F-b*H)/P}else if(F>=0&&0>H)n[D]=(R*F-R*H)/P;else if(0>F&&0>H)n[D]=-(R*H)/P;else if(0>F&&H>=0){var b=h[D-1];n[D]=-(b*H)/P}}}for(var D=0;o>D;D++){var F=O[D]/1e3*e,x=i[0].vs_SoilWaterFlux/1e3*e,P=i[D].vs_LayerThickness,R=h[D];if(D==o-1?(g[D]=f(F/p[D]),N[D]=m[D]):(g[D]=f(F/(.5*(p[D]+p[D+1]))),N[D]=.5*(m[D]+m[D+1])),_[D]=v*(d*y(2*N[D]*5)/N[D])*e,0==D)s[D]=N[D]*(_[D]+S*g[D])-.5*P*f(F)+.5*M*e*f((F+x)/2)*g[D];else{var H=O[D-1]/1e3*e;s[D]=N[D]*(_[D]+S*g[D])-.5*P*f(F)+.5*M*e*f((F+H)/2)*g[D]}if(0==D){var T=h[D+1];c[D]=-s[D]*(R-T)/(P*P)}else if(o-1>D){var b=h[D-1],T=h[D+1];c[D]=s[D-1]*(b-R)/(P*P)-s[D]*(R-T)/(P*P)}else{var b=h[D-1];c[D]=s[D-1]*(b-R)/(P*P)}}for(var D=0;o>D;D++)h[D]+=(c[D]-n[D])/m[D];if(O[A]>0){var P=i[A].vs_LayerThickness,R=h[A];if(o-1>A){var I=O[A+1]/1e3*e,T=h[A+1];u+=I*R/P*1e4*P+s[A]*(R-T)/(P*P)*1e4*P}else{var I=i.vs_FluxAtLowerBoundary/1e3*e;u+=I*R/P*1e4*P}}else{var I=O[A]/1e3*e,P=i[A].vs_LayerThickness,R=h[A];if(o-1>A){var T=h[A+1];u+=I*T/(1e4*P*P)+s[A]*(R-T)/(P*P*1e4*P)}}},F=function(t){return S[t]},T=function(){return u},H=function(t){C=t},b=function(){C=null};return{step:D,fq_NDeposition:w,fq_NUptake:P,fq_NTransport:R,put_Crop:H,remove_Crop:b,get_SoilNO3:F,get_NLeaching:T}},Ee=function(t,e,a){for(var i=e,r=a,o=new Te,_=new Te,c={sc:t,gl:o,bl:_,vs_nols:t.vs_NumberOfLayers(),at:function(t){return t<this.vs_nols?this[t]:t<this.vs_nols+1?this.gl:this.bl}},s=0;s<t.vs_NumberOfLayers();s++)c[s]=t[s];c[t.vs_NumberOfLayers()]=c.gl,c[t.vs_NumberOfLayers()+1]=c.bl;for(var p=t.vs_NumberOfLayers()+2,l=t.vs_NumberOfLayers(),u=new Array(p),f=new Array(p),v=new Array(p),d=new Array(p),g=new Array(p),m=new Array(p),S=new Array(p),h=new Array(p+1),M=new Array(p),O=new Array(p),C=new Array(p),A=.8,N=0,s=0;p>s;s++)u[s]=0,f[s]=0,v[s]=0,d[s]=0,g[s]=0,m[s]=0,S[s]=0,h[s]=0,M[s]=0,O[s]=0,C[s]=0;S[s+1]=0,$(n,"Constructor: SoilTemperature");for(var w=a.userSoilTemperatureParameters,P=w.pt_BaseTemperature,R=w.pt_InitialSurfaceTemperature,F=w.pt_NTau,T=r.userEnvironmentParameters.p_timeStep,H=w.pt_QuartzRawDensity,b=w.pt_SpecificHeatCapacityWater,x=w.pt_SpecificHeatCapacityQuartz,I=w.pt_SpecificHeatCapacityAir,L=w.pt_SpecificHeatCapacityHumus,B=w.pt_DensityWater,E=w.pt_DensityAir,G=w.pt_DensityHumus,k=w.pt_SoilMoisture,U=0;l>U;U++)f[U]=(1-U/l)*R+U/l*P,u[U]=k;v[0]=c[0].vs_LayerThickness,m[0]=2/c[0].vs_LayerThickness;var V=p-2,Y=p-1;c[V].vs_LayerThickness=2*c[V-1].vs_LayerThickness,c[Y].vs_LayerThickness=1,f[V]=.5*(f[V-1]+P),f[Y]=P;for(var W=c[0].vs_LayerThickness,U=1;p>U;U++){var q=c[U].vs_LayerThickness;m[U]=2/(q+W),v[U]=q*F,W=q}for(var U=0;l>U;U++){var K=c.at(U).vs_SoilBulkDensity(),z=u[U];M[U]=.001*(3*(K/1e3)-1.7)/(1+(11.5-5*(K/1e3))*y(-50*D(z/(K/1e3),1.5)))*86400*T*100*4.184;var J=b,j=x,X=I,Z=L,Q=B,te=H,ee=E,ae=G,ie=c[U].get_Saturation(),re=c.at(U).vs_SoilOrganicMatter()/ee*K;C[U]=z*Q*J+(ie-z)*ee*X+re*ae*Z+(1-ie-re)*te*j}C[V]=C[V-1],C[Y]=C[V],M[V]=M[V-1],M[Y]=M[V];var oe=R;O[0]=M[0];for(var U=1;p>U;U++){var ne=c.at(U-1).vs_LayerThickness,_e=c.at(U).vs_LayerThickness,ce=M[U-1],se=M[U];O[U]=(ne*ce+_e*se)/(_e+ne)}for(var U=0;p>U;U++)d[U]=v[U]*C[U],g[U]=d[U],h[U]=-m[U]*O[U];h[Y+1]=0;for(var U=0;p>U;U++)S[U]=d[U]-h[U]-h[U+1];var pe=function(t,e,a){for(var i=p-2,r=p-1,o=new Array(p),n=new Array(p),_=new Array(p),s=0;p>s;s++)o[s]=0,n[s]=0,_[s]=0;N=le(t,e,a)*m[0]*O[0],o[0]=(g[0]+(d[0]-g[0])/c[0].vs_LayerThickness)*f[0]+N;for(var u=1;p>u;u++)o[u]=(g[u]+(d[u]-g[u])/c[u].vs_LayerThickness)*f[u];n[0]=S[0];for(var u=1;p>u;u++)_[u]=h[u]/n[u-1],n[u]=S[u]-_[u]*h[u];for(var u=1;p>u;u++)o[u]=o[u]-_[u]*o[u-1];o[r]=o[r]/n[r];for(var u=0;r>u;u++){var v=r-1-u,y=v+1;o[v]=o[v]/n[v]-_[y]*o[y]}for(var u=0;p>u;u++)f[u]=o[u];for(var u=0;l>u;u++)g[u]=d[u],c[u].set_Vs_SoilTemperature(f[u]);g[i]=d[i],g[r]=d[r]},le=function(t,e,a){var r=A,o=0;i.cropGrowth()&&(o=i.cropGrowth().soilCoverage()),r=.1+(o*A+(1-o)*(1-A));var n=oe;return 8.33>a&&(a=8.33),oe=(1-r)*(t+(e-t)*D(.03*a,.5))+r*n,0>oe&&(oe=.5*oe),oe},ue=function(){return oe},fe=function(t){return c[t].get_Vs_SoilTemperature()},ve=function(t){return M[t]},de=function(t){0===arguments.length&&(t=.3);for(var e=0,a=0,i=0,r=0;l>r&&(i++,a+=c[r].get_Vs_SoilTemperature(),e+=c[r].vs_LayerThickness,!(e>=t));r++);return 1>i?0:a/i};return{step:pe,f_SoilSurfaceTemperature:le,get_SoilSurfaceTemperature:ue,get_SoilTemperature:fe,get_HeatConductivity:ve,get_AvgTopSoilTemperature:de,getDampingFactor:function(){return A},setDampingFactor:function(t){A=t}}},Ge=function(t,e,a,s){function p(t,e,a){return t.hasOwnProperty(e)&&null!=t[e]?t[e]:a}function l(t,e,a,i){var r=!0,o=e.length,s=0;$(n,"Fetching "+o+" horizons.");for(var l=0;o>l;++l){var u=e[l],f=100*u.thickness,v=M(w(f/a));l==o-1&&M(t.length)+v<i&&(v+=i-t.length-v);for(var d=0;v>d;d++){if(s===i*a){$(_,"Maximum soil layer depth ("+i*a+" cm) reached. Remaining layers in horizon "+l+" ignored.");break}s+=a;var g=new ce;if(g.set_vs_SoilOrganicMatter(u.organicMatter),g.vs_SoilSandContent=u.sand,g.vs_SoilClayContent=u.clay,g.vs_SoilStoneContent=u.sceleton,g.vs_SoilpH=u.pH,g.vs_SoilTexture=ie.texture2KA5(u.sand,u.clay),g.vs_Lambda=ie.texture2lambda(g.vs_SoilSandContent,g.vs_SoilClayContent),g.vs_SoilpH=p(u,"pH",6.9),u.hasOwnProperty("poreVolume")&&null!=u.poreVolume&&u.hasOwnProperty("fieldCapacity")&&null!=u.fieldCapacity&&u.hasOwnProperty("permanentWiltingPoint")&&null!=u.permanentWiltingPoint&&u.hasOwnProperty("bulkDensity")&&null!=u.bulkDensity)g.set_vs_SoilBulkDensity(u.bulkDensity),g.vs_FieldCapacity=u.fieldCapacity,g.vs_Saturation=u.poreVolume-u.fieldCapacity,g.vs_PermanentWiltingPoint=u.permanentWiltingPoint;else{var m=ie.saxton(u.sand,u.clay,u.organicMatter,u.sceleton).saxton_86;g.set_vs_SoilBulkDensity(P(2,m.BD)),g.vs_FieldCapacity=P(2,m.FC),g.vs_Saturation=P(2,m.SAT),g.vs_PermanentWiltingPoint=P(2,m.PWP)}g.isValid()||(r=!1,$(c,"Error in soil parameters.")),t.push(g),$(n,"Fetched layer "+t.length+" in horizon "+l+".")}$(n,"Fetched horizon "+l+".")}return r}function u(t,e,a){var i=!0,r=e.crops,o=r.length;$(n,"Fetching "+o+" crops.");for(var _=0;o>_;_++){{var s=r[_],l="grassland"===s.model;l&&1===o&&(null===s.sowingDate||void 0===s.sowingDate)}if(l){var u=p(s,"sowingDate",new Date(new Date(a).setDate(a.getDate()+1))),g=p(s,"harvestDates",[]);ae(u),ae(a)}else{var u=new Date(Date.parse(s.sowingDate)),m=new Date(Date.parse(s.finalHarvestDate));u.isValid()&&m.isValid()||(i=!1,$(c,"Invalid sowing or harvest date in "+s.species[0].name))}if(l){var S=new De(u,g,s.plantDryWeight,s.species);t[_]=new Oe("grassland",S)}else{var y=new Ae(s.species[0].name);y.setSeedAndHarvestDate(u,m),t[_]=new Oe(s.species[0].name,y)}var h=s.tillageOperations;h&&(f(t[_],h)||(i=!1,$(c,"Error adding tillages.")));var M=s.mineralFertilisers;M&&(v(t[_],M,!1)||(i=!1,$(c,"Error adding mineral fertilisers.")));var O=s.organicFertilisers;O&&(v(t[_],O,!0)||(i=!1,$(c,"Error adding organic fertilisers.")));var C=s.irrigations;C&&(d(t[_],C)||(i=!1,$(c,"Error adding irrigations.")));var A=s.cuttings;A&&(addCuttings(t[_],A)||(i=!1,$(c,"Error adding cuttings."))),$(n,"Fetched crop "+_+": "+JSON.stringify(s.species,null,2))}return i}function f(t,e){var a=!0,i=e.length;$(n,"Fetching "+i+" tillages.");for(var r=0;i>r;++r){var o=e[r];if(null!==o.date&&null!==o.depth&&null!==o.method){{var s=new Date(Date.parse(o.date)),p=o.depth/100;o.method}s.isValid()||(a=!1,$(c,"Invalid tillage date in tillage no. "+r+".")),t.addApplication(new he(s,p)),$(n,"Fetched tillage "+r+".")}else $(_,"At least one tillage parameter null: tillage "+r+" ignored.")}return a}function v(t,e,a){var i=!0,r=e.length;$(n,"Fetching "+r+" "+(a?"organic":"mineral")+" fertilisers.");for(var o=0;r>o;++o){var s=e[o];if(null!==s.date&&null!==s.method&&null!==s.amount){var p=new Date(Date.parse(s.date)),l=(s.method,s.name),u=s.amount,f=s.carbamid,v=s.no3,d=s.nh4,g=s.dm;p.isValid()||(i=!1,$(c,"Invalid fertilization date in "+o+".")),t.addApplication(a?new ye(p,new fe(l,f,v,d,g),u,!0):new Se(p,new ue(l,f,v,d),u)),$(n,"Fetched "+(a?"organic":"mineral")+" fertiliser "+o+".")}else $(_,"At least one fertiliser parameter null: "+(a?"organic":"mineral")+" fertiliser "+o+"ignored.")}return i}function d(t,e){var a=!0,i=e.length;$(n,"Fetching "+i+" irrigations.");for(var r=0;i>r;++r){var o=e[r];if(null!==o.date&&null!==o.method&&null!==o.eventType&&null!==o.threshold&&null!==o.amount&&null!==o.NConc){var s=(o.method,o.eventType,o.threshold,o.area,o.amount),p=o.NConc,l=new Date(Date.parse(o.date));l.isValid()||(a=!1,$(c,"Invalid irrigation date in "+r+".")),t.addApplication(new Me(l,s,new re(p,0))),$(n,"Fetched irrigation "+r+".")}else $(_,"At least one irrigation parameter null: irrigation "+r+" ignored.")}return a}function g(t,e){var a=!0,i=[];i[Q.TMIN]=new Float64Array(e.tmin),i[Q.TMAX]=new Float64Array(e.tmax),i[Q.TAVG]=new Float64Array(e.tavg),i[Q.GLOBRAD]=new Float64Array(e.globrad),i[Q.WIND]=new Float64Array(e.wind),i[Q.PRECIP]=new Float64Array(e.precip),i[Q.DAYLENGTH]=new Float64Array(e.daylength),i[Q.F_DIRECTRAD]=new Float64Array(e.f_directrad),i[Q.EXRAD]=new Float64Array(e.exrad),i[Q.SUNHOURS]=new Float64Array(e.sunhours),i[Q.RELHUMID]=new Float64Array(e.relhumid),i[Q.DOY]=e.doy,i[Q.ISODATESTRING]=e.date;var r=i[Q.TMIN].length;for(var o in Q)i[Q[o]].length!=r&&(a=!1);return a&&t.setData(i),a}function m(t,e,a,r){var o=[],_=null,c=null;if(!r)for(var s=0;y>s;s++){c=a[s];var p=c.isCropPlanted(),l=c.cropGrowth(),u=c.soilTemperature(),f=c.soilMoisture(),v=(c.soilOrganic(),c.soilColumn()),d=c.soilColumnNC(),g=c.soilTransport();_={date:{value:e,unit:"[date]"},CropName:{value:p?l.name():"",unit:"-"},WaterStress:{value:p?l.waterStress():0,unit:"[0;1]"},Transpiration:{value:p?l.transpiration():0,unit:"[mm]"},NitrogenStress:{value:p?l.nitrogenStress():0,unit:"[0;1]"},HeatStress:{value:p?l.heatStress():0,unit:"[0;1]"},OxygenStress:{value:p?l.oxygenStress():0,unit:"[0;1]"},DevelopmentalStage:{value:p?l.developmentalStage()+1:0,unit:"[#]"},CurrentTemperatureSum:{value:p?l.currentTemperatureSum():0,unit:"°C"},GrowthIncrementRoot:{value:p?l.growthIncrement(0):0,unit:"[kg (DM) ha-1]"},GrowthIncrementLeaf:{value:p?l.growthIncrement(1):0,unit:"[kg (DM) ha-1]"},GrowthIncrementShoot:{value:p?l.growthIncrement(2):0,unit:"[kg (DM) ha-1]"},GrowthIncrementFruit:{value:p?l.growthIncrement(3):0,unit:"[kg (DM) ha-1]"},RelativeTotalDevelopment:{value:p?l.relativeTotalDevelopment():0,unit:"[0;1]"},BiomassRoot:{value:p?l.biomass(0):0,unit:"[kg (DM) ha-1]"},BiomassLeaf:{value:p?l.biomass(1):0,unit:"[kg (DM) ha-1]"},BiomassShoot:{value:p?l.biomass(2):0,unit:"[kg (DM) ha-1]"},BiomassFruit:{value:p?l.biomass(3):0,unit:"[kg (DM) ha-1]"},PrimaryYieldDryMatter:{value:p?l.primaryYield():0,unit:"[kg (DM) ha-1]"},LeafAreaIndex:{value:p?l.leafAreaIndex():0,unit:"[m-2 m-2]"},NetPhotosynthesis:{value:p?l.netPhotosynthate():0,unit:"[kg (CH2O) ha-1 d-1]"},StomataResistance:{value:p?l.stomataResistance():0,unit:"[s m-1]"},CropHeight:{value:p?l.height():0,unit:"[m]"},RootingDepth:{value:p?l.rootingDepth():0,unit:"[layer #]"},ShootBiomass:{value:p?l.shootBiomass():0,unit:"[kg ha-1]"},AccumulatedNitrogenUptake:{value:p?l.accumulatedNitrogenUptake():0,unit:"[kg (N) m-2]"},NitrogenUptake:{value:p?l.nitrogenUptake():0,unit:"[kg (N)  m-2]"},PotentialNitrogenUptake:{value:p?l.potentialNitrogenUptake():0,unit:"[kg (N)  m-2]"},ShootBiomassNitrogenConcentration:{value:p?l.shootBiomassNitrogenConcentration():0,unit:"[kg (N) kg-1 (DM)]"},NetPrimaryProduction:{value:p?l.netPrimaryProduction():0,unit:"[kg (N) ha-1]"}};for(var m=20,S=0;m>S;S++)_["SoilMoisture_"+S]={value:f.get_SoilMoisture(S),unit:"[m-3 m-3]"};_.dailySumIrrigationWater={value:c.dailySumIrrigationWater(),unit:"[mm]"},_.Infiltration={value:f.get_Infiltration(),unit:"[mm]"},_.SurfaceWaterStorage={value:f.get_SurfaceWaterStorage(),unit:"[mm]"},_.SurfaceRunOff={value:f.get_SurfaceRunOff(),unit:"[mm]"},_.SnowDepth={value:f.get_SnowDepth(),unit:"[mm]"},_.FrostDepth={value:f.get_FrostDepth(),unit:"[mm]"},_.ThawDepth={value:f.get_ThawDepth(),unit:"[mm]"};for(var S=0;m>S;S++)_["PASW_"+S]={value:f.get_SoilMoisture(S)-d[S].get_PermanentWiltingPoint(),unit:"[m-3 m-3]"};_.SoilSurfaceTemperature={value:u.get_SoilSurfaceTemperature(),unit:"[°C]"};for(var S=0;5>S;S++)_["SoilTemperature_"+S]={value:u.get_SoilTemperature(S),unit:"[°C]"};_.ActualEvaporation={value:f.get_ActualEvaporation(),unit:"[mm]"},_.Evapotranspiration={value:f.get_Evapotranspiration(),unit:"[mm]"},_.ET0={value:f.get_ET0(),unit:"[mm]"},_.KcFactor={value:f.get_KcFactor(),unit:"[?]"},_.AtmosphericCO2Concentration={value:c.get_AtmosphericCO2Concentration(),unit:"[ppm]"},_.GroundwaterDepth={value:c.get_GroundwaterDepth(),unit:"[m]"},_.GroundwaterRecharge={value:f.get_GroundwaterRecharge(),unit:"[mm]"},_.NLeaching={value:g.get_NLeaching(),unit:"[kg (N) ha-1]"};for(var S=0;m>S;S++)_["SoilNO3_"+S]={value:v.soilLayer(S).get_SoilNO3(),unit:"[kg (N) m-3]"};_.SoilCarbamid={value:v.soilLayer(0).get_SoilCarbamid(),unit:"[kg (N) m-3]"};for(var S=0;m>S;S++)_["SoilNH4_"+S]={value:v.soilLayer(S).get_SoilNH4(),unit:"[kg (N) m-3]"};for(var S=0;4>S;S++)_["SoilNO2_"+S]={value:v.soilLayer(S).get_SoilNO2(),unit:"[kg (N) m-3]"};for(var S=0;6>S;S++)_["SoilOrganicCarbon_"+S]={value:v.soilLayer(S).vs_SoilOrganicCarbon(),unit:"[kg (C) kg-1]"};o.push(_)}i?postMessage({results:o}):console.log(JSON.stringify(o,null,2)),r&&$(n,"done")}r=e===!0?!0:!1,o=a===!0?!0:!1,"function"==typeof s?s=[s]:Array.isArray(s)&&0!==s.length||(s=[m]);var S=null,y=0,h=function(e,a){var i=new Date(e.time.startDate),r=new Date(e.time.endDate),o=new Ce(i,r);if(!g(o,t,Date.parse(e.time.startDate),Date.parse(e.time.endDate)))return void $(c,"Error fetching weather data.");$(n,"Fetched weather data."),S=new Re(o),Array.isArray(a)||(a=[a]),y=a.length;for(var _=0,f=a.length;f>_;_++){$(n,"Fetching parameter for site "+_);{var v=a[_].site,d=a[_].production,m=new se,h=new _e,O=new ne;i.getFullYear(),r.getFullYear()}m.userInitValues.p_initPercentageFC=p(e.init,"percentageFC",m.userInitValues.p_initPercentageFC),m.userInitValues.p_initSoilNitrate=p(e.init,"soilNitrate",m.userInitValues.p_initSoilNitrate),m.userInitValues.p_initSoilAmmonium=p(e.init,"soilAmmonium",m.userInitValues.p_initSoilAmmonium),m.userEnvironmentParameters.p_UseSecondaryYields=p(e.switches,"useSecondaryYieldOn",m.userEnvironmentParameters.p_UseSecondaryYields),O.pc_NitrogenResponseOn=p(e.switches,"nitrogenResponseOn",O.pc_NitrogenResponseOn),O.pc_WaterDeficitResponseOn=p(e.switches,"waterDeficitResponseOn",O.pc_WaterDeficitResponseOn),O.pc_WaterDeficitResponseOn=p(e.switches,"lowTemperatureStressResponseOn",O.pc_LowTemperatureStressResponseOn),O.pc_WaterDeficitResponseOn=p(e.switches,"highTemperatureStressResponseOn",O.pc_HighTemperatureStressResponseOn),O.pc_EmergenceMoistureControlOn=p(e.switches,"emergenceMoistureControlOn",O.pc_EmergenceMoistureControlOn),O.pc_EmergenceFloodingControlOn=p(e.switches,"emergenceFloodingControlOn",O.pc_EmergenceFloodingControlOn),$(n,"Fetched simulation data."),h.vs_Latitude=v.latitude,h.vs_Slope=v.slope,h.vs_HeightNN=v.heightNN,h.vq_NDeposition=p(v,"NDeposition",h.vq_NDeposition),m.userEnvironmentParameters.p_AthmosphericCO2=p(v,"atmosphericCO2",m.userEnvironmentParameters.p_AthmosphericCO2),m.userEnvironmentParameters.p_MinGroundwaterDepth=p(v,"groundwaterDepthMin",m.userEnvironmentParameters.p_MinGroundwaterDepth),m.userEnvironmentParameters.p_MaxGroundwaterDepth=p(v,"groundwaterDepthMax",m.userEnvironmentParameters.p_MaxGroundwaterDepth),m.userEnvironmentParameters.p_MinGroundwaterDepthMonth=p(v,"groundwaterDepthMinMonth",m.userEnvironmentParameters.p_MinGroundwaterDepthMonth),m.userEnvironmentParameters.p_WindSpeedHeight=p(v,"windSpeedHeight",m.userEnvironmentParameters.p_WindSpeedHeight),m.userEnvironmentParameters.p_LeachingDepth=p(v,"leachingDepth",m.userEnvironmentParameters.p_LeachingDepth),$(n,"Fetched site data.");var C=100*m.userEnvironmentParameters.p_LayerThickness,A=200,N=M(A/C),D=[];if(!l(D,v.horizons,C,N))return void $(c,"Error fetching soil data.");$(n,"Fetched soil data.");var w=[];if(!u(w,d,i))return void $(c,"Error fetching crop data.");$(n,"Fetched crop data.");var P=new Pe(D,m);P.general=O,P.site=h,P.cropRotation=w,S.push(new Fe(P))}return $(n,"Start model run."),S.run(s)};return{run:h}};if(a){var ke=require("fs");exports.Configuration=Ge,exports.config=e}else if(i){crop.Configuration=Ge,crop.config=e;var ke=null;onmessage=function(t){if(t.data.hasOwnProperty("run")){var e=t.data.run,a=new Ge(null,e.weather,e.debug,callbacks);postMessage(a.run(e.sim,e.siteAndProd))}else postMessage(null)}}else{crop.Configuration=Ge,crop.config=e;var ke=null}}();